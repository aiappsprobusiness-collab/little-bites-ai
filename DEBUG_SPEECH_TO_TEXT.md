# Отладка Speech-to-Text

## Что проверить, если не работает

### 1. Откройте консоль браузера (F12)

Проверьте сообщения в консоли при нажатии на микрофон:
- `Starting speech recognition...` - начало процесса
- `Available methods: [...]` - доступные методы
- `Checking microphone permission...` - проверка разрешений
- `Has permission: true/false` - результат проверки
- `Creating speech recognition service...` - создание сервиса
- `Initializing speech recognition...` - инициализация
- `Speech recognition started successfully` - успешный запуск

### 2. Типичные проблемы

#### "Не поддерживается"
- **Причина**: Браузер не поддерживает Web Speech API
- **Решение**: Используйте Chrome, Edge или Safari

#### "Доступ запрещен"
- **Причина**: Браузер заблокировал доступ к микрофону
- **Решение**: 
  1. Нажмите на иконку замка в адресной строке
  2. Разрешите доступ к микрофону
  3. Обновите страницу

#### "Проблема с сетью"
- **Причина**: Web Speech API требует доступ к серверам Google
- **Решение**: 
  - Проверьте интернет-соединение
  - Используйте VPN если доступ к Google заблокирован
  - Или введите текст вручную

#### "Микрофон не найден"
- **Причина**: Микрофон не подключен или не работает
- **Решение**: 
  - Проверьте подключение микрофона
  - Проверьте настройки системы
  - Убедитесь, что микрофон работает в других приложениях

### 3. Проверка в коде

Откройте `src/components/chat/ChatInputPanel.tsx` и проверьте:
- Импорты корректны
- Нет ошибок TypeScript
- Сервис создается правильно

### 4. Альтернативное решение

Если Web Speech API не работает, можно:
1. Ввести текст вручную
2. Использовать Android Native (если на Android устройстве)
3. Настроить Vosk для офлайн режима

## Быстрая проверка

1. Откройте приложение в **Chrome**
2. Перейдите в чат
3. Откройте консоль (F12)
4. Нажмите кнопку микрофона
5. Проверьте сообщения в консоли
6. Разрешите доступ к микрофону (если запрошено)
7. Говорите на русском языке

## Если ничего не помогает

1. Проверьте, что сервер запущен: `npm run dev`
2. Проверьте, что нет ошибок в консоли
3. Попробуйте в другом браузере
4. Проверьте настройки браузера для микрофона
5. Перезапустите браузер
