{
  "request": {
    "type": "week",
    "member_id": null,
    "member_data": null,
    "start_key": "2026-02-16",
    "debug_pool": true,
    "timeoutSec": 420,
    "upgrade": true
  },
  "job": {
    "status": "done",
    "replacedCount": 28,
    "unchangedCount": 0,
    "totalSlots": 28,
    "started_at": "2026-02-16T01:35:24.468Z",
    "finished_at": "2026-02-16T01:35:36.812Z"
  },
  "mealPlansSnapshot": [
    {
      "planned_date": "2026-02-16",
      "meals": {
        "lunch": {
          "title": "Суп-пюре из шпината и картофеля с фрикадельками из индейки",
          "recipe_id": "79826502-c77c-4ce0-a930-69fcd9e53e3a",
          "plan_source": "pool"
        },
        "snack": {
          "title": "Яблочное пюре с печеньем",
          "recipe_id": "b464ac6b-4937-4771-b695-c27776f38084",
          "plan_source": "pool"
        },
        "dinner": {
          "title": "Тефтели из индейки с рисом и томатным соусом",
          "recipe_id": "c8dea1a5-d5d8-42c3-afca-0f182912b4a1",
          "plan_source": "pool"
        }
      }
    },
    {
      "planned_date": "2026-02-19",
      "meals": {
        "lunch": {
          "title": "Суп-пюре из брокколи с картофелем и курицей",
          "recipe_id": "af9cd537-912b-4bc9-84ac-34c7a5e836d9",
          "plan_source": "pool"
        },
        "dinner": {
          "title": "Куриные фрикадельки с рисом и зеленым горошком",
          "recipe_id": "25317da2-b028-4ca3-aec4-954971d5aff3",
          "plan_source": "pool"
        }
      }
    },
    {
      "planned_date": "2026-02-17",
      "meals": {
        "lunch": {
          "title": "Суп-пюре из тыквы с курицей",
          "recipe_id": "afe61890-8771-41b7-810e-a6f2c31ad696",
          "plan_source": "pool"
        },
        "dinner": {
          "title": "Тефтели из индейки с рисом и кабачком",
          "recipe_id": "49f02b9d-fe5e-4699-82fb-7f556b2bb49e",
          "plan_source": "pool"
        }
      }
    },
    {
      "planned_date": "2026-02-20",
      "meals": {
        "lunch": {
          "title": "Суп-пюре из тыквы и чечевицы",
          "recipe_id": "ad33a3e6-8e67-4e4f-97e0-c98ea715f1e7",
          "plan_source": "pool"
        }
      }
    },
    {
      "planned_date": "2026-02-18",
      "meals": {
        "lunch": {
          "title": "Суп-пюре из брокколи и картофеля с индейкой",
          "recipe_id": "54600cc9-b5e5-477a-bdfb-6b42bfc7649d",
          "plan_source": "pool"
        },
        "dinner": {
          "title": "Тефтели из говядины с рисом и томатным соусом",
          "recipe_id": "fb7d7710-2ba7-43be-b03a-6cf0efb169c7",
          "plan_source": "pool"
        }
      }
    },
    {
      "planned_date": "2026-02-21",
      "meals": {
        "lunch": {
          "title": "Куриный суп с овощами и рисом",
          "recipe_id": "e38b2ed3-a609-4c79-bf4c-126632b7e553",
          "plan_source": "pool"
        }
      }
    },
    {
      "planned_date": "2026-02-15",
      "meals": {
        "lunch": {
          "title": "Индейка с гречкой и морковью",
          "recipe_id": "acd32c4c-04cc-496e-b28e-92373f526d1e"
        },
        "snack": {
          "title": "Творог с грушей и орехами",
          "recipe_id": "a58f1302-bc74-44cc-91d2-fc8f379098ae"
        },
        "dinner": {
          "title": "Овощное рагу с нутом",
          "recipe_id": "b60ef2fc-67b5-4c08-b747-0f2a95093cbb"
        },
        "breakfast": {
          "title": "Омлет с цукини и сыром",
          "recipe_id": "3d4497cf-8130-4f47-82e6-65d935742323"
        }
      }
    }
  ],
  "logs": {
    "candidates_snapshot": [
      {
        "event_message": "[POOL DEBUG] candidates_snapshot {\n  slotType: \"breakfast\",\n  memberId: \"null\",\n  usedTitleKeysCount: 15,\n  proteinCounts: {},\n  top5: [\n    {\n      id: \"178e9ad9-1d02-46bb-bdb0-84fe0d9cc2ae\",\n      title: \"Творожные кексы с грушей\",\n      meal_type_raw: \"breakfast\",\n      meal_type_norm_raw: \"breakfast\",\n      meal_type_resolved: \"breakfast\",\n      meal_type_wasInferred: false,\n      proteinKey: \"dairy\",\n      baseScore: 4,\n      diversityPenalty: 0,\n      finalScore: 4,\n      proteinCountBefore: 0,\n      source: \"week_ai\",\n      hasSteps: true,\n      ingredientsCount: 5,\n      flags: {\n        isSoupLike: false,\n        isSnackLike: false,\n        isBreakfastLike: false,\n        sanityRejected: false,\n        allergyHit: false\n      }\n    },\n    {\n      id: \"4bce887f-6d0b-4d3e-a2c7-ca5cf217ee29\",\n      title: \"Творожные панкейки с бананом\",\n      meal_type_raw: \"breakfast\",\n      meal_type_norm_raw: \"breakfast\",\n      meal_type_resolved: \"breakfast\",\n      meal_type_wasInferred: false,\n      proteinKey: \"dairy\",\n      baseScore: 4,\n      diversityPenalty: 0,\n      finalScore: 4,\n      proteinCountBefore: 0,\n      source: \"week_ai\",\n      hasSteps: true,\n      ingredientsCount: 5,\n      flags: {\n        isSoupLike: false,\n        isSnackLike: false,\n        isBreakfastLike: false,\n        sanityRejected: false,\n        allergyHit: false\n      }\n    },\n    {\n      id: \"54608df4-7d54-407f-be8e-82acf424bd29\",\n      title: \"Творожные оладьи с ягодами\",\n      meal_type_raw: \"breakfast\",\n      meal_type_norm_raw: \"breakfast\",\n      meal_type_resolved: \"breakfast\",\n      meal_type_wasInferred: false,\n      proteinKey: \"dairy\",\n      baseScore: 4,\n      diversityPenalty: 0,\n      finalScore: 4,\n      proteinCountBefore: 0,\n      source: \"week_ai\",\n      hasSteps: true,\n      ingredientsCount: 5,\n      flags: {\n        isSoupLike: false,\n        isSnackLike: false,\n        isBreakfastLike: true,\n        sanityRejected: false,\n        allergyHit: false\n      }\n    },\n    {\n      id: \"901c0766-2bc3-4f79-8959-891fcdcf6287\",\n      title: \"Творожная запеканка с яблоком и изюмом\",\n      meal_type_raw: \"breakfast\",\n      meal_type_norm_raw: \"breakfast\",\n      meal_type_resolved: \"breakfast\",\n      meal_type_wasInferred: false,\n      proteinKey: \"dairy\",\n      baseScore: 4,\n      diversityPenalty: 0,\n      finalScore: 4,\n      proteinCountBefore: 0,\n      source: \"week_ai\",\n      hasSteps: true,\n      ingredientsCount: 5,\n      flags: {\n        isSoupLike: false,\n        isSnackLike: false,\n        isBreakfastLike: true,\n        sanityRejected: false,\n        allergyHit: false\n      }\n    },\n    {\n      id: \"e067be83-1e1e-4ed7-8b68-24cf766a87d8\",\n      title: \"Омлет с брокколи и сыром\",\n      meal_type_raw: \"breakfast\",\n      meal_type_norm_raw: \"breakfast\",\n      meal_type_resolved: \"breakfast\",\n      meal_type_wasInferred: false,\n      proteinKey: \"dairy\",\n      baseScore: 4,\n      diversityPenalty: 0,\n      finalScore: 4,\n      proteinCountBefore: 0,\n      source: \"week_ai\",\n      hasSteps: true,\n      ingredientsCount: 5,\n      flags: {\n        isSoupLike: false,\n        isSnackLike: false,\n        isBreakfastLike: false,\n        sanityRejected: false,\n        allergyHit: false\n      }\n    }\n  ]\n}\n",
        "metadata": [
          {
            "boot_time": null,
            "cpu_time_used": null,
            "deployment_id": "hidgiyyunigqazssnydm_68d27ef6-8413-4eb9-8105-2cfc2b1290c9_23",
            "event_type": "Log",
            "execution_id": "5a7b47e7-4eff-4ce3-8ee8-d6a655ccda3b",
            "function_id": "68d27ef6-8413-4eb9-8105-2cfc2b1290c9",
            "level": "info",
            "memory_used": [],
            "project_ref": "hidgiyyunigqazssnydm",
            "reason": null,
            "region": "us-east-1",
            "served_by": "supabase-edge-runtime-1.70.3 (compatible with Deno v2.1.4)",
            "timestamp": "2026-02-16T01:35:27.054Z",
            "version": "23"
          }
        ]
      },
      {
        "event_message": "[POOL DEBUG] candidates_snapshot {\n  slotType: \"lunch\",\n  memberId: \"null\",\n  usedTitleKeysCount: 16,\n  proteinCounts: { veg: 1 },\n  top5: [\n    {\n      id: \"80cb76d3-9890-4c22-b516-bba41646d63d\",\n      title: \"Тефтели из индейки с гречкой и тушеными овощами\",\n      meal_type_raw: \"lunch\",\n      meal_type_norm_raw: \"lunch\",\n      meal_type_resolved: \"lunch\",\n      meal_type_wasInferred: false,\n      proteinKey: \"chicken\",\n      baseScore: 4,\n      diversityPenalty: 0,\n      finalScore: 4,\n      proteinCountBefore: 0,\n      source: \"week_ai\",\n      hasSteps: true,\n      ingredientsCount: 7,\n      flags: {\n        isSoupLike: false,\n        isSnackLike: false,\n        isBreakfastLike: false,\n        sanityRejected: false,\n        allergyHit: false\n      }\n    },\n    {\n      id: \"647619e6-6004-4b6c-a0f9-2b8a4ab8637e\",\n      title: \"Куриный суп с овощами и вермишелью\",\n      meal_type_raw: null,\n      meal_type_norm_raw: null,\n      meal_type_resolved: \"lunch\",\n      meal_type_wasInferred: true,\n      proteinKey: \"chicken\",\n      baseScore: 4,\n      diversityPenalty: 0,\n      finalScore: 4,\n      proteinCountBefore: 0,\n      source: \"week_ai\",\n      hasSteps: true,\n      ingredientsCount: 7,\n      flags: {\n        isSoupLike: true,\n        isSnackLike: false,\n        isBreakfastLike: false,\n        sanityRejected: false,\n        allergyHit: false\n      }\n    },\n    {\n      id: \"a19c48df-42a5-4ca7-9101-45e2aa1ac6ff\",\n      title: \"Суп-пюре из кабачка и картофеля с индейкой\",\n      meal_type_raw: \"lunch\",\n      meal_type_norm_raw: \"lunch\",\n      meal_type_resolved: \"lunch\",\n      meal_type_wasInferred: false,\n      proteinKey: \"chicken\",\n      baseScore: 1,\n      diversityPenalty: 0,\n      finalScore: 1,\n      proteinCountBefore: 0,\n      source: \"week_ai\",\n      hasSteps: true,\n      ingredientsCount: 7,\n      flags: {\n        isSoupLike: true,\n        isSnackLike: true,\n        isBreakfastLike: false,\n        sanityRejected: false,\n        allergyHit: false\n      }\n    },\n    {\n      id: \"13cb8e31-b4b1-43d0-8f6b-df932eb6d6a3\",\n      title: \"Суп-пюре из моркови и картофеля с индейкой\",\n      meal_type_raw: \"lunch\",\n      meal_type_norm_raw: \"lunch\",\n      meal_type_resolved: \"lunch\",\n      meal_type_wasInferred: false,\n      proteinKey: \"chicken\",\n      baseScore: 1,\n      diversityPenalty: 0,\n      finalScore: 1,\n      proteinCountBefore: 0,\n      source: \"week_ai\",\n      hasSteps: true,\n      ingredientsCount: 6,\n      flags: {\n        isSoupLike: true,\n        isSnackLike: true,\n        isBreakfastLike: false,\n        sanityRejected: false,\n        allergyHit: false\n      }\n    },\n    {\n      id: \"8801a4a8-d1f6-49c5-aa5b-3535c46ff770\",\n      title: \"Суп-пюре из цветной капусты с курицей и картофелем\",\n      meal_type_raw: \"lunch\",\n      meal_type_norm_raw: \"lunch\",\n      meal_type_resolved: \"lunch\",\n      meal_type_wasInferred: false,\n      proteinKey: \"chicken\",\n      baseScore: 1,\n      diversityPenalty: 0,\n      finalScore: 1,\n      proteinCountBefore: 0,\n      source: \"week_ai\",\n      hasSteps: true,\n      ingredientsCount: 6,\n      flags: {\n        isSoupLike: true,\n        isSnackLike: true,\n        isBreakfastLike: false,\n        sanityRejected: false,\n        allergyHit: false\n      }\n    }\n  ]\n}\n",
        "metadata": [
          {
            "boot_time": null,
            "cpu_time_used": null,
            "deployment_id": "hidgiyyunigqazssnydm_68d27ef6-8413-4eb9-8105-2cfc2b1290c9_23",
            "event_type": "Log",
            "execution_id": "5a7b47e7-4eff-4ce3-8ee8-d6a655ccda3b",
            "function_id": "68d27ef6-8413-4eb9-8105-2cfc2b1290c9",
            "level": "info",
            "memory_used": [],
            "project_ref": "hidgiyyunigqazssnydm",
            "reason": null,
            "region": "us-east-1",
            "served_by": "supabase-edge-runtime-1.70.3 (compatible with Deno v2.1.4)",
            "timestamp": "2026-02-16T01:35:27.337Z",
            "version": "23"
          }
        ]
      },
      {
        "event_message": "[POOL DEBUG] candidates_snapshot {\n  slotType: \"snack\",\n  memberId: \"null\",\n  usedTitleKeysCount: 17,\n  proteinCounts: { veg: 1, chicken: 1 },\n  top5: [\n    {\n      id: \"569f6b73-dc15-4f70-9849-137d0f474b6a\",\n      title: \"Йогурт с яблоком и орехами\",\n      meal_type_raw: \"snack\",\n      meal_type_norm_raw: \"snack\",\n      meal_type_resolved: \"snack\",\n      meal_type_wasInferred: false,\n      proteinKey: \"dairy\",\n      baseScore: 6,\n      diversityPenalty: 0,\n      finalScore: 6,\n      proteinCountBefore: 0,\n      source: \"week_ai\",\n      hasSteps: true,\n      ingredientsCount: 3,\n      flags: {\n        isSoupLike: false,\n        isSnackLike: true,\n        isBreakfastLike: false,\n        sanityRejected: false,\n        allergyHit: false\n      }\n    },\n    {\n      id: \"762c98ce-3a4c-4073-8d14-b671f2d1c400\",\n      title: \"Йогурт с персиком и орехами\",\n      meal_type_raw: \"snack\",\n      meal_type_norm_raw: \"snack\",\n      meal_type_resolved: \"snack\",\n      meal_type_wasInferred: false,\n      proteinKey: \"dairy\",\n      baseScore: 6,\n      diversityPenalty: 0,\n      finalScore: 6,\n      proteinCountBefore: 0,\n      source: \"week_ai\",\n      hasSteps: true,\n      ingredientsCount: 3,\n      flags: {\n        isSoupLike: false,\n        isSnackLike: true,\n        isBreakfastLike: false,\n        sanityRejected: false,\n        allergyHit: false\n      }\n    },\n    {\n      id: \"4636f337-36bf-468f-9330-16017f6752f9\",\n      title: \"Йогурт с бананом и ягодами\",\n      meal_type_raw: \"snack\",\n      meal_type_norm_raw: \"snack\",\n      meal_type_resolved: \"snack\",\n      meal_type_wasInferred: false,\n      proteinKey: \"dairy\",\n      baseScore: 6,\n      diversityPenalty: 0,\n      finalScore: 6,\n      proteinCountBefore: 0,\n      source: \"week_ai\",\n      hasSteps: true,\n      ingredientsCount: 3,\n      flags: {\n        isSoupLike: false,\n        isSnackLike: true,\n        isBreakfastLike: false,\n        sanityRejected: false,\n        allergyHit: false\n      }\n    },\n    {\n      id: \"c99f1e99-d93e-40b4-8c88-9a25524a06e5\",\n      title: \"Йогурт с грушей и грецкими орехами\",\n      meal_type_raw: \"snack\",\n      meal_type_norm_raw: \"snack\",\n      meal_type_resolved: \"snack\",\n      meal_type_wasInferred: false,\n      proteinKey: \"dairy\",\n      baseScore: 6,\n      diversityPenalty: 0,\n      finalScore: 6,\n      proteinCountBefore: 0,\n      source: \"week_ai\",\n      hasSteps: true,\n      ingredientsCount: 3,\n      flags: {\n        isSoupLike: false,\n        isSnackLike: true,\n        isBreakfastLike: false,\n        sanityRejected: false,\n        allergyHit: false\n      }\n    },\n    {\n      id: \"469e4cb8-88a5-4f74-9010-4c0c9877f31a\",\n      title: \"Йогурт с грушей и грецкими орехами\",\n      meal_type_raw: null,\n      meal_type_norm_raw: null,\n      meal_type_resolved: \"snack\",\n      meal_type_wasInferred: true,\n      proteinKey: \"dairy\",\n      baseScore: 6,\n      diversityPenalty: 0,\n      finalScore: 6,\n      proteinCountBefore: 0,\n      source: \"week_ai\",\n      hasSteps: true,\n      ingredientsCount: 3,\n      flags: {\n        isSoupLike: false,\n        isSnackLike: true,\n        isBreakfastLike: false,\n        sanityRejected: false,\n        allergyHit: false\n      }\n    }\n  ]\n}\n",
        "metadata": [
          {
            "boot_time": null,
            "cpu_time_used": null,
            "deployment_id": "hidgiyyunigqazssnydm_68d27ef6-8413-4eb9-8105-2cfc2b1290c9_23",
            "event_type": "Log",
            "execution_id": "5a7b47e7-4eff-4ce3-8ee8-d6a655ccda3b",
            "function_id": "68d27ef6-8413-4eb9-8105-2cfc2b1290c9",
            "level": "info",
            "memory_used": [],
            "project_ref": "hidgiyyunigqazssnydm",
            "reason": null,
            "region": "us-east-1",
            "served_by": "supabase-edge-runtime-1.70.3 (compatible with Deno v2.1.4)",
            "timestamp": "2026-02-16T01:35:27.650Z",
            "version": "23"
          }
        ]
      },
      {
        "event_message": "[POOL DEBUG] candidates_snapshot {\n  slotType: \"dinner\",\n  memberId: \"null\",\n  usedTitleKeysCount: 18,\n  proteinCounts: { veg: 1, chicken: 1, dairy: 1 },\n  top5: [\n    {\n      id: \"9617e016-351c-43b3-9ebb-440000afa395\",\n      title: \"Запечённый минтай с цветной капустой и картофелем\",\n      meal_type_raw: \"dinner\",\n      meal_type_norm_raw: \"dinner\",\n      meal_type_resolved: \"dinner\",\n      meal_type_wasInferred: false,\n      proteinKey: \"fish\",\n      baseScore: 4,\n      diversityPenalty: 0,\n      finalScore: 4,\n      proteinCountBefore: 0,\n      source: \"week_ai\",\n      hasSteps: true,\n      ingredientsCount: 5,\n      flags: {\n        isSoupLike: false,\n        isSnackLike: false,\n        isBreakfastLike: false,\n        sanityRejected: false,\n        allergyHit: false\n      }\n    },\n    {\n      id: \"62ceddc2-16e5-4bd0-8fae-9142dc4f2438\",\n      title: \"Запечённая курица с тыквой и брокколи\",\n      meal_type_raw: \"dinner\",\n      meal_type_norm_raw: \"dinner\",\n      meal_type_resolved: \"dinner\",\n      meal_type_wasInferred: false,\n      proteinKey: \"chicken\",\n      baseScore: 4,\n      diversityPenalty: 0,\n      finalScore: 4,\n      proteinCountBefore: 1,\n      source: \"week_ai\",\n      hasSteps: true,\n      ingredientsCount: 5,\n      flags: {\n        isSoupLike: false,\n        isSnackLike: false,\n        isBreakfastLike: false,\n        sanityRejected: false,\n        allergyHit: false\n      }\n    },\n    {\n      id: \"185ce171-ac78-49f7-9be6-3ef4c935f131\",\n      title: \"Запечённая треска с цукини и морковью\",\n      meal_type_raw: \"dinner\",\n      meal_type_norm_raw: \"dinner\",\n      meal_type_resolved: \"dinner\",\n      meal_type_wasInferred: false,\n      proteinKey: \"fish\",\n      baseScore: 4,\n      diversityPenalty: 0,\n      finalScore: 4,\n      proteinCountBefore: 0,\n      source: \"week_ai\",\n      hasSteps: true,\n      ingredientsCount: 5,\n      flags: {\n        isSoupLike: false,\n        isSnackLike: false,\n        isBreakfastLike: false,\n        sanityRejected: false,\n        allergyHit: false\n      }\n    },\n    {\n      id: \"883f0215-cd98-4576-8766-f720e8e0db04\",\n      title: \"Запечённая индейка с кабачком и рисом\",\n      meal_type_raw: \"dinner\",\n      meal_type_norm_raw: \"dinner\",\n      meal_type_resolved: \"dinner\",\n      meal_type_wasInferred: false,\n      proteinKey: \"chicken\",\n      baseScore: 4,\n      diversityPenalty: 0,\n      finalScore: 4,\n      proteinCountBefore: 1,\n      source: \"week_ai\",\n      hasSteps: true,\n      ingredientsCount: 5,\n      flags: {\n        isSoupLike: false,\n        isSnackLike: false,\n        isBreakfastLike: false,\n        sanityRejected: false,\n        allergyHit: false\n      }\n    },\n    {\n      id: \"a1a3ac5e-1e73-48b3-88ff-6d778e445c34\",\n      title: \"Запечённая куриная грудка с цукини и рисом\",\n      meal_type_raw: \"dinner\",\n      meal_type_norm_raw: \"dinner\",\n      meal_type_resolved: \"dinner\",\n      meal_type_wasInferred: false,\n      proteinKey: \"chicken\",\n      baseScore: 4,\n      diversityPenalty: 0,\n      finalScore: 4,\n      proteinCountBefore: 1,\n      source: \"week_ai\",\n      hasSteps: true,\n      ingredientsCount: 5,\n      flags: {\n        isSoupLike: false,\n        isSnackLike: false,\n        isBreakfastLike: false,\n        sanityRejected: false,\n        allergyHit: false\n      }\n    }\n  ]\n}\n",
        "metadata": [
          {
            "boot_time": null,
            "cpu_time_used": null,
            "deployment_id": "hidgiyyunigqazssnydm_68d27ef6-8413-4eb9-8105-2cfc2b1290c9_23",
            "event_type": "Log",
            "execution_id": "5a7b47e7-4eff-4ce3-8ee8-d6a655ccda3b",
            "function_id": "68d27ef6-8413-4eb9-8105-2cfc2b1290c9",
            "level": "info",
            "memory_used": [],
            "project_ref": "hidgiyyunigqazssnydm",
            "reason": null,
            "region": "us-east-1",
            "served_by": "supabase-edge-runtime-1.70.3 (compatible with Deno v2.1.4)",
            "timestamp": "2026-02-16T01:35:27.965Z",
            "version": "23"
          }
        ]
      },
      {
        "event_message": "[POOL DEBUG] candidates_snapshot {\n  slotType: \"breakfast\",\n  memberId: \"null\",\n  usedTitleKeysCount: 19,\n  proteinCounts: { veg: 1, chicken: 1, dairy: 1, fish: 1 },\n  top5: [\n    {\n      id: \"5b48a32e-f149-4aab-8b78-ceffb1b43f1b\",\n      title: \"Омлет с помидорами и зеленью\",\n      meal_type_raw: \"breakfast\",\n      meal_type_norm_raw: \"breakfast\",\n      meal_type_resolved: \"breakfast\",\n      meal_type_wasInferred: false,\n      proteinKey: \"egg\",\n      baseScore: 4,\n      diversityPenalty: 0,\n      finalScore: 4,\n      proteinCountBefore: 0,\n      source: \"week_ai\",\n      hasSteps: true,\n      ingredientsCount: 4,\n      flags: {\n        isSoupLike: false,\n        isSnackLike: false,\n        isBreakfastLike: false,\n        sanityRejected: false,\n        allergyHit: false\n      }\n    },\n    {\n      id: \"60c8c494-feea-4c83-b1cc-6b186cd9c137\",\n      title: \"Тыквенные оладьи с яблочным пюре\",\n      meal_type_raw: null,\n      meal_type_norm_raw: null,\n      meal_type_resolved: \"breakfast\",\n      meal_type_wasInferred: true,\n      proteinKey: \"egg\",\n      baseScore: 1,\n      diversityPenalty: 0,\n      finalScore: 1,\n      proteinCountBefore: 0,\n      source: \"week_ai\",\n      hasSteps: true,\n      ingredientsCount: 5,\n      flags: {\n        isSoupLike: false,\n        isSnackLike: true,\n        isBreakfastLike: true,\n        sanityRejected: false,\n        allergyHit: false\n      }\n    },\n    {\n      id: \"c71c2eca-fe18-4e3e-ad08-9623747b22c4\",\n      title: \"Омлет с брокколи и сыром\",\n      meal_type_raw: null,\n      meal_type_norm_raw: null,\n      meal_type_resolved: \"breakfast\",\n      meal_type_wasInferred: true,\n      proteinKey: \"chicken\",\n      baseScore: 4,\n      diversityPenalty: -10,\n      finalScore: -6,\n      proteinCountBefore: 1,\n      source: \"week_ai\",\n      hasSteps: true,\n      ingredientsCount: 5,\n      flags: {\n        isSoupLike: false,\n        isSnackLike: false,\n        isBreakfastLike: false,\n        sanityRejected: false,\n        allergyHit: false\n      }\n    },\n    {\n      id: \"bf071a2f-01e4-49e3-853e-89ad95498347\",\n      title: \"Омлет с кабачком и сыром\",\n      meal_type_raw: null,\n      meal_type_norm_raw: null,\n      meal_type_resolved: \"breakfast\",\n      meal_type_wasInferred: true,\n      proteinKey: \"chicken\",\n      baseScore: 4,\n      diversityPenalty: -10,\n      finalScore: -6,\n      proteinCountBefore: 1,\n      source: \"week_ai\",\n      hasSteps: true,\n      ingredientsCount: 5,\n      flags: {\n        isSoupLike: false,\n        isSnackLike: false,\n        isBreakfastLike: false,\n        sanityRejected: false,\n        allergyHit: false\n      }\n    },\n    {\n      id: \"88524e77-d700-4eaf-9f86-bf4126f4c08f\",\n      title: \"Омлет с овощами и сыром\",\n      meal_type_raw: null,\n      meal_type_norm_raw: null,\n      meal_type_resolved: \"breakfast\",\n      meal_type_wasInferred: true,\n      proteinKey: \"chicken\",\n      baseScore: 4,\n      diversityPenalty: -10,\n      finalScore: -6,\n      proteinCountBefore: 1,\n      source: \"week_ai\",\n      hasSteps: true,\n      ingredientsCount: 6,\n      flags: {\n        isSoupLike: false,\n        isSnackLike: false,\n        isBreakfastLike: false,\n        sanityRejected: false,\n        allergyHit: false\n      }\n    }\n  ]\n}\n",
        "metadata": [
          {
            "boot_time": null,
            "cpu_time_used": null,
            "deployment_id": "hidgiyyunigqazssnydm_68d27ef6-8413-4eb9-8105-2cfc2b1290c9_23",
            "event_type": "Log",
            "execution_id": "5a7b47e7-4eff-4ce3-8ee8-d6a655ccda3b",
            "function_id": "68d27ef6-8413-4eb9-8105-2cfc2b1290c9",
            "level": "info",
            "memory_used": [],
            "project_ref": "hidgiyyunigqazssnydm",
            "reason": null,
            "region": "us-east-1",
            "served_by": "supabase-edge-runtime-1.70.3 (compatible with Deno v2.1.4)",
            "timestamp": "2026-02-16T01:35:28.624Z",
            "version": "23"
          }
        ]
      },
      {
        "event_message": "[POOL DEBUG] candidates_snapshot {\n  slotType: \"lunch\",\n  memberId: \"null\",\n  usedTitleKeysCount: 20,\n  proteinCounts: { veg: 2, chicken: 1, dairy: 1, fish: 1 },\n  top5: [\n    {\n      id: \"80cb76d3-9890-4c22-b516-bba41646d63d\",\n      title: \"Тефтели из индейки с гречкой и тушеными овощами\",\n      meal_type_raw: \"lunch\",\n      meal_type_norm_raw: \"lunch\",\n      meal_type_resolved: \"lunch\",\n      meal_type_wasInferred: false,\n      proteinKey: \"chicken\",\n      baseScore: 4,\n      diversityPenalty: -10,\n      finalScore: -6,\n      proteinCountBefore: 1,\n      source: \"week_ai\",\n      hasSteps: true,\n      ingredientsCount: 7,\n      flags: {\n        isSoupLike: false,\n        isSnackLike: false,\n        isBreakfastLike: false,\n        sanityRejected: false,\n        allergyHit: false\n      }\n    },\n    {\n      id: \"647619e6-6004-4b6c-a0f9-2b8a4ab8637e\",\n      title: \"Куриный суп с овощами и вермишелью\",\n      meal_type_raw: null,\n      meal_type_norm_raw: null,\n      meal_type_resolved: \"lunch\",\n      meal_type_wasInferred: true,\n      proteinKey: \"chicken\",\n      baseScore: 4,\n      diversityPenalty: -10,\n      finalScore: -6,\n      proteinCountBefore: 1,\n      source: \"week_ai\",\n      hasSteps: true,\n      ingredientsCount: 7,\n      flags: {\n        isSoupLike: true,\n        isSnackLike: false,\n        isBreakfastLike: false,\n        sanityRejected: false,\n        allergyHit: false\n      }\n    },\n    {\n      id: \"a19c48df-42a5-4ca7-9101-45e2aa1ac6ff\",\n      title: \"Суп-пюре из кабачка и картофеля с индейкой\",\n      meal_type_raw: \"lunch\",\n      meal_type_norm_raw: \"lunch\",\n      meal_type_resolved: \"lunch\",\n      meal_type_wasInferred: false,\n      proteinKey: \"chicken\",\n      baseScore: 1,\n      diversityPenalty: -10,\n      finalScore: -9,\n      proteinCountBefore: 1,\n      source: \"week_ai\",\n      hasSteps: true,\n      ingredientsCount: 7,\n      flags: {\n        isSoupLike: true,\n        isSnackLike: true,\n        isBreakfastLike: false,\n        sanityRejected: false,\n        allergyHit: false\n      }\n    },\n    {\n      id: \"13cb8e31-b4b1-43d0-8f6b-df932eb6d6a3\",\n      title: \"Суп-пюре из моркови и картофеля с индейкой\",\n      meal_type_raw: \"lunch\",\n      meal_type_norm_raw: \"lunch\",\n      meal_type_resolved: \"lunch\",\n      meal_type_wasInferred: false,\n      proteinKey: \"chicken\",\n      baseScore: 1,\n      diversityPenalty: -10,\n      finalScore: -9,\n      proteinCountBefore: 1,\n      source: \"week_ai\",\n      hasSteps: true,\n      ingredientsCount: 6,\n      flags: {\n        isSoupLike: true,\n        isSnackLike: true,\n        isBreakfastLike: false,\n        sanityRejected: false,\n        allergyHit: false\n      }\n    },\n    {\n      id: \"8801a4a8-d1f6-49c5-aa5b-3535c46ff770\",\n      title: \"Суп-пюре из цветной капусты с курицей и картофелем\",\n      meal_type_raw: \"lunch\",\n      meal_type_norm_raw: \"lunch\",\n      meal_type_resolved: \"lunch\",\n      meal_type_wasInferred: false,\n      proteinKey: \"chicken\",\n      baseScore: 1,\n      diversityPenalty: -10,\n      finalScore: -9,\n      proteinCountBefore: 1,\n      source: \"week_ai\",\n      hasSteps: true,\n      ingredientsCount: 6,\n      flags: {\n        isSoupLike: true,\n        isSnackLike: true,\n        isBreakfastLike: false,\n        sanityRejected: false,\n        allergyHit: false\n      }\n    }\n  ]\n}\n",
        "metadata": [
          {
            "boot_time": null,
            "cpu_time_used": null,
            "deployment_id": "hidgiyyunigqazssnydm_68d27ef6-8413-4eb9-8105-2cfc2b1290c9_23",
            "event_type": "Log",
            "execution_id": "5a7b47e7-4eff-4ce3-8ee8-d6a655ccda3b",
            "function_id": "68d27ef6-8413-4eb9-8105-2cfc2b1290c9",
            "level": "info",
            "memory_used": [],
            "project_ref": "hidgiyyunigqazssnydm",
            "reason": null,
            "region": "us-east-1",
            "served_by": "supabase-edge-runtime-1.70.3 (compatible with Deno v2.1.4)",
            "timestamp": "2026-02-16T01:35:29.025Z",
            "version": "23"
          }
        ]
      },
      {
        "event_message": "[POOL DEBUG] candidates_snapshot {\n  slotType: \"snack\",\n  memberId: \"null\",\n  usedTitleKeysCount: 21,\n  proteinCounts: { veg: 2, chicken: 2, dairy: 1, fish: 1 },\n  top5: [\n    {\n      id: \"569f6b73-dc15-4f70-9849-137d0f474b6a\",\n      title: \"Йогурт с яблоком и орехами\",\n      meal_type_raw: \"snack\",\n      meal_type_norm_raw: \"snack\",\n      meal_type_resolved: \"snack\",\n      meal_type_wasInferred: false,\n      proteinKey: \"dairy\",\n      baseScore: 6,\n      diversityPenalty: -25,\n      finalScore: -19,\n      proteinCountBefore: 1,\n      source: \"week_ai\",\n      hasSteps: true,\n      ingredientsCount: 3,\n      flags: {\n        isSoupLike: false,\n        isSnackLike: true,\n        isBreakfastLike: false,\n        sanityRejected: false,\n        allergyHit: false\n      }\n    },\n    {\n      id: \"762c98ce-3a4c-4073-8d14-b671f2d1c400\",\n      title: \"Йогурт с персиком и орехами\",\n      meal_type_raw: \"snack\",\n      meal_type_norm_raw: \"snack\",\n      meal_type_resolved: \"snack\",\n      meal_type_wasInferred: false,\n      proteinKey: \"dairy\",\n      baseScore: 6,\n      diversityPenalty: -25,\n      finalScore: -19,\n      proteinCountBefore: 1,\n      source: \"week_ai\",\n      hasSteps: true,\n      ingredientsCount: 3,\n      flags: {\n        isSoupLike: false,\n        isSnackLike: true,\n        isBreakfastLike: false,\n        sanityRejected: false,\n        allergyHit: false\n      }\n    },\n    {\n      id: \"c99f1e99-d93e-40b4-8c88-9a25524a06e5\",\n      title: \"Йогурт с грушей и грецкими орехами\",\n      meal_type_raw: \"snack\",\n      meal_type_norm_raw: \"snack\",\n      meal_type_resolved: \"snack\",\n      meal_type_wasInferred: false,\n      proteinKey: \"dairy\",\n      baseScore: 6,\n      diversityPenalty: -25,\n      finalScore: -19,\n      proteinCountBefore: 1,\n      source: \"week_ai\",\n      hasSteps: true,\n      ingredientsCount: 3,\n      flags: {\n        isSoupLike: false,\n        isSnackLike: true,\n        isBreakfastLike: false,\n        sanityRejected: false,\n        allergyHit: false\n      }\n    },\n    {\n      id: \"469e4cb8-88a5-4f74-9010-4c0c9877f31a\",\n      title: \"Йогурт с грушей и грецкими орехами\",\n      meal_type_raw: null,\n      meal_type_norm_raw: null,\n      meal_type_resolved: \"snack\",\n      meal_type_wasInferred: true,\n      proteinKey: \"dairy\",\n      baseScore: 6,\n      diversityPenalty: -25,\n      finalScore: -19,\n      proteinCountBefore: 1,\n      source: \"week_ai\",\n      hasSteps: true,\n      ingredientsCount: 3,\n      flags: {\n        isSoupLike: false,\n        isSnackLike: true,\n        isBreakfastLike: false,\n        sanityRejected: false,\n        allergyHit: false\n      }\n    },\n    {\n      id: \"43a9dafa-a89e-452e-91ae-df00364b8346\",\n      title: \"Йогурт с ягодами и орехами\",\n      meal_type_raw: null,\n      meal_type_norm_raw: null,\n      meal_type_resolved: \"snack\",\n      meal_type_wasInferred: true,\n      proteinKey: \"dairy\",\n      baseScore: 6,\n      diversityPenalty: -25,\n      finalScore: -19,\n      proteinCountBefore: 1,\n      source: \"week_ai\",\n      hasSteps: true,\n      ingredientsCount: 3,\n      flags: {\n        isSoupLike: false,\n        isSnackLike: true,\n        isBreakfastLike: false,\n        sanityRejected: false,\n        allergyHit: false\n      }\n    }\n  ]\n}\n",
        "metadata": [
          {
            "boot_time": null,
            "cpu_time_used": null,
            "deployment_id": "hidgiyyunigqazssnydm_68d27ef6-8413-4eb9-8105-2cfc2b1290c9_23",
            "event_type": "Log",
            "execution_id": "5a7b47e7-4eff-4ce3-8ee8-d6a655ccda3b",
            "function_id": "68d27ef6-8413-4eb9-8105-2cfc2b1290c9",
            "level": "info",
            "memory_used": [],
            "project_ref": "hidgiyyunigqazssnydm",
            "reason": null,
            "region": "us-east-1",
            "served_by": "supabase-edge-runtime-1.70.3 (compatible with Deno v2.1.4)",
            "timestamp": "2026-02-16T01:35:29.436Z",
            "version": "23"
          }
        ]
      },
      {
        "event_message": "[POOL DEBUG] candidates_snapshot {\n  slotType: \"dinner\",\n  memberId: \"null\",\n  usedTitleKeysCount: 22,\n  proteinCounts: { veg: 2, chicken: 2, dairy: 2, fish: 1 },\n  top5: [\n    {\n      id: \"9617e016-351c-43b3-9ebb-440000afa395\",\n      title: \"Запечённый минтай с цветной капустой и картофелем\",\n      meal_type_raw: \"dinner\",\n      meal_type_norm_raw: \"dinner\",\n      meal_type_resolved: \"dinner\",\n      meal_type_wasInferred: false,\n      proteinKey: \"fish\",\n      baseScore: 4,\n      diversityPenalty: -20,\n      finalScore: -16,\n      proteinCountBefore: 1,\n      source: \"week_ai\",\n      hasSteps: true,\n      ingredientsCount: 5,\n      flags: {\n        isSoupLike: false,\n        isSnackLike: false,\n        isBreakfastLike: false,\n        sanityRejected: false,\n        allergyHit: false\n      }\n    },\n    {\n      id: \"185ce171-ac78-49f7-9be6-3ef4c935f131\",\n      title: \"Запечённая треска с цукини и морковью\",\n      meal_type_raw: \"dinner\",\n      meal_type_norm_raw: \"dinner\",\n      meal_type_resolved: \"dinner\",\n      meal_type_wasInferred: false,\n      proteinKey: \"fish\",\n      baseScore: 4,\n      diversityPenalty: -20,\n      finalScore: -16,\n      proteinCountBefore: 1,\n      source: \"week_ai\",\n      hasSteps: true,\n      ingredientsCount: 5,\n      flags: {\n        isSoupLike: false,\n        isSnackLike: false,\n        isBreakfastLike: false,\n        sanityRejected: false,\n        allergyHit: false\n      }\n    },\n    {\n      id: \"62ceddc2-16e5-4bd0-8fae-9142dc4f2438\",\n      title: \"Запечённая курица с тыквой и брокколи\",\n      meal_type_raw: \"dinner\",\n      meal_type_norm_raw: \"dinner\",\n      meal_type_resolved: \"dinner\",\n      meal_type_wasInferred: false,\n      proteinKey: \"chicken\",\n      baseScore: 4,\n      diversityPenalty: -25,\n      finalScore: -21,\n      proteinCountBefore: 2,\n      source: \"week_ai\",\n      hasSteps: true,\n      ingredientsCount: 5,\n      flags: {\n        isSoupLike: false,\n        isSnackLike: false,\n        isBreakfastLike: false,\n        sanityRejected: false,\n        allergyHit: false\n      }\n    },\n    {\n      id: \"883f0215-cd98-4576-8766-f720e8e0db04\",\n      title: \"Запечённая индейка с кабачком и рисом\",\n      meal_type_raw: \"dinner\",\n      meal_type_norm_raw: \"dinner\",\n      meal_type_resolved: \"dinner\",\n      meal_type_wasInferred: false,\n      proteinKey: \"chicken\",\n      baseScore: 4,\n      diversityPenalty: -25,\n      finalScore: -21,\n      proteinCountBefore: 2,\n      source: \"week_ai\",\n      hasSteps: true,\n      ingredientsCount: 5,\n      flags: {\n        isSoupLike: false,\n        isSnackLike: false,\n        isBreakfastLike: false,\n        sanityRejected: false,\n        allergyHit: false\n      }\n    },\n    {\n      id: \"a1a3ac5e-1e73-48b3-88ff-6d778e445c34\",\n      title: \"Запечённая куриная грудка с цукини и рисом\",\n      meal_type_raw: \"dinner\",\n      meal_type_norm_raw: \"dinner\",\n      meal_type_resolved: \"dinner\",\n      meal_type_wasInferred: false,\n      proteinKey: \"chicken\",\n      baseScore: 4,\n      diversityPenalty: -25,\n      finalScore: -21,\n      proteinCountBefore: 2,\n      source: \"week_ai\",\n      hasSteps: true,\n      ingredientsCount: 5,\n      flags: {\n        isSoupLike: false,\n        isSnackLike: false,\n        isBreakfastLike: false,\n        sanityRejected: false,\n        allergyHit: false\n      }\n    }\n  ]\n}\n",
        "metadata": [
          {
            "boot_time": null,
            "cpu_time_used": null,
            "deployment_id": "hidgiyyunigqazssnydm_68d27ef6-8413-4eb9-8105-2cfc2b1290c9_23",
            "event_type": "Log",
            "execution_id": "5a7b47e7-4eff-4ce3-8ee8-d6a655ccda3b",
            "function_id": "68d27ef6-8413-4eb9-8105-2cfc2b1290c9",
            "level": "info",
            "memory_used": [],
            "project_ref": "hidgiyyunigqazssnydm",
            "reason": null,
            "region": "us-east-1",
            "served_by": "supabase-edge-runtime-1.70.3 (compatible with Deno v2.1.4)",
            "timestamp": "2026-02-16T01:35:29.849Z",
            "version": "23"
          }
        ]
      },
      {
        "event_message": "[POOL DEBUG] candidates_snapshot {\n  slotType: \"breakfast\",\n  memberId: \"null\",\n  usedTitleKeysCount: 23,\n  proteinCounts: { veg: 2, chicken: 2, dairy: 2, fish: 2 },\n  top5: [\n    {\n      id: \"5b48a32e-f149-4aab-8b78-ceffb1b43f1b\",\n      title: \"Омлет с помидорами и зеленью\",\n      meal_type_raw: \"breakfast\",\n      meal_type_norm_raw: \"breakfast\",\n      meal_type_resolved: \"breakfast\",\n      meal_type_wasInferred: false,\n      proteinKey: \"egg\",\n      baseScore: 4,\n      diversityPenalty: 0,\n      finalScore: 4,\n      proteinCountBefore: 0,\n      source: \"week_ai\",\n      hasSteps: true,\n      ingredientsCount: 4,\n      flags: {\n        isSoupLike: false,\n        isSnackLike: false,\n        isBreakfastLike: false,\n        sanityRejected: false,\n        allergyHit: false\n      }\n    },\n    {\n      id: \"178e9ad9-1d02-46bb-bdb0-84fe0d9cc2ae\",\n      title: \"Творожные кексы с грушей\",\n      meal_type_raw: \"breakfast\",\n      meal_type_norm_raw: \"breakfast\",\n      meal_type_resolved: \"breakfast\",\n      meal_type_wasInferred: false,\n      proteinKey: \"dairy\",\n      baseScore: 4,\n      diversityPenalty: -20,\n      finalScore: -16,\n      proteinCountBefore: 2,\n      source: \"week_ai\",\n      hasSteps: true,\n      ingredientsCount: 5,\n      flags: {\n        isSoupLike: false,\n        isSnackLike: false,\n        isBreakfastLike: false,\n        sanityRejected: false,\n        allergyHit: false\n      }\n    },\n    {\n      id: \"4bce887f-6d0b-4d3e-a2c7-ca5cf217ee29\",\n      title: \"Творожные панкейки с бананом\",\n      meal_type_raw: \"breakfast\",\n      meal_type_norm_raw: \"breakfast\",\n      meal_type_resolved: \"breakfast\",\n      meal_type_wasInferred: false,\n      proteinKey: \"dairy\",\n      baseScore: 4,\n      diversityPenalty: -20,\n      finalScore: -16,\n      proteinCountBefore: 2,\n      source: \"week_ai\",\n      hasSteps: true,\n      ingredientsCount: 5,\n      flags: {\n        isSoupLike: false,\n        isSnackLike: false,\n        isBreakfastLike: false,\n        sanityRejected: false,\n        allergyHit: false\n      }\n    },\n    {\n      id: \"901c0766-2bc3-4f79-8959-891fcdcf6287\",\n      title: \"Творожная запеканка с яблоком и изюмом\",\n      meal_type_raw: \"breakfast\",\n      meal_type_norm_raw: \"breakfast\",\n      meal_type_resolved: \"breakfast\",\n      meal_type_wasInferred: false,\n      proteinKey: \"dairy\",\n      baseScore: 4,\n      diversityPenalty: -20,\n      finalScore: -16,\n      proteinCountBefore: 2,\n      source: \"week_ai\",\n      hasSteps: true,\n      ingredientsCount: 5,\n      flags: {\n        isSoupLike: false,\n        isSnackLike: false,\n        isBreakfastLike: true,\n        sanityRejected: false,\n        allergyHit: false\n      }\n    },\n    {\n      id: \"e067be83-1e1e-4ed7-8b68-24cf766a87d8\",\n      title: \"Омлет с брокколи и сыром\",\n      meal_type_raw: \"breakfast\",\n      meal_type_norm_raw: \"breakfast\",\n      meal_type_resolved: \"breakfast\",\n      meal_type_wasInferred: false,\n      proteinKey: \"dairy\",\n      baseScore: 4,\n      diversityPenalty: -20,\n      finalScore: -16,\n      proteinCountBefore: 2,\n      source: \"week_ai\",\n      hasSteps: true,\n      ingredientsCount: 5,\n      flags: {\n        isSoupLike: false,\n        isSnackLike: false,\n        isBreakfastLike: false,\n        sanityRejected: false,\n        allergyHit: false\n      }\n    }\n  ]\n}\n",
        "metadata": [
          {
            "boot_time": null,
            "cpu_time_used": null,
            "deployment_id": "hidgiyyunigqazssnydm_68d27ef6-8413-4eb9-8105-2cfc2b1290c9_23",
            "event_type": "Log",
            "execution_id": "5a7b47e7-4eff-4ce3-8ee8-d6a655ccda3b",
            "function_id": "68d27ef6-8413-4eb9-8105-2cfc2b1290c9",
            "level": "info",
            "memory_used": [],
            "project_ref": "hidgiyyunigqazssnydm",
            "reason": null,
            "region": "us-east-1",
            "served_by": "supabase-edge-runtime-1.70.3 (compatible with Deno v2.1.4)",
            "timestamp": "2026-02-16T01:35:30.507Z",
            "version": "23"
          }
        ]
      },
      {
        "event_message": "[POOL DEBUG] candidates_snapshot {\n  slotType: \"lunch\",\n  memberId: \"null\",\n  usedTitleKeysCount: 24,\n  proteinCounts: { veg: 2, chicken: 2, dairy: 2, fish: 2, egg: 1 },\n  top5: [\n    {\n      id: \"5cd4612c-7c3e-4649-b113-1ace2105f195\",\n      title: \"Тыквенный суп-пюре с нутом\",\n      meal_type_raw: null,\n      meal_type_norm_raw: null,\n      meal_type_resolved: \"lunch\",\n      meal_type_wasInferred: true,\n      proteinKey: \"legumes\",\n      baseScore: 1,\n      diversityPenalty: 0,\n      finalScore: 1,\n      proteinCountBefore: 0,\n      source: \"week_ai\",\n      hasSteps: true,\n      ingredientsCount: 6,\n      flags: {\n        isSoupLike: true,\n        isSnackLike: true,\n        isBreakfastLike: false,\n        sanityRejected: false,\n        allergyHit: false\n      }\n    },\n    {\n      id: \"fdda177f-77db-4247-8ea3-28e898e76264\",\n      title: \"Суп-пюре из брокколи с картофелем и морковью\",\n      meal_type_raw: null,\n      meal_type_norm_raw: null,\n      meal_type_resolved: \"lunch\",\n      meal_type_wasInferred: true,\n      proteinKey: \"veg\",\n      baseScore: 1,\n      diversityPenalty: -15,\n      finalScore: -14,\n      proteinCountBefore: 2,\n      source: \"week_ai\",\n      hasSteps: true,\n      ingredientsCount: 6,\n      flags: {\n        isSoupLike: true,\n        isSnackLike: true,\n        isBreakfastLike: false,\n        sanityRejected: false,\n        allergyHit: false\n      }\n    },\n    {\n      id: \"80cb76d3-9890-4c22-b516-bba41646d63d\",\n      title: \"Тефтели из индейки с гречкой и тушеными овощами\",\n      meal_type_raw: \"lunch\",\n      meal_type_norm_raw: \"lunch\",\n      meal_type_resolved: \"lunch\",\n      meal_type_wasInferred: false,\n      proteinKey: \"chicken\",\n      baseScore: 4,\n      diversityPenalty: -25,\n      finalScore: -21,\n      proteinCountBefore: 2,\n      source: \"week_ai\",\n      hasSteps: true,\n      ingredientsCount: 7,\n      flags: {\n        isSoupLike: false,\n        isSnackLike: false,\n        isBreakfastLike: false,\n        sanityRejected: false,\n        allergyHit: false\n      }\n    },\n    {\n      id: \"647619e6-6004-4b6c-a0f9-2b8a4ab8637e\",\n      title: \"Куриный суп с овощами и вермишелью\",\n      meal_type_raw: null,\n      meal_type_norm_raw: null,\n      meal_type_resolved: \"lunch\",\n      meal_type_wasInferred: true,\n      proteinKey: \"chicken\",\n      baseScore: 4,\n      diversityPenalty: -25,\n      finalScore: -21,\n      proteinCountBefore: 2,\n      source: \"week_ai\",\n      hasSteps: true,\n      ingredientsCount: 7,\n      flags: {\n        isSoupLike: true,\n        isSnackLike: false,\n        isBreakfastLike: false,\n        sanityRejected: false,\n        allergyHit: false\n      }\n    },\n    {\n      id: \"a19c48df-42a5-4ca7-9101-45e2aa1ac6ff\",\n      title: \"Суп-пюре из кабачка и картофеля с индейкой\",\n      meal_type_raw: \"lunch\",\n      meal_type_norm_raw: \"lunch\",\n      meal_type_resolved: \"lunch\",\n      meal_type_wasInferred: false,\n      proteinKey: \"chicken\",\n      baseScore: 1,\n      diversityPenalty: -25,\n      finalScore: -24,\n      proteinCountBefore: 2,\n      source: \"week_ai\",\n      hasSteps: true,\n      ingredientsCount: 7,\n      flags: {\n        isSoupLike: true,\n        isSnackLike: true,\n        isBreakfastLike: false,\n        sanityRejected: false,\n        allergyHit: false\n      }\n    }\n  ]\n}\n",
        "metadata": [
          {
            "boot_time": null,
            "cpu_time_used": null,
            "deployment_id": "hidgiyyunigqazssnydm_68d27ef6-8413-4eb9-8105-2cfc2b1290c9_23",
            "event_type": "Log",
            "execution_id": "5a7b47e7-4eff-4ce3-8ee8-d6a655ccda3b",
            "function_id": "68d27ef6-8413-4eb9-8105-2cfc2b1290c9",
            "level": "info",
            "memory_used": [],
            "project_ref": "hidgiyyunigqazssnydm",
            "reason": null,
            "region": "us-east-1",
            "served_by": "supabase-edge-runtime-1.70.3 (compatible with Deno v2.1.4)",
            "timestamp": "2026-02-16T01:35:30.902Z",
            "version": "23"
          }
        ]
      },
      {
        "event_message": "[POOL DEBUG] candidates_snapshot {\n  slotType: \"snack\",\n  memberId: \"null\",\n  usedTitleKeysCount: 25,\n  proteinCounts: { veg: 2, chicken: 3, dairy: 2, fish: 2, egg: 1 },\n  top5: [\n    {\n      id: \"569f6b73-dc15-4f70-9849-137d0f474b6a\",\n      title: \"Йогурт с яблоком и орехами\",\n      meal_type_raw: \"snack\",\n      meal_type_norm_raw: \"snack\",\n      meal_type_resolved: \"snack\",\n      meal_type_wasInferred: false,\n      proteinKey: \"dairy\",\n      baseScore: 6,\n      diversityPenalty: -30,\n      finalScore: -24,\n      proteinCountBefore: 2,\n      source: \"week_ai\",\n      hasSteps: true,\n      ingredientsCount: 3,\n      flags: {\n        isSoupLike: false,\n        isSnackLike: true,\n        isBreakfastLike: false,\n        sanityRejected: false,\n        allergyHit: false\n      }\n    },\n    {\n      id: \"762c98ce-3a4c-4073-8d14-b671f2d1c400\",\n      title: \"Йогурт с персиком и орехами\",\n      meal_type_raw: \"snack\",\n      meal_type_norm_raw: \"snack\",\n      meal_type_resolved: \"snack\",\n      meal_type_wasInferred: false,\n      proteinKey: \"dairy\",\n      baseScore: 6,\n      diversityPenalty: -30,\n      finalScore: -24,\n      proteinCountBefore: 2,\n      source: \"week_ai\",\n      hasSteps: true,\n      ingredientsCount: 3,\n      flags: {\n        isSoupLike: false,\n        isSnackLike: true,\n        isBreakfastLike: false,\n        sanityRejected: false,\n        allergyHit: false\n      }\n    },\n    {\n      id: \"43a9dafa-a89e-452e-91ae-df00364b8346\",\n      title: \"Йогурт с ягодами и орехами\",\n      meal_type_raw: null,\n      meal_type_norm_raw: null,\n      meal_type_resolved: \"snack\",\n      meal_type_wasInferred: true,\n      proteinKey: \"dairy\",\n      baseScore: 6,\n      diversityPenalty: -30,\n      finalScore: -24,\n      proteinCountBefore: 2,\n      source: \"week_ai\",\n      hasSteps: true,\n      ingredientsCount: 3,\n      flags: {\n        isSoupLike: false,\n        isSnackLike: true,\n        isBreakfastLike: false,\n        sanityRejected: false,\n        allergyHit: false\n      }\n    },\n    {\n      id: \"d297e6ff-ff83-4913-bec6-50a2c08c0af4\",\n      title: \"Йогурт с яблоком и печеньем\",\n      meal_type_raw: null,\n      meal_type_norm_raw: null,\n      meal_type_resolved: \"snack\",\n      meal_type_wasInferred: true,\n      proteinKey: \"dairy\",\n      baseScore: 6,\n      diversityPenalty: -30,\n      finalScore: -24,\n      proteinCountBefore: 2,\n      source: \"week_ai\",\n      hasSteps: true,\n      ingredientsCount: 3,\n      flags: {\n        isSoupLike: false,\n        isSnackLike: true,\n        isBreakfastLike: false,\n        sanityRejected: false,\n        allergyHit: false\n      }\n    },\n    {\n      id: \"5a1472ac-6b36-416d-acbd-d48b39677759\",\n      title: \"Творог с грушей и печеньем\",\n      meal_type_raw: null,\n      meal_type_norm_raw: null,\n      meal_type_resolved: \"snack\",\n      meal_type_wasInferred: true,\n      proteinKey: \"dairy\",\n      baseScore: 6,\n      diversityPenalty: -30,\n      finalScore: -24,\n      proteinCountBefore: 2,\n      source: \"week_ai\",\n      hasSteps: true,\n      ingredientsCount: 3,\n      flags: {\n        isSoupLike: false,\n        isSnackLike: true,\n        isBreakfastLike: false,\n        sanityRejected: false,\n        allergyHit: false\n      }\n    }\n  ]\n}\n",
        "metadata": [
          {
            "boot_time": null,
            "cpu_time_used": null,
            "deployment_id": "hidgiyyunigqazssnydm_68d27ef6-8413-4eb9-8105-2cfc2b1290c9_23",
            "event_type": "Log",
            "execution_id": "5a7b47e7-4eff-4ce3-8ee8-d6a655ccda3b",
            "function_id": "68d27ef6-8413-4eb9-8105-2cfc2b1290c9",
            "level": "info",
            "memory_used": [],
            "project_ref": "hidgiyyunigqazssnydm",
            "reason": null,
            "region": "us-east-1",
            "served_by": "supabase-edge-runtime-1.70.3 (compatible with Deno v2.1.4)",
            "timestamp": "2026-02-16T01:35:31.194Z",
            "version": "23"
          }
        ]
      },
      {
        "event_message": "[POOL DEBUG] candidates_snapshot {\n  slotType: \"dinner\",\n  memberId: \"null\",\n  usedTitleKeysCount: 26,\n  proteinCounts: { veg: 2, chicken: 3, dairy: 3, fish: 2, egg: 1 },\n  top5: [\n    {\n      id: \"9617e016-351c-43b3-9ebb-440000afa395\",\n      title: \"Запечённый минтай с цветной капустой и картофелем\",\n      meal_type_raw: \"dinner\",\n      meal_type_norm_raw: \"dinner\",\n      meal_type_resolved: \"dinner\",\n      meal_type_wasInferred: false,\n      proteinKey: \"fish\",\n      baseScore: 4,\n      diversityPenalty: -20,\n      finalScore: -16,\n      proteinCountBefore: 2,\n      source: \"week_ai\",\n      hasSteps: true,\n      ingredientsCount: 5,\n      flags: {\n        isSoupLike: false,\n        isSnackLike: false,\n        isBreakfastLike: false,\n        sanityRejected: false,\n        allergyHit: false\n      }\n    },\n    {\n      id: \"bf9707f7-d827-4e3f-b841-0aaf827333f8\",\n      title: \"Запечённая баранина с овощами\",\n      meal_type_raw: \"dinner\",\n      meal_type_norm_raw: \"dinner\",\n      meal_type_resolved: \"dinner\",\n      meal_type_wasInferred: false,\n      proteinKey: \"dairy\",\n      baseScore: 2,\n      diversityPenalty: -20,\n      finalScore: -18,\n      proteinCountBefore: 3,\n      source: \"chat_ai\",\n      hasSteps: true,\n      ingredientsCount: 5,\n      flags: {\n        isSoupLike: false,\n        isSnackLike: false,\n        isBreakfastLike: false,\n        sanityRejected: false,\n        allergyHit: false\n      }\n    },\n    {\n      id: \"85f3e1ca-16bc-402b-9b4e-633a271d7c78\",\n      title: \"Запечённая баранина с овощами\",\n      meal_type_raw: \"dinner\",\n      meal_type_norm_raw: \"dinner\",\n      meal_type_resolved: \"dinner\",\n      meal_type_wasInferred: false,\n      proteinKey: \"dairy\",\n      baseScore: 2,\n      diversityPenalty: -20,\n      finalScore: -18,\n      proteinCountBefore: 3,\n      source: \"chat_ai\",\n      hasSteps: true,\n      ingredientsCount: 5,\n      flags: {\n        isSoupLike: false,\n        isSnackLike: false,\n        isBreakfastLike: false,\n        sanityRejected: false,\n        allergyHit: false\n      }\n    },\n    {\n      id: \"82e23112-4426-4b93-b5db-5f929b5fba5b\",\n      title: \"Запечённая баранина с овощами\",\n      meal_type_raw: null,\n      meal_type_norm_raw: null,\n      meal_type_resolved: \"dinner\",\n      meal_type_wasInferred: true,\n      proteinKey: \"dairy\",\n      baseScore: 2,\n      diversityPenalty: -20,\n      finalScore: -18,\n      proteinCountBefore: 3,\n      source: \"chat_ai\",\n      hasSteps: true,\n      ingredientsCount: 5,\n      flags: {\n        isSoupLike: false,\n        isSnackLike: false,\n        isBreakfastLike: false,\n        sanityRejected: false,\n        allergyHit: false\n      }\n    },\n    {\n      id: \"62ceddc2-16e5-4bd0-8fae-9142dc4f2438\",\n      title: \"Запечённая курица с тыквой и брокколи\",\n      meal_type_raw: \"dinner\",\n      meal_type_norm_raw: \"dinner\",\n      meal_type_resolved: \"dinner\",\n      meal_type_wasInferred: false,\n      proteinKey: \"chicken\",\n      baseScore: 4,\n      diversityPenalty: -25,\n      finalScore: -21,\n      proteinCountBefore: 3,\n      source: \"week_ai\",\n      hasSteps: true,\n      ingredientsCount: 5,\n      flags: {\n        isSoupLike: false,\n        isSnackLike: false,\n        isBreakfastLike: false,\n        sanityRejected: false,\n        allergyHit: false\n      }\n    }\n  ]\n}\n",
        "metadata": [
          {
            "boot_time": null,
            "cpu_time_used": null,
            "deployment_id": "hidgiyyunigqazssnydm_68d27ef6-8413-4eb9-8105-2cfc2b1290c9_23",
            "event_type": "Log",
            "execution_id": "5a7b47e7-4eff-4ce3-8ee8-d6a655ccda3b",
            "function_id": "68d27ef6-8413-4eb9-8105-2cfc2b1290c9",
            "level": "info",
            "memory_used": [],
            "project_ref": "hidgiyyunigqazssnydm",
            "reason": null,
            "region": "us-east-1",
            "served_by": "supabase-edge-runtime-1.70.3 (compatible with Deno v2.1.4)",
            "timestamp": "2026-02-16T01:35:31.510Z",
            "version": "23"
          }
        ]
      },
      {
        "event_message": "[POOL DEBUG] candidates_snapshot {\n  slotType: \"breakfast\",\n  memberId: \"null\",\n  usedTitleKeysCount: 27,\n  proteinCounts: { veg: 2, chicken: 4, dairy: 3, fish: 2, egg: 1 },\n  top5: [\n    {\n      id: \"178e9ad9-1d02-46bb-bdb0-84fe0d9cc2ae\",\n      title: \"Творожные кексы с грушей\",\n      meal_type_raw: \"breakfast\",\n      meal_type_norm_raw: \"breakfast\",\n      meal_type_resolved: \"breakfast\",\n      meal_type_wasInferred: false,\n      proteinKey: \"dairy\",\n      baseScore: 4,\n      diversityPenalty: -20,\n      finalScore: -16,\n      proteinCountBefore: 3,\n      source: \"week_ai\",\n      hasSteps: true,\n      ingredientsCount: 5,\n      flags: {\n        isSoupLike: false,\n        isSnackLike: false,\n        isBreakfastLike: false,\n        sanityRejected: false,\n        allergyHit: false\n      }\n    },\n    {\n      id: \"4bce887f-6d0b-4d3e-a2c7-ca5cf217ee29\",\n      title: \"Творожные панкейки с бананом\",\n      meal_type_raw: \"breakfast\",\n      meal_type_norm_raw: \"breakfast\",\n      meal_type_resolved: \"breakfast\",\n      meal_type_wasInferred: false,\n      proteinKey: \"dairy\",\n      baseScore: 4,\n      diversityPenalty: -20,\n      finalScore: -16,\n      proteinCountBefore: 3,\n      source: \"week_ai\",\n      hasSteps: true,\n      ingredientsCount: 5,\n      flags: {\n        isSoupLike: false,\n        isSnackLike: false,\n        isBreakfastLike: false,\n        sanityRejected: false,\n        allergyHit: false\n      }\n    },\n    {\n      id: \"901c0766-2bc3-4f79-8959-891fcdcf6287\",\n      title: \"Творожная запеканка с яблоком и изюмом\",\n      meal_type_raw: \"breakfast\",\n      meal_type_norm_raw: \"breakfast\",\n      meal_type_resolved: \"breakfast\",\n      meal_type_wasInferred: false,\n      proteinKey: \"dairy\",\n      baseScore: 4,\n      diversityPenalty: -20,\n      finalScore: -16,\n      proteinCountBefore: 3,\n      source: \"week_ai\",\n      hasSteps: true,\n      ingredientsCount: 5,\n      flags: {\n        isSoupLike: false,\n        isSnackLike: false,\n        isBreakfastLike: true,\n        sanityRejected: false,\n        allergyHit: false\n      }\n    },\n    {\n      id: \"e067be83-1e1e-4ed7-8b68-24cf766a87d8\",\n      title: \"Омлет с брокколи и сыром\",\n      meal_type_raw: \"breakfast\",\n      meal_type_norm_raw: \"breakfast\",\n      meal_type_resolved: \"breakfast\",\n      meal_type_wasInferred: false,\n      proteinKey: \"dairy\",\n      baseScore: 4,\n      diversityPenalty: -20,\n      finalScore: -16,\n      proteinCountBefore: 3,\n      source: \"week_ai\",\n      hasSteps: true,\n      ingredientsCount: 5,\n      flags: {\n        isSoupLike: false,\n        isSnackLike: false,\n        isBreakfastLike: false,\n        sanityRejected: false,\n        allergyHit: false\n      }\n    },\n    {\n      id: \"9aae1320-b3b4-4790-bbef-e37b158ef166\",\n      title: \"Творожные сырники с яблоком\",\n      meal_type_raw: \"breakfast\",\n      meal_type_norm_raw: \"breakfast\",\n      meal_type_resolved: \"breakfast\",\n      meal_type_wasInferred: false,\n      proteinKey: \"dairy\",\n      baseScore: 4,\n      diversityPenalty: -20,\n      finalScore: -16,\n      proteinCountBefore: 3,\n      source: \"week_ai\",\n      hasSteps: true,\n      ingredientsCount: 5,\n      flags: {\n        isSoupLike: false,\n        isSnackLike: false,\n        isBreakfastLike: true,\n        sanityRejected: false,\n        allergyHit: false\n      }\n    }\n  ]\n}\n",
        "metadata": [
          {
            "boot_time": null,
            "cpu_time_used": null,
            "deployment_id": "hidgiyyunigqazssnydm_68d27ef6-8413-4eb9-8105-2cfc2b1290c9_23",
            "event_type": "Log",
            "execution_id": "5a7b47e7-4eff-4ce3-8ee8-d6a655ccda3b",
            "function_id": "68d27ef6-8413-4eb9-8105-2cfc2b1290c9",
            "level": "info",
            "memory_used": [],
            "project_ref": "hidgiyyunigqazssnydm",
            "reason": null,
            "region": "us-east-1",
            "served_by": "supabase-edge-runtime-1.70.3 (compatible with Deno v2.1.4)",
            "timestamp": "2026-02-16T01:35:32.074Z",
            "version": "23"
          }
        ]
      },
      {
        "event_message": "[POOL DEBUG] candidates_snapshot {\n  slotType: \"lunch\",\n  memberId: \"null\",\n  usedTitleKeysCount: 28,\n  proteinCounts: { veg: 3, chicken: 4, dairy: 3, fish: 2, egg: 1 },\n  top5: [\n    {\n      id: \"5cd4612c-7c3e-4649-b113-1ace2105f195\",\n      title: \"Тыквенный суп-пюре с нутом\",\n      meal_type_raw: null,\n      meal_type_norm_raw: null,\n      meal_type_resolved: \"lunch\",\n      meal_type_wasInferred: true,\n      proteinKey: \"legumes\",\n      baseScore: 1,\n      diversityPenalty: 0,\n      finalScore: 1,\n      proteinCountBefore: 0,\n      source: \"week_ai\",\n      hasSteps: true,\n      ingredientsCount: 6,\n      flags: {\n        isSoupLike: true,\n        isSnackLike: true,\n        isBreakfastLike: false,\n        sanityRejected: false,\n        allergyHit: false\n      }\n    },\n    {\n      id: \"fdda177f-77db-4247-8ea3-28e898e76264\",\n      title: \"Суп-пюре из брокколи с картофелем и морковью\",\n      meal_type_raw: null,\n      meal_type_norm_raw: null,\n      meal_type_resolved: \"lunch\",\n      meal_type_wasInferred: true,\n      proteinKey: \"veg\",\n      baseScore: 1,\n      diversityPenalty: -15,\n      finalScore: -14,\n      proteinCountBefore: 3,\n      source: \"week_ai\",\n      hasSteps: true,\n      ingredientsCount: 6,\n      flags: {\n        isSoupLike: true,\n        isSnackLike: true,\n        isBreakfastLike: false,\n        sanityRejected: false,\n        allergyHit: false\n      }\n    },\n    {\n      id: \"80cb76d3-9890-4c22-b516-bba41646d63d\",\n      title: \"Тефтели из индейки с гречкой и тушеными овощами\",\n      meal_type_raw: \"lunch\",\n      meal_type_norm_raw: \"lunch\",\n      meal_type_resolved: \"lunch\",\n      meal_type_wasInferred: false,\n      proteinKey: \"chicken\",\n      baseScore: 4,\n      diversityPenalty: -25,\n      finalScore: -21,\n      proteinCountBefore: 4,\n      source: \"week_ai\",\n      hasSteps: true,\n      ingredientsCount: 7,\n      flags: {\n        isSoupLike: false,\n        isSnackLike: false,\n        isBreakfastLike: false,\n        sanityRejected: false,\n        allergyHit: false\n      }\n    },\n    {\n      id: \"a19c48df-42a5-4ca7-9101-45e2aa1ac6ff\",\n      title: \"Суп-пюре из кабачка и картофеля с индейкой\",\n      meal_type_raw: \"lunch\",\n      meal_type_norm_raw: \"lunch\",\n      meal_type_resolved: \"lunch\",\n      meal_type_wasInferred: false,\n      proteinKey: \"chicken\",\n      baseScore: 1,\n      diversityPenalty: -25,\n      finalScore: -24,\n      proteinCountBefore: 4,\n      source: \"week_ai\",\n      hasSteps: true,\n      ingredientsCount: 7,\n      flags: {\n        isSoupLike: true,\n        isSnackLike: true,\n        isBreakfastLike: false,\n        sanityRejected: false,\n        allergyHit: false\n      }\n    },\n    {\n      id: \"13cb8e31-b4b1-43d0-8f6b-df932eb6d6a3\",\n      title: \"Суп-пюре из моркови и картофеля с индейкой\",\n      meal_type_raw: \"lunch\",\n      meal_type_norm_raw: \"lunch\",\n      meal_type_resolved: \"lunch\",\n      meal_type_wasInferred: false,\n      proteinKey: \"chicken\",\n      baseScore: 1,\n      diversityPenalty: -25,\n      finalScore: -24,\n      proteinCountBefore: 4,\n      source: \"week_ai\",\n      hasSteps: true,\n      ingredientsCount: 6,\n      flags: {\n        isSoupLike: true,\n        isSnackLike: true,\n        isBreakfastLike: false,\n        sanityRejected: false,\n        allergyHit: false\n      }\n    }\n  ]\n}\n",
        "metadata": [
          {
            "boot_time": null,
            "cpu_time_used": null,
            "deployment_id": "hidgiyyunigqazssnydm_68d27ef6-8413-4eb9-8105-2cfc2b1290c9_23",
            "event_type": "Log",
            "execution_id": "5a7b47e7-4eff-4ce3-8ee8-d6a655ccda3b",
            "function_id": "68d27ef6-8413-4eb9-8105-2cfc2b1290c9",
            "level": "info",
            "memory_used": [],
            "project_ref": "hidgiyyunigqazssnydm",
            "reason": null,
            "region": "us-east-1",
            "served_by": "supabase-edge-runtime-1.70.3 (compatible with Deno v2.1.4)",
            "timestamp": "2026-02-16T01:35:32.376Z",
            "version": "23"
          }
        ]
      },
      {
        "event_message": "[POOL DEBUG] candidates_snapshot {\n  slotType: \"snack\",\n  memberId: \"null\",\n  usedTitleKeysCount: 29,\n  proteinCounts: { veg: 3, chicken: 5, dairy: 3, fish: 2, egg: 1 },\n  top5: [\n    {\n      id: \"569f6b73-dc15-4f70-9849-137d0f474b6a\",\n      title: \"Йогурт с яблоком и орехами\",\n      meal_type_raw: \"snack\",\n      meal_type_norm_raw: \"snack\",\n      meal_type_resolved: \"snack\",\n      meal_type_wasInferred: false,\n      proteinKey: \"dairy\",\n      baseScore: 6,\n      diversityPenalty: -30,\n      finalScore: -24,\n      proteinCountBefore: 3,\n      source: \"week_ai\",\n      hasSteps: true,\n      ingredientsCount: 3,\n      flags: {\n        isSoupLike: false,\n        isSnackLike: true,\n        isBreakfastLike: false,\n        sanityRejected: false,\n        allergyHit: false\n      }\n    },\n    {\n      id: \"762c98ce-3a4c-4073-8d14-b671f2d1c400\",\n      title: \"Йогурт с персиком и орехами\",\n      meal_type_raw: \"snack\",\n      meal_type_norm_raw: \"snack\",\n      meal_type_resolved: \"snack\",\n      meal_type_wasInferred: false,\n      proteinKey: \"dairy\",\n      baseScore: 6,\n      diversityPenalty: -30,\n      finalScore: -24,\n      proteinCountBefore: 3,\n      source: \"week_ai\",\n      hasSteps: true,\n      ingredientsCount: 3,\n      flags: {\n        isSoupLike: false,\n        isSnackLike: true,\n        isBreakfastLike: false,\n        sanityRejected: false,\n        allergyHit: false\n      }\n    },\n    {\n      id: \"43a9dafa-a89e-452e-91ae-df00364b8346\",\n      title: \"Йогурт с ягодами и орехами\",\n      meal_type_raw: null,\n      meal_type_norm_raw: null,\n      meal_type_resolved: \"snack\",\n      meal_type_wasInferred: true,\n      proteinKey: \"dairy\",\n      baseScore: 6,\n      diversityPenalty: -30,\n      finalScore: -24,\n      proteinCountBefore: 3,\n      source: \"week_ai\",\n      hasSteps: true,\n      ingredientsCount: 3,\n      flags: {\n        isSoupLike: false,\n        isSnackLike: true,\n        isBreakfastLike: false,\n        sanityRejected: false,\n        allergyHit: false\n      }\n    },\n    {\n      id: \"d297e6ff-ff83-4913-bec6-50a2c08c0af4\",\n      title: \"Йогурт с яблоком и печеньем\",\n      meal_type_raw: null,\n      meal_type_norm_raw: null,\n      meal_type_resolved: \"snack\",\n      meal_type_wasInferred: true,\n      proteinKey: \"dairy\",\n      baseScore: 6,\n      diversityPenalty: -30,\n      finalScore: -24,\n      proteinCountBefore: 3,\n      source: \"week_ai\",\n      hasSteps: true,\n      ingredientsCount: 3,\n      flags: {\n        isSoupLike: false,\n        isSnackLike: true,\n        isBreakfastLike: false,\n        sanityRejected: false,\n        allergyHit: false\n      }\n    },\n    {\n      id: \"5a1472ac-6b36-416d-acbd-d48b39677759\",\n      title: \"Творог с грушей и печеньем\",\n      meal_type_raw: null,\n      meal_type_norm_raw: null,\n      meal_type_resolved: \"snack\",\n      meal_type_wasInferred: true,\n      proteinKey: \"dairy\",\n      baseScore: 6,\n      diversityPenalty: -30,\n      finalScore: -24,\n      proteinCountBefore: 3,\n      source: \"week_ai\",\n      hasSteps: true,\n      ingredientsCount: 3,\n      flags: {\n        isSoupLike: false,\n        isSnackLike: true,\n        isBreakfastLike: false,\n        sanityRejected: false,\n        allergyHit: false\n      }\n    }\n  ]\n}\n",
        "metadata": [
          {
            "boot_time": null,
            "cpu_time_used": null,
            "deployment_id": "hidgiyyunigqazssnydm_68d27ef6-8413-4eb9-8105-2cfc2b1290c9_23",
            "event_type": "Log",
            "execution_id": "5a7b47e7-4eff-4ce3-8ee8-d6a655ccda3b",
            "function_id": "68d27ef6-8413-4eb9-8105-2cfc2b1290c9",
            "level": "info",
            "memory_used": [],
            "project_ref": "hidgiyyunigqazssnydm",
            "reason": null,
            "region": "us-east-1",
            "served_by": "supabase-edge-runtime-1.70.3 (compatible with Deno v2.1.4)",
            "timestamp": "2026-02-16T01:35:32.678Z",
            "version": "23"
          }
        ]
      },
      {
        "event_message": "[POOL DEBUG] candidates_snapshot {\n  slotType: \"dinner\",\n  memberId: \"null\",\n  usedTitleKeysCount: 30,\n  proteinCounts: { veg: 3, chicken: 5, dairy: 4, fish: 2, egg: 1 },\n  top5: [\n    {\n      id: \"9617e016-351c-43b3-9ebb-440000afa395\",\n      title: \"Запечённый минтай с цветной капустой и картофелем\",\n      meal_type_raw: \"dinner\",\n      meal_type_norm_raw: \"dinner\",\n      meal_type_resolved: \"dinner\",\n      meal_type_wasInferred: false,\n      proteinKey: \"fish\",\n      baseScore: 4,\n      diversityPenalty: -20,\n      finalScore: -16,\n      proteinCountBefore: 2,\n      source: \"week_ai\",\n      hasSteps: true,\n      ingredientsCount: 5,\n      flags: {\n        isSoupLike: false,\n        isSnackLike: false,\n        isBreakfastLike: false,\n        sanityRejected: false,\n        allergyHit: false\n      }\n    },\n    {\n      id: \"bf9707f7-d827-4e3f-b841-0aaf827333f8\",\n      title: \"Запечённая баранина с овощами\",\n      meal_type_raw: \"dinner\",\n      meal_type_norm_raw: \"dinner\",\n      meal_type_resolved: \"dinner\",\n      meal_type_wasInferred: false,\n      proteinKey: \"dairy\",\n      baseScore: 2,\n      diversityPenalty: -20,\n      finalScore: -18,\n      proteinCountBefore: 4,\n      source: \"chat_ai\",\n      hasSteps: true,\n      ingredientsCount: 5,\n      flags: {\n        isSoupLike: false,\n        isSnackLike: false,\n        isBreakfastLike: false,\n        sanityRejected: false,\n        allergyHit: false\n      }\n    },\n    {\n      id: \"85f3e1ca-16bc-402b-9b4e-633a271d7c78\",\n      title: \"Запечённая баранина с овощами\",\n      meal_type_raw: \"dinner\",\n      meal_type_norm_raw: \"dinner\",\n      meal_type_resolved: \"dinner\",\n      meal_type_wasInferred: false,\n      proteinKey: \"dairy\",\n      baseScore: 2,\n      diversityPenalty: -20,\n      finalScore: -18,\n      proteinCountBefore: 4,\n      source: \"chat_ai\",\n      hasSteps: true,\n      ingredientsCount: 5,\n      flags: {\n        isSoupLike: false,\n        isSnackLike: false,\n        isBreakfastLike: false,\n        sanityRejected: false,\n        allergyHit: false\n      }\n    },\n    {\n      id: \"82e23112-4426-4b93-b5db-5f929b5fba5b\",\n      title: \"Запечённая баранина с овощами\",\n      meal_type_raw: null,\n      meal_type_norm_raw: null,\n      meal_type_resolved: \"dinner\",\n      meal_type_wasInferred: true,\n      proteinKey: \"dairy\",\n      baseScore: 2,\n      diversityPenalty: -20,\n      finalScore: -18,\n      proteinCountBefore: 4,\n      source: \"chat_ai\",\n      hasSteps: true,\n      ingredientsCount: 5,\n      flags: {\n        isSoupLike: false,\n        isSnackLike: false,\n        isBreakfastLike: false,\n        sanityRejected: false,\n        allergyHit: false\n      }\n    },\n    {\n      id: \"62ceddc2-16e5-4bd0-8fae-9142dc4f2438\",\n      title: \"Запечённая курица с тыквой и брокколи\",\n      meal_type_raw: \"dinner\",\n      meal_type_norm_raw: \"dinner\",\n      meal_type_resolved: \"dinner\",\n      meal_type_wasInferred: false,\n      proteinKey: \"chicken\",\n      baseScore: 4,\n      diversityPenalty: -25,\n      finalScore: -21,\n      proteinCountBefore: 5,\n      source: \"week_ai\",\n      hasSteps: true,\n      ingredientsCount: 5,\n      flags: {\n        isSoupLike: false,\n        isSnackLike: false,\n        isBreakfastLike: false,\n        sanityRejected: false,\n        allergyHit: false\n      }\n    }\n  ]\n}\n",
        "metadata": [
          {
            "boot_time": null,
            "cpu_time_used": null,
            "deployment_id": "hidgiyyunigqazssnydm_68d27ef6-8413-4eb9-8105-2cfc2b1290c9_23",
            "event_type": "Log",
            "execution_id": "5a7b47e7-4eff-4ce3-8ee8-d6a655ccda3b",
            "function_id": "68d27ef6-8413-4eb9-8105-2cfc2b1290c9",
            "level": "info",
            "memory_used": [],
            "project_ref": "hidgiyyunigqazssnydm",
            "reason": null,
            "region": "us-east-1",
            "served_by": "supabase-edge-runtime-1.70.3 (compatible with Deno v2.1.4)",
            "timestamp": "2026-02-16T01:35:32.972Z",
            "version": "23"
          }
        ]
      },
      {
        "event_message": "[POOL DEBUG] candidates_snapshot {\n  slotType: \"breakfast\",\n  memberId: \"null\",\n  usedTitleKeysCount: 31,\n  proteinCounts: { veg: 3, chicken: 6, dairy: 4, fish: 2, egg: 1 },\n  top5: [\n    {\n      id: \"178e9ad9-1d02-46bb-bdb0-84fe0d9cc2ae\",\n      title: \"Творожные кексы с грушей\",\n      meal_type_raw: \"breakfast\",\n      meal_type_norm_raw: \"breakfast\",\n      meal_type_resolved: \"breakfast\",\n      meal_type_wasInferred: false,\n      proteinKey: \"dairy\",\n      baseScore: 4,\n      diversityPenalty: -20,\n      finalScore: -16,\n      proteinCountBefore: 4,\n      source: \"week_ai\",\n      hasSteps: true,\n      ingredientsCount: 5,\n      flags: {\n        isSoupLike: false,\n        isSnackLike: false,\n        isBreakfastLike: false,\n        sanityRejected: false,\n        allergyHit: false\n      }\n    },\n    {\n      id: \"4bce887f-6d0b-4d3e-a2c7-ca5cf217ee29\",\n      title: \"Творожные панкейки с бананом\",\n      meal_type_raw: \"breakfast\",\n      meal_type_norm_raw: \"breakfast\",\n      meal_type_resolved: \"breakfast\",\n      meal_type_wasInferred: false,\n      proteinKey: \"dairy\",\n      baseScore: 4,\n      diversityPenalty: -20,\n      finalScore: -16,\n      proteinCountBefore: 4,\n      source: \"week_ai\",\n      hasSteps: true,\n      ingredientsCount: 5,\n      flags: {\n        isSoupLike: false,\n        isSnackLike: false,\n        isBreakfastLike: false,\n        sanityRejected: false,\n        allergyHit: false\n      }\n    },\n    {\n      id: \"e067be83-1e1e-4ed7-8b68-24cf766a87d8\",\n      title: \"Омлет с брокколи и сыром\",\n      meal_type_raw: \"breakfast\",\n      meal_type_norm_raw: \"breakfast\",\n      meal_type_resolved: \"breakfast\",\n      meal_type_wasInferred: false,\n      proteinKey: \"dairy\",\n      baseScore: 4,\n      diversityPenalty: -20,\n      finalScore: -16,\n      proteinCountBefore: 4,\n      source: \"week_ai\",\n      hasSteps: true,\n      ingredientsCount: 5,\n      flags: {\n        isSoupLike: false,\n        isSnackLike: false,\n        isBreakfastLike: false,\n        sanityRejected: false,\n        allergyHit: false\n      }\n    },\n    {\n      id: \"9aae1320-b3b4-4790-bbef-e37b158ef166\",\n      title: \"Творожные сырники с яблоком\",\n      meal_type_raw: \"breakfast\",\n      meal_type_norm_raw: \"breakfast\",\n      meal_type_resolved: \"breakfast\",\n      meal_type_wasInferred: false,\n      proteinKey: \"dairy\",\n      baseScore: 4,\n      diversityPenalty: -20,\n      finalScore: -16,\n      proteinCountBefore: 4,\n      source: \"week_ai\",\n      hasSteps: true,\n      ingredientsCount: 5,\n      flags: {\n        isSoupLike: false,\n        isSnackLike: false,\n        isBreakfastLike: true,\n        sanityRejected: false,\n        allergyHit: false\n      }\n    },\n    {\n      id: \"321a6883-0660-45b8-9b17-f4b72f3229c2\",\n      title: \"Творожные сырники с яблоком\",\n      meal_type_raw: null,\n      meal_type_norm_raw: null,\n      meal_type_resolved: \"breakfast\",\n      meal_type_wasInferred: true,\n      proteinKey: \"dairy\",\n      baseScore: 4,\n      diversityPenalty: -20,\n      finalScore: -16,\n      proteinCountBefore: 4,\n      source: \"week_ai\",\n      hasSteps: true,\n      ingredientsCount: 5,\n      flags: {\n        isSoupLike: false,\n        isSnackLike: false,\n        isBreakfastLike: true,\n        sanityRejected: false,\n        allergyHit: false\n      }\n    }\n  ]\n}\n",
        "metadata": [
          {
            "boot_time": null,
            "cpu_time_used": null,
            "deployment_id": "hidgiyyunigqazssnydm_68d27ef6-8413-4eb9-8105-2cfc2b1290c9_23",
            "event_type": "Log",
            "execution_id": "5a7b47e7-4eff-4ce3-8ee8-d6a655ccda3b",
            "function_id": "68d27ef6-8413-4eb9-8105-2cfc2b1290c9",
            "level": "info",
            "memory_used": [],
            "project_ref": "hidgiyyunigqazssnydm",
            "reason": null,
            "region": "us-east-1",
            "served_by": "supabase-edge-runtime-1.70.3 (compatible with Deno v2.1.4)",
            "timestamp": "2026-02-16T01:35:33.635Z",
            "version": "23"
          }
        ]
      },
      {
        "event_message": "[POOL DEBUG] candidates_snapshot {\n  slotType: \"lunch\",\n  memberId: \"null\",\n  usedTitleKeysCount: 32,\n  proteinCounts: { veg: 3, chicken: 6, dairy: 5, fish: 2, egg: 1 },\n  top5: [\n    {\n      id: \"5cd4612c-7c3e-4649-b113-1ace2105f195\",\n      title: \"Тыквенный суп-пюре с нутом\",\n      meal_type_raw: null,\n      meal_type_norm_raw: null,\n      meal_type_resolved: \"lunch\",\n      meal_type_wasInferred: true,\n      proteinKey: \"legumes\",\n      baseScore: 1,\n      diversityPenalty: 0,\n      finalScore: 1,\n      proteinCountBefore: 0,\n      source: \"week_ai\",\n      hasSteps: true,\n      ingredientsCount: 6,\n      flags: {\n        isSoupLike: true,\n        isSnackLike: true,\n        isBreakfastLike: false,\n        sanityRejected: false,\n        allergyHit: false\n      }\n    },\n    {\n      id: \"fdda177f-77db-4247-8ea3-28e898e76264\",\n      title: \"Суп-пюре из брокколи с картофелем и морковью\",\n      meal_type_raw: null,\n      meal_type_norm_raw: null,\n      meal_type_resolved: \"lunch\",\n      meal_type_wasInferred: true,\n      proteinKey: \"veg\",\n      baseScore: 1,\n      diversityPenalty: -15,\n      finalScore: -14,\n      proteinCountBefore: 3,\n      source: \"week_ai\",\n      hasSteps: true,\n      ingredientsCount: 6,\n      flags: {\n        isSoupLike: true,\n        isSnackLike: true,\n        isBreakfastLike: false,\n        sanityRejected: false,\n        allergyHit: false\n      }\n    },\n    {\n      id: \"80cb76d3-9890-4c22-b516-bba41646d63d\",\n      title: \"Тефтели из индейки с гречкой и тушеными овощами\",\n      meal_type_raw: \"lunch\",\n      meal_type_norm_raw: \"lunch\",\n      meal_type_resolved: \"lunch\",\n      meal_type_wasInferred: false,\n      proteinKey: \"chicken\",\n      baseScore: 4,\n      diversityPenalty: -25,\n      finalScore: -21,\n      proteinCountBefore: 6,\n      source: \"week_ai\",\n      hasSteps: true,\n      ingredientsCount: 7,\n      flags: {\n        isSoupLike: false,\n        isSnackLike: false,\n        isBreakfastLike: false,\n        sanityRejected: false,\n        allergyHit: false\n      }\n    },\n    {\n      id: \"13cb8e31-b4b1-43d0-8f6b-df932eb6d6a3\",\n      title: \"Суп-пюре из моркови и картофеля с индейкой\",\n      meal_type_raw: \"lunch\",\n      meal_type_norm_raw: \"lunch\",\n      meal_type_resolved: \"lunch\",\n      meal_type_wasInferred: false,\n      proteinKey: \"chicken\",\n      baseScore: 1,\n      diversityPenalty: -25,\n      finalScore: -24,\n      proteinCountBefore: 6,\n      source: \"week_ai\",\n      hasSteps: true,\n      ingredientsCount: 6,\n      flags: {\n        isSoupLike: true,\n        isSnackLike: true,\n        isBreakfastLike: false,\n        sanityRejected: false,\n        allergyHit: false\n      }\n    },\n    {\n      id: \"8801a4a8-d1f6-49c5-aa5b-3535c46ff770\",\n      title: \"Суп-пюре из цветной капусты с курицей и картофелем\",\n      meal_type_raw: \"lunch\",\n      meal_type_norm_raw: \"lunch\",\n      meal_type_resolved: \"lunch\",\n      meal_type_wasInferred: false,\n      proteinKey: \"chicken\",\n      baseScore: 1,\n      diversityPenalty: -25,\n      finalScore: -24,\n      proteinCountBefore: 6,\n      source: \"week_ai\",\n      hasSteps: true,\n      ingredientsCount: 6,\n      flags: {\n        isSoupLike: true,\n        isSnackLike: true,\n        isBreakfastLike: false,\n        sanityRejected: false,\n        allergyHit: false\n      }\n    }\n  ]\n}\n",
        "metadata": [
          {
            "boot_time": null,
            "cpu_time_used": null,
            "deployment_id": "hidgiyyunigqazssnydm_68d27ef6-8413-4eb9-8105-2cfc2b1290c9_23",
            "event_type": "Log",
            "execution_id": "5a7b47e7-4eff-4ce3-8ee8-d6a655ccda3b",
            "function_id": "68d27ef6-8413-4eb9-8105-2cfc2b1290c9",
            "level": "info",
            "memory_used": [],
            "project_ref": "hidgiyyunigqazssnydm",
            "reason": null,
            "region": "us-east-1",
            "served_by": "supabase-edge-runtime-1.70.3 (compatible with Deno v2.1.4)",
            "timestamp": "2026-02-16T01:35:34.070Z",
            "version": "23"
          }
        ]
      },
      {
        "event_message": "[POOL DEBUG] candidates_snapshot {\n  slotType: \"snack\",\n  memberId: \"null\",\n  usedTitleKeysCount: 33,\n  proteinCounts: { veg: 3, chicken: 7, dairy: 5, fish: 2, egg: 1 },\n  top5: [\n    {\n      id: \"569f6b73-dc15-4f70-9849-137d0f474b6a\",\n      title: \"Йогурт с яблоком и орехами\",\n      meal_type_raw: \"snack\",\n      meal_type_norm_raw: \"snack\",\n      meal_type_resolved: \"snack\",\n      meal_type_wasInferred: false,\n      proteinKey: \"dairy\",\n      baseScore: 6,\n      diversityPenalty: -30,\n      finalScore: -24,\n      proteinCountBefore: 5,\n      source: \"week_ai\",\n      hasSteps: true,\n      ingredientsCount: 3,\n      flags: {\n        isSoupLike: false,\n        isSnackLike: true,\n        isBreakfastLike: false,\n        sanityRejected: false,\n        allergyHit: false\n      }\n    },\n    {\n      id: \"762c98ce-3a4c-4073-8d14-b671f2d1c400\",\n      title: \"Йогурт с персиком и орехами\",\n      meal_type_raw: \"snack\",\n      meal_type_norm_raw: \"snack\",\n      meal_type_resolved: \"snack\",\n      meal_type_wasInferred: false,\n      proteinKey: \"dairy\",\n      baseScore: 6,\n      diversityPenalty: -30,\n      finalScore: -24,\n      proteinCountBefore: 5,\n      source: \"week_ai\",\n      hasSteps: true,\n      ingredientsCount: 3,\n      flags: {\n        isSoupLike: false,\n        isSnackLike: true,\n        isBreakfastLike: false,\n        sanityRejected: false,\n        allergyHit: false\n      }\n    },\n    {\n      id: \"43a9dafa-a89e-452e-91ae-df00364b8346\",\n      title: \"Йогурт с ягодами и орехами\",\n      meal_type_raw: null,\n      meal_type_norm_raw: null,\n      meal_type_resolved: \"snack\",\n      meal_type_wasInferred: true,\n      proteinKey: \"dairy\",\n      baseScore: 6,\n      diversityPenalty: -30,\n      finalScore: -24,\n      proteinCountBefore: 5,\n      source: \"week_ai\",\n      hasSteps: true,\n      ingredientsCount: 3,\n      flags: {\n        isSoupLike: false,\n        isSnackLike: true,\n        isBreakfastLike: false,\n        sanityRejected: false,\n        allergyHit: false\n      }\n    },\n    {\n      id: \"d297e6ff-ff83-4913-bec6-50a2c08c0af4\",\n      title: \"Йогурт с яблоком и печеньем\",\n      meal_type_raw: null,\n      meal_type_norm_raw: null,\n      meal_type_resolved: \"snack\",\n      meal_type_wasInferred: true,\n      proteinKey: \"dairy\",\n      baseScore: 6,\n      diversityPenalty: -30,\n      finalScore: -24,\n      proteinCountBefore: 5,\n      source: \"week_ai\",\n      hasSteps: true,\n      ingredientsCount: 3,\n      flags: {\n        isSoupLike: false,\n        isSnackLike: true,\n        isBreakfastLike: false,\n        sanityRejected: false,\n        allergyHit: false\n      }\n    },\n    {\n      id: \"5a1472ac-6b36-416d-acbd-d48b39677759\",\n      title: \"Творог с грушей и печеньем\",\n      meal_type_raw: null,\n      meal_type_norm_raw: null,\n      meal_type_resolved: \"snack\",\n      meal_type_wasInferred: true,\n      proteinKey: \"dairy\",\n      baseScore: 6,\n      diversityPenalty: -30,\n      finalScore: -24,\n      proteinCountBefore: 5,\n      source: \"week_ai\",\n      hasSteps: true,\n      ingredientsCount: 3,\n      flags: {\n        isSoupLike: false,\n        isSnackLike: true,\n        isBreakfastLike: false,\n        sanityRejected: false,\n        allergyHit: false\n      }\n    }\n  ]\n}\n",
        "metadata": [
          {
            "boot_time": null,
            "cpu_time_used": null,
            "deployment_id": "hidgiyyunigqazssnydm_68d27ef6-8413-4eb9-8105-2cfc2b1290c9_23",
            "event_type": "Log",
            "execution_id": "5a7b47e7-4eff-4ce3-8ee8-d6a655ccda3b",
            "function_id": "68d27ef6-8413-4eb9-8105-2cfc2b1290c9",
            "level": "info",
            "memory_used": [],
            "project_ref": "hidgiyyunigqazssnydm",
            "reason": null,
            "region": "us-east-1",
            "served_by": "supabase-edge-runtime-1.70.3 (compatible with Deno v2.1.4)",
            "timestamp": "2026-02-16T01:35:34.369Z",
            "version": "23"
          }
        ]
      },
      {
        "event_message": "[POOL DEBUG] candidates_snapshot {\n  slotType: \"dinner\",\n  memberId: \"null\",\n  usedTitleKeysCount: 34,\n  proteinCounts: { veg: 3, chicken: 7, dairy: 6, fish: 2, egg: 1 },\n  top5: [\n    {\n      id: \"9617e016-351c-43b3-9ebb-440000afa395\",\n      title: \"Запечённый минтай с цветной капустой и картофелем\",\n      meal_type_raw: \"dinner\",\n      meal_type_norm_raw: \"dinner\",\n      meal_type_resolved: \"dinner\",\n      meal_type_wasInferred: false,\n      proteinKey: \"fish\",\n      baseScore: 4,\n      diversityPenalty: -20,\n      finalScore: -16,\n      proteinCountBefore: 2,\n      source: \"week_ai\",\n      hasSteps: true,\n      ingredientsCount: 5,\n      flags: {\n        isSoupLike: false,\n        isSnackLike: false,\n        isBreakfastLike: false,\n        sanityRejected: false,\n        allergyHit: false\n      }\n    },\n    {\n      id: \"bf9707f7-d827-4e3f-b841-0aaf827333f8\",\n      title: \"Запечённая баранина с овощами\",\n      meal_type_raw: \"dinner\",\n      meal_type_norm_raw: \"dinner\",\n      meal_type_resolved: \"dinner\",\n      meal_type_wasInferred: false,\n      proteinKey: \"dairy\",\n      baseScore: 2,\n      diversityPenalty: -20,\n      finalScore: -18,\n      proteinCountBefore: 6,\n      source: \"chat_ai\",\n      hasSteps: true,\n      ingredientsCount: 5,\n      flags: {\n        isSoupLike: false,\n        isSnackLike: false,\n        isBreakfastLike: false,\n        sanityRejected: false,\n        allergyHit: false\n      }\n    },\n    {\n      id: \"85f3e1ca-16bc-402b-9b4e-633a271d7c78\",\n      title: \"Запечённая баранина с овощами\",\n      meal_type_raw: \"dinner\",\n      meal_type_norm_raw: \"dinner\",\n      meal_type_resolved: \"dinner\",\n      meal_type_wasInferred: false,\n      proteinKey: \"dairy\",\n      baseScore: 2,\n      diversityPenalty: -20,\n      finalScore: -18,\n      proteinCountBefore: 6,\n      source: \"chat_ai\",\n      hasSteps: true,\n      ingredientsCount: 5,\n      flags: {\n        isSoupLike: false,\n        isSnackLike: false,\n        isBreakfastLike: false,\n        sanityRejected: false,\n        allergyHit: false\n      }\n    },\n    {\n      id: \"82e23112-4426-4b93-b5db-5f929b5fba5b\",\n      title: \"Запечённая баранина с овощами\",\n      meal_type_raw: null,\n      meal_type_norm_raw: null,\n      meal_type_resolved: \"dinner\",\n      meal_type_wasInferred: true,\n      proteinKey: \"dairy\",\n      baseScore: 2,\n      diversityPenalty: -20,\n      finalScore: -18,\n      proteinCountBefore: 6,\n      source: \"chat_ai\",\n      hasSteps: true,\n      ingredientsCount: 5,\n      flags: {\n        isSoupLike: false,\n        isSnackLike: false,\n        isBreakfastLike: false,\n        sanityRejected: false,\n        allergyHit: false\n      }\n    },\n    {\n      id: \"62ceddc2-16e5-4bd0-8fae-9142dc4f2438\",\n      title: \"Запечённая курица с тыквой и брокколи\",\n      meal_type_raw: \"dinner\",\n      meal_type_norm_raw: \"dinner\",\n      meal_type_resolved: \"dinner\",\n      meal_type_wasInferred: false,\n      proteinKey: \"chicken\",\n      baseScore: 4,\n      diversityPenalty: -25,\n      finalScore: -21,\n      proteinCountBefore: 7,\n      source: \"week_ai\",\n      hasSteps: true,\n      ingredientsCount: 5,\n      flags: {\n        isSoupLike: false,\n        isSnackLike: false,\n        isBreakfastLike: false,\n        sanityRejected: false,\n        allergyHit: false\n      }\n    }\n  ]\n}\n",
        "metadata": [
          {
            "boot_time": null,
            "cpu_time_used": null,
            "deployment_id": "hidgiyyunigqazssnydm_68d27ef6-8413-4eb9-8105-2cfc2b1290c9_23",
            "event_type": "Log",
            "execution_id": "5a7b47e7-4eff-4ce3-8ee8-d6a655ccda3b",
            "function_id": "68d27ef6-8413-4eb9-8105-2cfc2b1290c9",
            "level": "info",
            "memory_used": [],
            "project_ref": "hidgiyyunigqazssnydm",
            "reason": null,
            "region": "us-east-1",
            "served_by": "supabase-edge-runtime-1.70.3 (compatible with Deno v2.1.4)",
            "timestamp": "2026-02-16T01:35:34.765Z",
            "version": "23"
          }
        ]
      },
      {
        "event_message": "[POOL DEBUG] candidates_snapshot {\n  slotType: \"breakfast\",\n  memberId: \"null\",\n  usedTitleKeysCount: 35,\n  proteinCounts: { veg: 4, chicken: 7, dairy: 6, fish: 2, egg: 1 },\n  top5: [\n    {\n      id: \"178e9ad9-1d02-46bb-bdb0-84fe0d9cc2ae\",\n      title: \"Творожные кексы с грушей\",\n      meal_type_raw: \"breakfast\",\n      meal_type_norm_raw: \"breakfast\",\n      meal_type_resolved: \"breakfast\",\n      meal_type_wasInferred: false,\n      proteinKey: \"dairy\",\n      baseScore: 4,\n      diversityPenalty: -20,\n      finalScore: -16,\n      proteinCountBefore: 6,\n      source: \"week_ai\",\n      hasSteps: true,\n      ingredientsCount: 5,\n      flags: {\n        isSoupLike: false,\n        isSnackLike: false,\n        isBreakfastLike: false,\n        sanityRejected: false,\n        allergyHit: false\n      }\n    },\n    {\n      id: \"4bce887f-6d0b-4d3e-a2c7-ca5cf217ee29\",\n      title: \"Творожные панкейки с бананом\",\n      meal_type_raw: \"breakfast\",\n      meal_type_norm_raw: \"breakfast\",\n      meal_type_resolved: \"breakfast\",\n      meal_type_wasInferred: false,\n      proteinKey: \"dairy\",\n      baseScore: 4,\n      diversityPenalty: -20,\n      finalScore: -16,\n      proteinCountBefore: 6,\n      source: \"week_ai\",\n      hasSteps: true,\n      ingredientsCount: 5,\n      flags: {\n        isSoupLike: false,\n        isSnackLike: false,\n        isBreakfastLike: false,\n        sanityRejected: false,\n        allergyHit: false\n      }\n    },\n    {\n      id: \"e067be83-1e1e-4ed7-8b68-24cf766a87d8\",\n      title: \"Омлет с брокколи и сыром\",\n      meal_type_raw: \"breakfast\",\n      meal_type_norm_raw: \"breakfast\",\n      meal_type_resolved: \"breakfast\",\n      meal_type_wasInferred: false,\n      proteinKey: \"dairy\",\n      baseScore: 4,\n      diversityPenalty: -20,\n      finalScore: -16,\n      proteinCountBefore: 6,\n      source: \"week_ai\",\n      hasSteps: true,\n      ingredientsCount: 5,\n      flags: {\n        isSoupLike: false,\n        isSnackLike: false,\n        isBreakfastLike: false,\n        sanityRejected: false,\n        allergyHit: false\n      }\n    },\n    {\n      id: \"9aae1320-b3b4-4790-bbef-e37b158ef166\",\n      title: \"Творожные сырники с яблоком\",\n      meal_type_raw: \"breakfast\",\n      meal_type_norm_raw: \"breakfast\",\n      meal_type_resolved: \"breakfast\",\n      meal_type_wasInferred: false,\n      proteinKey: \"dairy\",\n      baseScore: 4,\n      diversityPenalty: -20,\n      finalScore: -16,\n      proteinCountBefore: 6,\n      source: \"week_ai\",\n      hasSteps: true,\n      ingredientsCount: 5,\n      flags: {\n        isSoupLike: false,\n        isSnackLike: false,\n        isBreakfastLike: true,\n        sanityRejected: false,\n        allergyHit: false\n      }\n    },\n    {\n      id: \"321a6883-0660-45b8-9b17-f4b72f3229c2\",\n      title: \"Творожные сырники с яблоком\",\n      meal_type_raw: null,\n      meal_type_norm_raw: null,\n      meal_type_resolved: \"breakfast\",\n      meal_type_wasInferred: true,\n      proteinKey: \"dairy\",\n      baseScore: 4,\n      diversityPenalty: -20,\n      finalScore: -16,\n      proteinCountBefore: 6,\n      source: \"week_ai\",\n      hasSteps: true,\n      ingredientsCount: 5,\n      flags: {\n        isSoupLike: false,\n        isSnackLike: false,\n        isBreakfastLike: true,\n        sanityRejected: false,\n        allergyHit: false\n      }\n    }\n  ]\n}\n",
        "metadata": [
          {
            "boot_time": null,
            "cpu_time_used": null,
            "deployment_id": "hidgiyyunigqazssnydm_68d27ef6-8413-4eb9-8105-2cfc2b1290c9_23",
            "event_type": "Log",
            "execution_id": "5a7b47e7-4eff-4ce3-8ee8-d6a655ccda3b",
            "function_id": "68d27ef6-8413-4eb9-8105-2cfc2b1290c9",
            "level": "info",
            "memory_used": [],
            "project_ref": "hidgiyyunigqazssnydm",
            "reason": null,
            "region": "us-east-1",
            "served_by": "supabase-edge-runtime-1.70.3 (compatible with Deno v2.1.4)",
            "timestamp": "2026-02-16T01:35:35.403Z",
            "version": "23"
          }
        ]
      },
      {
        "event_message": "[POOL DEBUG] candidates_snapshot {\n  slotType: \"lunch\",\n  memberId: \"null\",\n  usedTitleKeysCount: 36,\n  proteinCounts: { veg: 4, chicken: 7, dairy: 7, fish: 2, egg: 1 },\n  top5: [\n    {\n      id: \"5cd4612c-7c3e-4649-b113-1ace2105f195\",\n      title: \"Тыквенный суп-пюре с нутом\",\n      meal_type_raw: null,\n      meal_type_norm_raw: null,\n      meal_type_resolved: \"lunch\",\n      meal_type_wasInferred: true,\n      proteinKey: \"legumes\",\n      baseScore: 1,\n      diversityPenalty: 0,\n      finalScore: 1,\n      proteinCountBefore: 0,\n      source: \"week_ai\",\n      hasSteps: true,\n      ingredientsCount: 6,\n      flags: {\n        isSoupLike: true,\n        isSnackLike: true,\n        isBreakfastLike: false,\n        sanityRejected: false,\n        allergyHit: false\n      }\n    },\n    {\n      id: \"fdda177f-77db-4247-8ea3-28e898e76264\",\n      title: \"Суп-пюре из брокколи с картофелем и морковью\",\n      meal_type_raw: null,\n      meal_type_norm_raw: null,\n      meal_type_resolved: \"lunch\",\n      meal_type_wasInferred: true,\n      proteinKey: \"veg\",\n      baseScore: 1,\n      diversityPenalty: -15,\n      finalScore: -14,\n      proteinCountBefore: 4,\n      source: \"week_ai\",\n      hasSteps: true,\n      ingredientsCount: 6,\n      flags: {\n        isSoupLike: true,\n        isSnackLike: true,\n        isBreakfastLike: false,\n        sanityRejected: false,\n        allergyHit: false\n      }\n    },\n    {\n      id: \"80cb76d3-9890-4c22-b516-bba41646d63d\",\n      title: \"Тефтели из индейки с гречкой и тушеными овощами\",\n      meal_type_raw: \"lunch\",\n      meal_type_norm_raw: \"lunch\",\n      meal_type_resolved: \"lunch\",\n      meal_type_wasInferred: false,\n      proteinKey: \"chicken\",\n      baseScore: 4,\n      diversityPenalty: -25,\n      finalScore: -21,\n      proteinCountBefore: 7,\n      source: \"week_ai\",\n      hasSteps: true,\n      ingredientsCount: 7,\n      flags: {\n        isSoupLike: false,\n        isSnackLike: false,\n        isBreakfastLike: false,\n        sanityRejected: false,\n        allergyHit: false\n      }\n    },\n    {\n      id: \"13cb8e31-b4b1-43d0-8f6b-df932eb6d6a3\",\n      title: \"Суп-пюре из моркови и картофеля с индейкой\",\n      meal_type_raw: \"lunch\",\n      meal_type_norm_raw: \"lunch\",\n      meal_type_resolved: \"lunch\",\n      meal_type_wasInferred: false,\n      proteinKey: \"chicken\",\n      baseScore: 1,\n      diversityPenalty: -25,\n      finalScore: -24,\n      proteinCountBefore: 7,\n      source: \"week_ai\",\n      hasSteps: true,\n      ingredientsCount: 6,\n      flags: {\n        isSoupLike: true,\n        isSnackLike: true,\n        isBreakfastLike: false,\n        sanityRejected: false,\n        allergyHit: false\n      }\n    },\n    {\n      id: \"14741825-100f-4d3b-ac45-db5ae3b38def\",\n      title: \"Суп-пюре из моркови и картофеля с курицей\",\n      meal_type_raw: \"lunch\",\n      meal_type_norm_raw: \"lunch\",\n      meal_type_resolved: \"lunch\",\n      meal_type_wasInferred: false,\n      proteinKey: \"chicken\",\n      baseScore: 1,\n      diversityPenalty: -25,\n      finalScore: -24,\n      proteinCountBefore: 7,\n      source: \"week_ai\",\n      hasSteps: true,\n      ingredientsCount: 6,\n      flags: {\n        isSoupLike: true,\n        isSnackLike: true,\n        isBreakfastLike: false,\n        sanityRejected: false,\n        allergyHit: false\n      }\n    }\n  ]\n}\n",
        "metadata": [
          {
            "boot_time": null,
            "cpu_time_used": null,
            "deployment_id": "hidgiyyunigqazssnydm_68d27ef6-8413-4eb9-8105-2cfc2b1290c9_23",
            "event_type": "Log",
            "execution_id": "5a7b47e7-4eff-4ce3-8ee8-d6a655ccda3b",
            "function_id": "68d27ef6-8413-4eb9-8105-2cfc2b1290c9",
            "level": "info",
            "memory_used": [],
            "project_ref": "hidgiyyunigqazssnydm",
            "reason": null,
            "region": "us-east-1",
            "served_by": "supabase-edge-runtime-1.70.3 (compatible with Deno v2.1.4)",
            "timestamp": "2026-02-16T01:35:35.791Z",
            "version": "23"
          }
        ]
      },
      {
        "event_message": "[POOL DEBUG] candidates_snapshot {\n  slotType: \"snack\",\n  memberId: \"null\",\n  usedTitleKeysCount: 37,\n  proteinCounts: { veg: 4, chicken: 8, dairy: 7, fish: 2, egg: 1 },\n  top5: [\n    {\n      id: \"569f6b73-dc15-4f70-9849-137d0f474b6a\",\n      title: \"Йогурт с яблоком и орехами\",\n      meal_type_raw: \"snack\",\n      meal_type_norm_raw: \"snack\",\n      meal_type_resolved: \"snack\",\n      meal_type_wasInferred: false,\n      proteinKey: \"dairy\",\n      baseScore: 6,\n      diversityPenalty: -30,\n      finalScore: -24,\n      proteinCountBefore: 7,\n      source: \"week_ai\",\n      hasSteps: true,\n      ingredientsCount: 3,\n      flags: {\n        isSoupLike: false,\n        isSnackLike: true,\n        isBreakfastLike: false,\n        sanityRejected: false,\n        allergyHit: false\n      }\n    },\n    {\n      id: \"762c98ce-3a4c-4073-8d14-b671f2d1c400\",\n      title: \"Йогурт с персиком и орехами\",\n      meal_type_raw: \"snack\",\n      meal_type_norm_raw: \"snack\",\n      meal_type_resolved: \"snack\",\n      meal_type_wasInferred: false,\n      proteinKey: \"dairy\",\n      baseScore: 6,\n      diversityPenalty: -30,\n      finalScore: -24,\n      proteinCountBefore: 7,\n      source: \"week_ai\",\n      hasSteps: true,\n      ingredientsCount: 3,\n      flags: {\n        isSoupLike: false,\n        isSnackLike: true,\n        isBreakfastLike: false,\n        sanityRejected: false,\n        allergyHit: false\n      }\n    },\n    {\n      id: \"43a9dafa-a89e-452e-91ae-df00364b8346\",\n      title: \"Йогурт с ягодами и орехами\",\n      meal_type_raw: null,\n      meal_type_norm_raw: null,\n      meal_type_resolved: \"snack\",\n      meal_type_wasInferred: true,\n      proteinKey: \"dairy\",\n      baseScore: 6,\n      diversityPenalty: -30,\n      finalScore: -24,\n      proteinCountBefore: 7,\n      source: \"week_ai\",\n      hasSteps: true,\n      ingredientsCount: 3,\n      flags: {\n        isSoupLike: false,\n        isSnackLike: true,\n        isBreakfastLike: false,\n        sanityRejected: false,\n        allergyHit: false\n      }\n    },\n    {\n      id: \"d297e6ff-ff83-4913-bec6-50a2c08c0af4\",\n      title: \"Йогурт с яблоком и печеньем\",\n      meal_type_raw: null,\n      meal_type_norm_raw: null,\n      meal_type_resolved: \"snack\",\n      meal_type_wasInferred: true,\n      proteinKey: \"dairy\",\n      baseScore: 6,\n      diversityPenalty: -30,\n      finalScore: -24,\n      proteinCountBefore: 7,\n      source: \"week_ai\",\n      hasSteps: true,\n      ingredientsCount: 3,\n      flags: {\n        isSoupLike: false,\n        isSnackLike: true,\n        isBreakfastLike: false,\n        sanityRejected: false,\n        allergyHit: false\n      }\n    },\n    {\n      id: \"82a7fae8-025e-4cec-b7b6-add2357c3db5\",\n      title: \"Йогурт с персиком и печеньем\",\n      meal_type_raw: null,\n      meal_type_norm_raw: null,\n      meal_type_resolved: \"snack\",\n      meal_type_wasInferred: true,\n      proteinKey: \"dairy\",\n      baseScore: 6,\n      diversityPenalty: -30,\n      finalScore: -24,\n      proteinCountBefore: 7,\n      source: \"week_ai\",\n      hasSteps: true,\n      ingredientsCount: 3,\n      flags: {\n        isSoupLike: false,\n        isSnackLike: true,\n        isBreakfastLike: false,\n        sanityRejected: false,\n        allergyHit: false\n      }\n    }\n  ]\n}\n",
        "metadata": [
          {
            "boot_time": null,
            "cpu_time_used": null,
            "deployment_id": "hidgiyyunigqazssnydm_68d27ef6-8413-4eb9-8105-2cfc2b1290c9_23",
            "event_type": "Log",
            "execution_id": "5a7b47e7-4eff-4ce3-8ee8-d6a655ccda3b",
            "function_id": "68d27ef6-8413-4eb9-8105-2cfc2b1290c9",
            "level": "info",
            "memory_used": [],
            "project_ref": "hidgiyyunigqazssnydm",
            "reason": null,
            "region": "us-east-1",
            "served_by": "supabase-edge-runtime-1.70.3 (compatible with Deno v2.1.4)",
            "timestamp": "2026-02-16T01:35:36.093Z",
            "version": "23"
          }
        ]
      },
      {
        "event_message": "[POOL DEBUG] candidates_snapshot {\n  slotType: \"dinner\",\n  memberId: \"null\",\n  usedTitleKeysCount: 38,\n  proteinCounts: { veg: 4, chicken: 8, dairy: 8, fish: 2, egg: 1 },\n  top5: [\n    {\n      id: \"2ffc3951-91c5-42be-b1be-998c80264947\",\n      title: \"Тефтели из говядины с рисом и брокколи\",\n      meal_type_raw: null,\n      meal_type_norm_raw: null,\n      meal_type_resolved: \"dinner\",\n      meal_type_wasInferred: true,\n      proteinKey: \"beef_pork\",\n      baseScore: 4,\n      diversityPenalty: 0,\n      finalScore: 4,\n      proteinCountBefore: 0,\n      source: \"week_ai\",\n      hasSteps: true,\n      ingredientsCount: 7,\n      flags: {\n        isSoupLike: false,\n        isSnackLike: false,\n        isBreakfastLike: false,\n        sanityRejected: false,\n        allergyHit: false\n      }\n    },\n    {\n      id: \"9617e016-351c-43b3-9ebb-440000afa395\",\n      title: \"Запечённый минтай с цветной капустой и картофелем\",\n      meal_type_raw: \"dinner\",\n      meal_type_norm_raw: \"dinner\",\n      meal_type_resolved: \"dinner\",\n      meal_type_wasInferred: false,\n      proteinKey: \"fish\",\n      baseScore: 4,\n      diversityPenalty: -20,\n      finalScore: -16,\n      proteinCountBefore: 2,\n      source: \"week_ai\",\n      hasSteps: true,\n      ingredientsCount: 5,\n      flags: {\n        isSoupLike: false,\n        isSnackLike: false,\n        isBreakfastLike: false,\n        sanityRejected: false,\n        allergyHit: false\n      }\n    },\n    {\n      id: \"62ceddc2-16e5-4bd0-8fae-9142dc4f2438\",\n      title: \"Запечённая курица с тыквой и брокколи\",\n      meal_type_raw: \"dinner\",\n      meal_type_norm_raw: \"dinner\",\n      meal_type_resolved: \"dinner\",\n      meal_type_wasInferred: false,\n      proteinKey: \"chicken\",\n      baseScore: 4,\n      diversityPenalty: -25,\n      finalScore: -21,\n      proteinCountBefore: 8,\n      source: \"week_ai\",\n      hasSteps: true,\n      ingredientsCount: 5,\n      flags: {\n        isSoupLike: false,\n        isSnackLike: false,\n        isBreakfastLike: false,\n        sanityRejected: false,\n        allergyHit: false\n      }\n    },\n    {\n      id: \"80bcc408-fb5c-4bb1-a232-2806d6a4befe\",\n      title: \"Запеченная курица с овощами и киноа\",\n      meal_type_raw: null,\n      meal_type_norm_raw: null,\n      meal_type_resolved: \"dinner\",\n      meal_type_wasInferred: true,\n      proteinKey: \"chicken\",\n      baseScore: 4,\n      diversityPenalty: -25,\n      finalScore: -21,\n      proteinCountBefore: 8,\n      source: \"week_ai\",\n      hasSteps: true,\n      ingredientsCount: 7,\n      flags: {\n        isSoupLike: false,\n        isSnackLike: false,\n        isBreakfastLike: false,\n        sanityRejected: false,\n        allergyHit: false\n      }\n    },\n    {\n      id: \"559de17d-f94c-42ae-83f8-60708a787f47\",\n      title: \"Индейка с овощным рагу и киноа\",\n      meal_type_raw: null,\n      meal_type_norm_raw: null,\n      meal_type_resolved: \"dinner\",\n      meal_type_wasInferred: true,\n      proteinKey: \"chicken\",\n      baseScore: 4,\n      diversityPenalty: -25,\n      finalScore: -21,\n      proteinCountBefore: 8,\n      source: \"week_ai\",\n      hasSteps: true,\n      ingredientsCount: 8,\n      flags: {\n        isSoupLike: false,\n        isSnackLike: false,\n        isBreakfastLike: false,\n        sanityRejected: false,\n        allergyHit: false\n      }\n    }\n  ]\n}\n",
        "metadata": [
          {
            "boot_time": null,
            "cpu_time_used": null,
            "deployment_id": "hidgiyyunigqazssnydm_68d27ef6-8413-4eb9-8105-2cfc2b1290c9_23",
            "event_type": "Log",
            "execution_id": "5a7b47e7-4eff-4ce3-8ee8-d6a655ccda3b",
            "function_id": "68d27ef6-8413-4eb9-8105-2cfc2b1290c9",
            "level": "info",
            "memory_used": [],
            "project_ref": "hidgiyyunigqazssnydm",
            "reason": null,
            "region": "us-east-1",
            "served_by": "supabase-edge-runtime-1.70.3 (compatible with Deno v2.1.4)",
            "timestamp": "2026-02-16T01:35:36.387Z",
            "version": "23"
          }
        ]
      }
    ],
    "reject_breakdown": [
      {
        "event_message": "[POOL DEBUG] reject_breakdown {\n  slotType: \"breakfast\",\n  afterExcludeIds: 60,\n  afterExcludeTitleKeys: 54,\n  afterMealType: 14,\n  afterSanity: 14,\n  afterProfile: 14,\n  finalCount: 14,\n  rejectedTotal: 46,\n  topRejectReasonsPrimary: { titleKey: 6, mealType: 40, sanity: 0, profile: 0, protein: 0 },\n  topRejectReasonsDetails: { allergy: 0 },\n  invariant: true,\n  candidatesStrict: 60,\n  candidatesLoose: 60\n}\n",
        "metadata": [
          {
            "boot_time": null,
            "cpu_time_used": null,
            "deployment_id": "hidgiyyunigqazssnydm_68d27ef6-8413-4eb9-8105-2cfc2b1290c9_23",
            "event_type": "Log",
            "execution_id": "5a7b47e7-4eff-4ce3-8ee8-d6a655ccda3b",
            "function_id": "68d27ef6-8413-4eb9-8105-2cfc2b1290c9",
            "level": "info",
            "memory_used": [],
            "project_ref": "hidgiyyunigqazssnydm",
            "reason": null,
            "region": "us-east-1",
            "served_by": "supabase-edge-runtime-1.70.3 (compatible with Deno v2.1.4)",
            "timestamp": "2026-02-16T01:35:27.052Z",
            "version": "23"
          }
        ]
      },
      {
        "event_message": "[POOL DEBUG] reject_breakdown {\n  slotType: \"lunch\",\n  afterExcludeIds: 60,\n  afterExcludeTitleKeys: 54,\n  afterMealType: 11,\n  afterSanity: 11,\n  afterProfile: 11,\n  finalCount: 11,\n  rejectedTotal: 49,\n  topRejectReasonsPrimary: { titleKey: 6, mealType: 43, sanity: 0, profile: 0, protein: 0 },\n  topRejectReasonsDetails: { allergy: 0 },\n  invariant: true,\n  candidatesStrict: 60,\n  candidatesLoose: 60\n}\n",
        "metadata": [
          {
            "boot_time": null,
            "cpu_time_used": null,
            "deployment_id": "hidgiyyunigqazssnydm_68d27ef6-8413-4eb9-8105-2cfc2b1290c9_23",
            "event_type": "Log",
            "execution_id": "5a7b47e7-4eff-4ce3-8ee8-d6a655ccda3b",
            "function_id": "68d27ef6-8413-4eb9-8105-2cfc2b1290c9",
            "level": "info",
            "memory_used": [],
            "project_ref": "hidgiyyunigqazssnydm",
            "reason": null,
            "region": "us-east-1",
            "served_by": "supabase-edge-runtime-1.70.3 (compatible with Deno v2.1.4)",
            "timestamp": "2026-02-16T01:35:27.335Z",
            "version": "23"
          }
        ]
      },
      {
        "event_message": "[POOL DEBUG] reject_breakdown {\n  slotType: \"snack\",\n  afterExcludeIds: 60,\n  afterExcludeTitleKeys: 54,\n  afterMealType: 15,\n  afterSanity: 14,\n  afterProfile: 14,\n  finalCount: 14,\n  rejectedTotal: 46,\n  topRejectReasonsPrimary: { titleKey: 6, mealType: 39, sanity: 1, profile: 0, protein: 0 },\n  topRejectReasonsDetails: { allergy: 0 },\n  invariant: true,\n  candidatesStrict: 60,\n  candidatesLoose: 60\n}\n",
        "metadata": [
          {
            "boot_time": null,
            "cpu_time_used": null,
            "deployment_id": "hidgiyyunigqazssnydm_68d27ef6-8413-4eb9-8105-2cfc2b1290c9_23",
            "event_type": "Log",
            "execution_id": "5a7b47e7-4eff-4ce3-8ee8-d6a655ccda3b",
            "function_id": "68d27ef6-8413-4eb9-8105-2cfc2b1290c9",
            "level": "info",
            "memory_used": [],
            "project_ref": "hidgiyyunigqazssnydm",
            "reason": null,
            "region": "us-east-1",
            "served_by": "supabase-edge-runtime-1.70.3 (compatible with Deno v2.1.4)",
            "timestamp": "2026-02-16T01:35:27.650Z",
            "version": "23"
          }
        ]
      },
      {
        "event_message": "[POOL DEBUG] reject_breakdown {\n  slotType: \"dinner\",\n  afterExcludeIds: 60,\n  afterExcludeTitleKeys: 52,\n  afterMealType: 14,\n  afterSanity: 13,\n  afterProfile: 13,\n  finalCount: 13,\n  rejectedTotal: 47,\n  topRejectReasonsPrimary: { titleKey: 8, mealType: 38, sanity: 1, profile: 0, protein: 0 },\n  topRejectReasonsDetails: { allergy: 0 },\n  invariant: true,\n  candidatesStrict: 60,\n  candidatesLoose: 60\n}\n",
        "metadata": [
          {
            "boot_time": null,
            "cpu_time_used": null,
            "deployment_id": "hidgiyyunigqazssnydm_68d27ef6-8413-4eb9-8105-2cfc2b1290c9_23",
            "event_type": "Log",
            "execution_id": "5a7b47e7-4eff-4ce3-8ee8-d6a655ccda3b",
            "function_id": "68d27ef6-8413-4eb9-8105-2cfc2b1290c9",
            "level": "info",
            "memory_used": [],
            "project_ref": "hidgiyyunigqazssnydm",
            "reason": null,
            "region": "us-east-1",
            "served_by": "supabase-edge-runtime-1.70.3 (compatible with Deno v2.1.4)",
            "timestamp": "2026-02-16T01:35:27.964Z",
            "version": "23"
          }
        ]
      },
      {
        "event_message": "[POOL DEBUG] reject_breakdown {\n  slotType: \"breakfast\",\n  afterExcludeIds: 60,\n  afterExcludeTitleKeys: 52,\n  afterMealType: 14,\n  afterSanity: 14,\n  afterProfile: 14,\n  finalCount: 14,\n  rejectedTotal: 46,\n  topRejectReasonsPrimary: { titleKey: 8, mealType: 38, sanity: 0, profile: 0, protein: 0 },\n  topRejectReasonsDetails: { allergy: 0 },\n  invariant: true,\n  candidatesStrict: 60,\n  candidatesLoose: 60\n}\n",
        "metadata": [
          {
            "boot_time": null,
            "cpu_time_used": null,
            "deployment_id": "hidgiyyunigqazssnydm_68d27ef6-8413-4eb9-8105-2cfc2b1290c9_23",
            "event_type": "Log",
            "execution_id": "5a7b47e7-4eff-4ce3-8ee8-d6a655ccda3b",
            "function_id": "68d27ef6-8413-4eb9-8105-2cfc2b1290c9",
            "level": "info",
            "memory_used": [],
            "project_ref": "hidgiyyunigqazssnydm",
            "reason": null,
            "region": "us-east-1",
            "served_by": "supabase-edge-runtime-1.70.3 (compatible with Deno v2.1.4)",
            "timestamp": "2026-02-16T01:35:28.624Z",
            "version": "23"
          }
        ]
      },
      {
        "event_message": "[POOL DEBUG] reject_breakdown {\n  slotType: \"lunch\",\n  afterExcludeIds: 60,\n  afterExcludeTitleKeys: 52,\n  afterMealType: 10,\n  afterSanity: 10,\n  afterProfile: 10,\n  finalCount: 10,\n  rejectedTotal: 50,\n  topRejectReasonsPrimary: { titleKey: 8, mealType: 42, sanity: 0, profile: 0, protein: 0 },\n  topRejectReasonsDetails: { allergy: 0 },\n  invariant: true,\n  candidatesStrict: 60,\n  candidatesLoose: 60\n}\n",
        "metadata": [
          {
            "boot_time": null,
            "cpu_time_used": null,
            "deployment_id": "hidgiyyunigqazssnydm_68d27ef6-8413-4eb9-8105-2cfc2b1290c9_23",
            "event_type": "Log",
            "execution_id": "5a7b47e7-4eff-4ce3-8ee8-d6a655ccda3b",
            "function_id": "68d27ef6-8413-4eb9-8105-2cfc2b1290c9",
            "level": "info",
            "memory_used": [],
            "project_ref": "hidgiyyunigqazssnydm",
            "reason": null,
            "region": "us-east-1",
            "served_by": "supabase-edge-runtime-1.70.3 (compatible with Deno v2.1.4)",
            "timestamp": "2026-02-16T01:35:29.024Z",
            "version": "23"
          }
        ]
      },
      {
        "event_message": "[POOL DEBUG] reject_breakdown {\n  slotType: \"snack\",\n  afterExcludeIds: 60,\n  afterExcludeTitleKeys: 52,\n  afterMealType: 14,\n  afterSanity: 13,\n  afterProfile: 13,\n  finalCount: 13,\n  rejectedTotal: 47,\n  topRejectReasonsPrimary: { titleKey: 8, mealType: 38, sanity: 1, profile: 0, protein: 0 },\n  topRejectReasonsDetails: { allergy: 0 },\n  invariant: true,\n  candidatesStrict: 60,\n  candidatesLoose: 60\n}\n",
        "metadata": [
          {
            "boot_time": null,
            "cpu_time_used": null,
            "deployment_id": "hidgiyyunigqazssnydm_68d27ef6-8413-4eb9-8105-2cfc2b1290c9_23",
            "event_type": "Log",
            "execution_id": "5a7b47e7-4eff-4ce3-8ee8-d6a655ccda3b",
            "function_id": "68d27ef6-8413-4eb9-8105-2cfc2b1290c9",
            "level": "info",
            "memory_used": [],
            "project_ref": "hidgiyyunigqazssnydm",
            "reason": null,
            "region": "us-east-1",
            "served_by": "supabase-edge-runtime-1.70.3 (compatible with Deno v2.1.4)",
            "timestamp": "2026-02-16T01:35:29.436Z",
            "version": "23"
          }
        ]
      },
      {
        "event_message": "[POOL DEBUG] reject_breakdown {\n  slotType: \"dinner\",\n  afterExcludeIds: 60,\n  afterExcludeTitleKeys: 50,\n  afterMealType: 14,\n  afterSanity: 13,\n  afterProfile: 13,\n  finalCount: 13,\n  rejectedTotal: 47,\n  topRejectReasonsPrimary: { titleKey: 10, mealType: 36, sanity: 1, profile: 0, protein: 0 },\n  topRejectReasonsDetails: { allergy: 0 },\n  invariant: true,\n  candidatesStrict: 60,\n  candidatesLoose: 60\n}\n",
        "metadata": [
          {
            "boot_time": null,
            "cpu_time_used": null,
            "deployment_id": "hidgiyyunigqazssnydm_68d27ef6-8413-4eb9-8105-2cfc2b1290c9_23",
            "event_type": "Log",
            "execution_id": "5a7b47e7-4eff-4ce3-8ee8-d6a655ccda3b",
            "function_id": "68d27ef6-8413-4eb9-8105-2cfc2b1290c9",
            "level": "info",
            "memory_used": [],
            "project_ref": "hidgiyyunigqazssnydm",
            "reason": null,
            "region": "us-east-1",
            "served_by": "supabase-edge-runtime-1.70.3 (compatible with Deno v2.1.4)",
            "timestamp": "2026-02-16T01:35:29.849Z",
            "version": "23"
          }
        ]
      },
      {
        "event_message": "[POOL DEBUG] reject_breakdown {\n  slotType: \"breakfast\",\n  afterExcludeIds: 60,\n  afterExcludeTitleKeys: 50,\n  afterMealType: 13,\n  afterSanity: 13,\n  afterProfile: 13,\n  finalCount: 13,\n  rejectedTotal: 47,\n  topRejectReasonsPrimary: { titleKey: 10, mealType: 37, sanity: 0, profile: 0, protein: 0 },\n  topRejectReasonsDetails: { allergy: 0 },\n  invariant: true,\n  candidatesStrict: 60,\n  candidatesLoose: 60\n}\n",
        "metadata": [
          {
            "boot_time": null,
            "cpu_time_used": null,
            "deployment_id": "hidgiyyunigqazssnydm_68d27ef6-8413-4eb9-8105-2cfc2b1290c9_23",
            "event_type": "Log",
            "execution_id": "5a7b47e7-4eff-4ce3-8ee8-d6a655ccda3b",
            "function_id": "68d27ef6-8413-4eb9-8105-2cfc2b1290c9",
            "level": "info",
            "memory_used": [],
            "project_ref": "hidgiyyunigqazssnydm",
            "reason": null,
            "region": "us-east-1",
            "served_by": "supabase-edge-runtime-1.70.3 (compatible with Deno v2.1.4)",
            "timestamp": "2026-02-16T01:35:30.506Z",
            "version": "23"
          }
        ]
      },
      {
        "event_message": "[POOL DEBUG] reject_breakdown {\n  slotType: \"lunch\",\n  afterExcludeIds: 60,\n  afterExcludeTitleKeys: 50,\n  afterMealType: 10,\n  afterSanity: 10,\n  afterProfile: 10,\n  finalCount: 10,\n  rejectedTotal: 50,\n  topRejectReasonsPrimary: { titleKey: 10, mealType: 40, sanity: 0, profile: 0, protein: 0 },\n  topRejectReasonsDetails: { allergy: 0 },\n  invariant: true,\n  candidatesStrict: 60,\n  candidatesLoose: 60\n}\n",
        "metadata": [
          {
            "boot_time": null,
            "cpu_time_used": null,
            "deployment_id": "hidgiyyunigqazssnydm_68d27ef6-8413-4eb9-8105-2cfc2b1290c9_23",
            "event_type": "Log",
            "execution_id": "5a7b47e7-4eff-4ce3-8ee8-d6a655ccda3b",
            "function_id": "68d27ef6-8413-4eb9-8105-2cfc2b1290c9",
            "level": "info",
            "memory_used": [],
            "project_ref": "hidgiyyunigqazssnydm",
            "reason": null,
            "region": "us-east-1",
            "served_by": "supabase-edge-runtime-1.70.3 (compatible with Deno v2.1.4)",
            "timestamp": "2026-02-16T01:35:30.901Z",
            "version": "23"
          }
        ]
      },
      {
        "event_message": "[POOL DEBUG] reject_breakdown {\n  slotType: \"snack\",\n  afterExcludeIds: 60,\n  afterExcludeTitleKeys: 49,\n  afterMealType: 14,\n  afterSanity: 11,\n  afterProfile: 11,\n  finalCount: 11,\n  rejectedTotal: 49,\n  topRejectReasonsPrimary: { titleKey: 11, mealType: 35, sanity: 3, profile: 0, protein: 0 },\n  topRejectReasonsDetails: { allergy: 0 },\n  invariant: true,\n  candidatesStrict: 60,\n  candidatesLoose: 60\n}\n",
        "metadata": [
          {
            "boot_time": null,
            "cpu_time_used": null,
            "deployment_id": "hidgiyyunigqazssnydm_68d27ef6-8413-4eb9-8105-2cfc2b1290c9_23",
            "event_type": "Log",
            "execution_id": "5a7b47e7-4eff-4ce3-8ee8-d6a655ccda3b",
            "function_id": "68d27ef6-8413-4eb9-8105-2cfc2b1290c9",
            "level": "info",
            "memory_used": [],
            "project_ref": "hidgiyyunigqazssnydm",
            "reason": null,
            "region": "us-east-1",
            "served_by": "supabase-edge-runtime-1.70.3 (compatible with Deno v2.1.4)",
            "timestamp": "2026-02-16T01:35:31.194Z",
            "version": "23"
          }
        ]
      },
      {
        "event_message": "[POOL DEBUG] reject_breakdown {\n  slotType: \"dinner\",\n  afterExcludeIds: 60,\n  afterExcludeTitleKeys: 48,\n  afterMealType: 13,\n  afterSanity: 12,\n  afterProfile: 12,\n  finalCount: 12,\n  rejectedTotal: 48,\n  topRejectReasonsPrimary: { titleKey: 12, mealType: 35, sanity: 1, profile: 0, protein: 0 },\n  topRejectReasonsDetails: { allergy: 0 },\n  invariant: true,\n  candidatesStrict: 60,\n  candidatesLoose: 60\n}\n",
        "metadata": [
          {
            "boot_time": null,
            "cpu_time_used": null,
            "deployment_id": "hidgiyyunigqazssnydm_68d27ef6-8413-4eb9-8105-2cfc2b1290c9_23",
            "event_type": "Log",
            "execution_id": "5a7b47e7-4eff-4ce3-8ee8-d6a655ccda3b",
            "function_id": "68d27ef6-8413-4eb9-8105-2cfc2b1290c9",
            "level": "info",
            "memory_used": [],
            "project_ref": "hidgiyyunigqazssnydm",
            "reason": null,
            "region": "us-east-1",
            "served_by": "supabase-edge-runtime-1.70.3 (compatible with Deno v2.1.4)",
            "timestamp": "2026-02-16T01:35:31.510Z",
            "version": "23"
          }
        ]
      },
      {
        "event_message": "[POOL DEBUG] reject_breakdown {\n  slotType: \"breakfast\",\n  afterExcludeIds: 60,\n  afterExcludeTitleKeys: 48,\n  afterMealType: 12,\n  afterSanity: 12,\n  afterProfile: 12,\n  finalCount: 12,\n  rejectedTotal: 48,\n  topRejectReasonsPrimary: { titleKey: 12, mealType: 36, sanity: 0, profile: 0, protein: 0 },\n  topRejectReasonsDetails: { allergy: 0 },\n  invariant: true,\n  candidatesStrict: 60,\n  candidatesLoose: 60\n}\n",
        "metadata": [
          {
            "boot_time": null,
            "cpu_time_used": null,
            "deployment_id": "hidgiyyunigqazssnydm_68d27ef6-8413-4eb9-8105-2cfc2b1290c9_23",
            "event_type": "Log",
            "execution_id": "5a7b47e7-4eff-4ce3-8ee8-d6a655ccda3b",
            "function_id": "68d27ef6-8413-4eb9-8105-2cfc2b1290c9",
            "level": "info",
            "memory_used": [],
            "project_ref": "hidgiyyunigqazssnydm",
            "reason": null,
            "region": "us-east-1",
            "served_by": "supabase-edge-runtime-1.70.3 (compatible with Deno v2.1.4)",
            "timestamp": "2026-02-16T01:35:32.073Z",
            "version": "23"
          }
        ]
      },
      {
        "event_message": "[POOL DEBUG] reject_breakdown {\n  slotType: \"lunch\",\n  afterExcludeIds: 60,\n  afterExcludeTitleKeys: 45,\n  afterMealType: 9,\n  afterSanity: 9,\n  afterProfile: 9,\n  finalCount: 9,\n  rejectedTotal: 51,\n  topRejectReasonsPrimary: { titleKey: 15, mealType: 36, sanity: 0, profile: 0, protein: 0 },\n  topRejectReasonsDetails: { allergy: 0 },\n  invariant: true,\n  candidatesStrict: 60,\n  candidatesLoose: 60\n}\n",
        "metadata": [
          {
            "boot_time": null,
            "cpu_time_used": null,
            "deployment_id": "hidgiyyunigqazssnydm_68d27ef6-8413-4eb9-8105-2cfc2b1290c9_23",
            "event_type": "Log",
            "execution_id": "5a7b47e7-4eff-4ce3-8ee8-d6a655ccda3b",
            "function_id": "68d27ef6-8413-4eb9-8105-2cfc2b1290c9",
            "level": "info",
            "memory_used": [],
            "project_ref": "hidgiyyunigqazssnydm",
            "reason": null,
            "region": "us-east-1",
            "served_by": "supabase-edge-runtime-1.70.3 (compatible with Deno v2.1.4)",
            "timestamp": "2026-02-16T01:35:32.375Z",
            "version": "23"
          }
        ]
      },
      {
        "event_message": "[POOL DEBUG] reject_breakdown {\n  slotType: \"snack\",\n  afterExcludeIds: 60,\n  afterExcludeTitleKeys: 44,\n  afterMealType: 14,\n  afterSanity: 10,\n  afterProfile: 10,\n  finalCount: 10,\n  rejectedTotal: 50,\n  topRejectReasonsPrimary: { titleKey: 16, mealType: 30, sanity: 4, profile: 0, protein: 0 },\n  topRejectReasonsDetails: { allergy: 0 },\n  invariant: true,\n  candidatesStrict: 60,\n  candidatesLoose: 60\n}\n",
        "metadata": [
          {
            "boot_time": null,
            "cpu_time_used": null,
            "deployment_id": "hidgiyyunigqazssnydm_68d27ef6-8413-4eb9-8105-2cfc2b1290c9_23",
            "event_type": "Log",
            "execution_id": "5a7b47e7-4eff-4ce3-8ee8-d6a655ccda3b",
            "function_id": "68d27ef6-8413-4eb9-8105-2cfc2b1290c9",
            "level": "info",
            "memory_used": [],
            "project_ref": "hidgiyyunigqazssnydm",
            "reason": null,
            "region": "us-east-1",
            "served_by": "supabase-edge-runtime-1.70.3 (compatible with Deno v2.1.4)",
            "timestamp": "2026-02-16T01:35:32.678Z",
            "version": "23"
          }
        ]
      },
      {
        "event_message": "[POOL DEBUG] reject_breakdown {\n  slotType: \"dinner\",\n  afterExcludeIds: 60,\n  afterExcludeTitleKeys: 44,\n  afterMealType: 12,\n  afterSanity: 11,\n  afterProfile: 11,\n  finalCount: 11,\n  rejectedTotal: 49,\n  topRejectReasonsPrimary: { titleKey: 16, mealType: 32, sanity: 1, profile: 0, protein: 0 },\n  topRejectReasonsDetails: { allergy: 0 },\n  invariant: true,\n  candidatesStrict: 60,\n  candidatesLoose: 60\n}\n",
        "metadata": [
          {
            "boot_time": null,
            "cpu_time_used": null,
            "deployment_id": "hidgiyyunigqazssnydm_68d27ef6-8413-4eb9-8105-2cfc2b1290c9_23",
            "event_type": "Log",
            "execution_id": "5a7b47e7-4eff-4ce3-8ee8-d6a655ccda3b",
            "function_id": "68d27ef6-8413-4eb9-8105-2cfc2b1290c9",
            "level": "info",
            "memory_used": [],
            "project_ref": "hidgiyyunigqazssnydm",
            "reason": null,
            "region": "us-east-1",
            "served_by": "supabase-edge-runtime-1.70.3 (compatible with Deno v2.1.4)",
            "timestamp": "2026-02-16T01:35:32.971Z",
            "version": "23"
          }
        ]
      },
      {
        "event_message": "[POOL DEBUG] reject_breakdown {\n  slotType: \"breakfast\",\n  afterExcludeIds: 60,\n  afterExcludeTitleKeys: 43,\n  afterMealType: 10,\n  afterSanity: 10,\n  afterProfile: 10,\n  finalCount: 10,\n  rejectedTotal: 50,\n  topRejectReasonsPrimary: { titleKey: 17, mealType: 33, sanity: 0, profile: 0, protein: 0 },\n  topRejectReasonsDetails: { allergy: 0 },\n  invariant: true,\n  candidatesStrict: 60,\n  candidatesLoose: 60\n}\n",
        "metadata": [
          {
            "boot_time": null,
            "cpu_time_used": null,
            "deployment_id": "hidgiyyunigqazssnydm_68d27ef6-8413-4eb9-8105-2cfc2b1290c9_23",
            "event_type": "Log",
            "execution_id": "5a7b47e7-4eff-4ce3-8ee8-d6a655ccda3b",
            "function_id": "68d27ef6-8413-4eb9-8105-2cfc2b1290c9",
            "level": "info",
            "memory_used": [],
            "project_ref": "hidgiyyunigqazssnydm",
            "reason": null,
            "region": "us-east-1",
            "served_by": "supabase-edge-runtime-1.70.3 (compatible with Deno v2.1.4)",
            "timestamp": "2026-02-16T01:35:33.635Z",
            "version": "23"
          }
        ]
      },
      {
        "event_message": "[POOL DEBUG] reject_breakdown {\n  slotType: \"lunch\",\n  afterExcludeIds: 60,\n  afterExcludeTitleKeys: 43,\n  afterMealType: 8,\n  afterSanity: 8,\n  afterProfile: 8,\n  finalCount: 8,\n  rejectedTotal: 52,\n  topRejectReasonsPrimary: { titleKey: 17, mealType: 35, sanity: 0, profile: 0, protein: 0 },\n  topRejectReasonsDetails: { allergy: 0 },\n  invariant: true,\n  candidatesStrict: 60,\n  candidatesLoose: 60\n}\n",
        "metadata": [
          {
            "boot_time": null,
            "cpu_time_used": null,
            "deployment_id": "hidgiyyunigqazssnydm_68d27ef6-8413-4eb9-8105-2cfc2b1290c9_23",
            "event_type": "Log",
            "execution_id": "5a7b47e7-4eff-4ce3-8ee8-d6a655ccda3b",
            "function_id": "68d27ef6-8413-4eb9-8105-2cfc2b1290c9",
            "level": "info",
            "memory_used": [],
            "project_ref": "hidgiyyunigqazssnydm",
            "reason": null,
            "region": "us-east-1",
            "served_by": "supabase-edge-runtime-1.70.3 (compatible with Deno v2.1.4)",
            "timestamp": "2026-02-16T01:35:34.069Z",
            "version": "23"
          }
        ]
      },
      {
        "event_message": "[POOL DEBUG] reject_breakdown {\n  slotType: \"snack\",\n  afterExcludeIds: 60,\n  afterExcludeTitleKeys: 42,\n  afterMealType: 13,\n  afterSanity: 9,\n  afterProfile: 9,\n  finalCount: 9,\n  rejectedTotal: 51,\n  topRejectReasonsPrimary: { titleKey: 18, mealType: 29, sanity: 4, profile: 0, protein: 0 },\n  topRejectReasonsDetails: { allergy: 0 },\n  invariant: true,\n  candidatesStrict: 60,\n  candidatesLoose: 60\n}\n",
        "metadata": [
          {
            "boot_time": null,
            "cpu_time_used": null,
            "deployment_id": "hidgiyyunigqazssnydm_68d27ef6-8413-4eb9-8105-2cfc2b1290c9_23",
            "event_type": "Log",
            "execution_id": "5a7b47e7-4eff-4ce3-8ee8-d6a655ccda3b",
            "function_id": "68d27ef6-8413-4eb9-8105-2cfc2b1290c9",
            "level": "info",
            "memory_used": [],
            "project_ref": "hidgiyyunigqazssnydm",
            "reason": null,
            "region": "us-east-1",
            "served_by": "supabase-edge-runtime-1.70.3 (compatible with Deno v2.1.4)",
            "timestamp": "2026-02-16T01:35:34.368Z",
            "version": "23"
          }
        ]
      },
      {
        "event_message": "[POOL DEBUG] reject_breakdown {\n  slotType: \"dinner\",\n  afterExcludeIds: 60,\n  afterExcludeTitleKeys: 42,\n  afterMealType: 11,\n  afterSanity: 10,\n  afterProfile: 10,\n  finalCount: 10,\n  rejectedTotal: 50,\n  topRejectReasonsPrimary: { titleKey: 18, mealType: 31, sanity: 1, profile: 0, protein: 0 },\n  topRejectReasonsDetails: { allergy: 0 },\n  invariant: true,\n  candidatesStrict: 60,\n  candidatesLoose: 60\n}\n",
        "metadata": [
          {
            "boot_time": null,
            "cpu_time_used": null,
            "deployment_id": "hidgiyyunigqazssnydm_68d27ef6-8413-4eb9-8105-2cfc2b1290c9_23",
            "event_type": "Log",
            "execution_id": "5a7b47e7-4eff-4ce3-8ee8-d6a655ccda3b",
            "function_id": "68d27ef6-8413-4eb9-8105-2cfc2b1290c9",
            "level": "info",
            "memory_used": [],
            "project_ref": "hidgiyyunigqazssnydm",
            "reason": null,
            "region": "us-east-1",
            "served_by": "supabase-edge-runtime-1.70.3 (compatible with Deno v2.1.4)",
            "timestamp": "2026-02-16T01:35:34.764Z",
            "version": "23"
          }
        ]
      },
      {
        "event_message": "[POOL DEBUG] reject_breakdown {\n  slotType: \"breakfast\",\n  afterExcludeIds: 60,\n  afterExcludeTitleKeys: 40,\n  afterMealType: 10,\n  afterSanity: 10,\n  afterProfile: 10,\n  finalCount: 10,\n  rejectedTotal: 50,\n  topRejectReasonsPrimary: { titleKey: 20, mealType: 30, sanity: 0, profile: 0, protein: 0 },\n  topRejectReasonsDetails: { allergy: 0 },\n  invariant: true,\n  candidatesStrict: 60,\n  candidatesLoose: 60\n}\n",
        "metadata": [
          {
            "boot_time": null,
            "cpu_time_used": null,
            "deployment_id": "hidgiyyunigqazssnydm_68d27ef6-8413-4eb9-8105-2cfc2b1290c9_23",
            "event_type": "Log",
            "execution_id": "5a7b47e7-4eff-4ce3-8ee8-d6a655ccda3b",
            "function_id": "68d27ef6-8413-4eb9-8105-2cfc2b1290c9",
            "level": "info",
            "memory_used": [],
            "project_ref": "hidgiyyunigqazssnydm",
            "reason": null,
            "region": "us-east-1",
            "served_by": "supabase-edge-runtime-1.70.3 (compatible with Deno v2.1.4)",
            "timestamp": "2026-02-16T01:35:35.403Z",
            "version": "23"
          }
        ]
      },
      {
        "event_message": "[POOL DEBUG] reject_breakdown {\n  slotType: \"lunch\",\n  afterExcludeIds: 60,\n  afterExcludeTitleKeys: 40,\n  afterMealType: 7,\n  afterSanity: 7,\n  afterProfile: 7,\n  finalCount: 7,\n  rejectedTotal: 53,\n  topRejectReasonsPrimary: { titleKey: 20, mealType: 33, sanity: 0, profile: 0, protein: 0 },\n  topRejectReasonsDetails: { allergy: 0 },\n  invariant: true,\n  candidatesStrict: 60,\n  candidatesLoose: 60\n}\n",
        "metadata": [
          {
            "boot_time": null,
            "cpu_time_used": null,
            "deployment_id": "hidgiyyunigqazssnydm_68d27ef6-8413-4eb9-8105-2cfc2b1290c9_23",
            "event_type": "Log",
            "execution_id": "5a7b47e7-4eff-4ce3-8ee8-d6a655ccda3b",
            "function_id": "68d27ef6-8413-4eb9-8105-2cfc2b1290c9",
            "level": "info",
            "memory_used": [],
            "project_ref": "hidgiyyunigqazssnydm",
            "reason": null,
            "region": "us-east-1",
            "served_by": "supabase-edge-runtime-1.70.3 (compatible with Deno v2.1.4)",
            "timestamp": "2026-02-16T01:35:35.790Z",
            "version": "23"
          }
        ]
      },
      {
        "event_message": "[POOL DEBUG] reject_breakdown {\n  slotType: \"snack\",\n  afterExcludeIds: 60,\n  afterExcludeTitleKeys: 40,\n  afterMealType: 13,\n  afterSanity: 9,\n  afterProfile: 9,\n  finalCount: 9,\n  rejectedTotal: 51,\n  topRejectReasonsPrimary: { titleKey: 20, mealType: 27, sanity: 4, profile: 0, protein: 0 },\n  topRejectReasonsDetails: { allergy: 0 },\n  invariant: true,\n  candidatesStrict: 60,\n  candidatesLoose: 60\n}\n",
        "metadata": [
          {
            "boot_time": null,
            "cpu_time_used": null,
            "deployment_id": "hidgiyyunigqazssnydm_68d27ef6-8413-4eb9-8105-2cfc2b1290c9_23",
            "event_type": "Log",
            "execution_id": "5a7b47e7-4eff-4ce3-8ee8-d6a655ccda3b",
            "function_id": "68d27ef6-8413-4eb9-8105-2cfc2b1290c9",
            "level": "info",
            "memory_used": [],
            "project_ref": "hidgiyyunigqazssnydm",
            "reason": null,
            "region": "us-east-1",
            "served_by": "supabase-edge-runtime-1.70.3 (compatible with Deno v2.1.4)",
            "timestamp": "2026-02-16T01:35:36.092Z",
            "version": "23"
          }
        ]
      },
      {
        "event_message": "[POOL DEBUG] reject_breakdown {\n  slotType: \"dinner\",\n  afterExcludeIds: 60,\n  afterExcludeTitleKeys: 40,\n  afterMealType: 10,\n  afterSanity: 9,\n  afterProfile: 9,\n  finalCount: 9,\n  rejectedTotal: 51,\n  topRejectReasonsPrimary: { titleKey: 20, mealType: 30, sanity: 1, profile: 0, protein: 0 },\n  topRejectReasonsDetails: { allergy: 0 },\n  invariant: true,\n  candidatesStrict: 60,\n  candidatesLoose: 60\n}\n",
        "metadata": [
          {
            "boot_time": null,
            "cpu_time_used": null,
            "deployment_id": "hidgiyyunigqazssnydm_68d27ef6-8413-4eb9-8105-2cfc2b1290c9_23",
            "event_type": "Log",
            "execution_id": "5a7b47e7-4eff-4ce3-8ee8-d6a655ccda3b",
            "function_id": "68d27ef6-8413-4eb9-8105-2cfc2b1290c9",
            "level": "info",
            "memory_used": [],
            "project_ref": "hidgiyyunigqazssnydm",
            "reason": null,
            "region": "us-east-1",
            "served_by": "supabase-edge-runtime-1.70.3 (compatible with Deno v2.1.4)",
            "timestamp": "2026-02-16T01:35:36.386Z",
            "version": "23"
          }
        ]
      }
    ],
    "allergy": [],
    "sanity": [
      {
        "event_message": "[SANITY DEBUG] {\n  slotType: \"snack\",\n  recipeId: \"16b1ac91-e4df-448b-b887-1d1712b069e4\",\n  title: \"Рыбные котлеты с картофельным пюре и брокколи\",\n  hitTokens: \"[REDACTED]\"\n}\n",
        "metadata": [
          {
            "boot_time": null,
            "cpu_time_used": null,
            "deployment_id": "hidgiyyunigqazssnydm_68d27ef6-8413-4eb9-8105-2cfc2b1290c9_23",
            "event_type": "Log",
            "execution_id": "5a7b47e7-4eff-4ce3-8ee8-d6a655ccda3b",
            "function_id": "68d27ef6-8413-4eb9-8105-2cfc2b1290c9",
            "level": "info",
            "memory_used": [],
            "project_ref": "hidgiyyunigqazssnydm",
            "reason": null,
            "region": "us-east-1",
            "served_by": "supabase-edge-runtime-1.70.3 (compatible with Deno v2.1.4)",
            "timestamp": "2026-02-16T01:35:27.649Z",
            "version": "23"
          }
        ]
      },
      {
        "event_message": "[SANITY DEBUG] {\n  slotType: \"dinner\",\n  recipeId: \"a99915bf-6cd1-41eb-9556-319a6981c996\",\n  title: \"Рыбные котлеты с картофельным пюре и брокколи\",\n  hitTokens: \"[REDACTED]\"\n}\n",
        "metadata": [
          {
            "boot_time": null,
            "cpu_time_used": null,
            "deployment_id": "hidgiyyunigqazssnydm_68d27ef6-8413-4eb9-8105-2cfc2b1290c9_23",
            "event_type": "Log",
            "execution_id": "5a7b47e7-4eff-4ce3-8ee8-d6a655ccda3b",
            "function_id": "68d27ef6-8413-4eb9-8105-2cfc2b1290c9",
            "level": "info",
            "memory_used": [],
            "project_ref": "hidgiyyunigqazssnydm",
            "reason": null,
            "region": "us-east-1",
            "served_by": "supabase-edge-runtime-1.70.3 (compatible with Deno v2.1.4)",
            "timestamp": "2026-02-16T01:35:27.964Z",
            "version": "23"
          }
        ]
      },
      {
        "event_message": "[SANITY DEBUG] {\n  slotType: \"snack\",\n  recipeId: \"16b1ac91-e4df-448b-b887-1d1712b069e4\",\n  title: \"Рыбные котлеты с картофельным пюре и брокколи\",\n  hitTokens: \"[REDACTED]\"\n}\n",
        "metadata": [
          {
            "boot_time": null,
            "cpu_time_used": null,
            "deployment_id": "hidgiyyunigqazssnydm_68d27ef6-8413-4eb9-8105-2cfc2b1290c9_23",
            "event_type": "Log",
            "execution_id": "5a7b47e7-4eff-4ce3-8ee8-d6a655ccda3b",
            "function_id": "68d27ef6-8413-4eb9-8105-2cfc2b1290c9",
            "level": "info",
            "memory_used": [],
            "project_ref": "hidgiyyunigqazssnydm",
            "reason": null,
            "region": "us-east-1",
            "served_by": "supabase-edge-runtime-1.70.3 (compatible with Deno v2.1.4)",
            "timestamp": "2026-02-16T01:35:29.436Z",
            "version": "23"
          }
        ]
      },
      {
        "event_message": "[SANITY DEBUG] {\n  slotType: \"dinner\",\n  recipeId: \"a99915bf-6cd1-41eb-9556-319a6981c996\",\n  title: \"Рыбные котлеты с картофельным пюре и брокколи\",\n  hitTokens: \"[REDACTED]\"\n}\n",
        "metadata": [
          {
            "boot_time": null,
            "cpu_time_used": null,
            "deployment_id": "hidgiyyunigqazssnydm_68d27ef6-8413-4eb9-8105-2cfc2b1290c9_23",
            "event_type": "Log",
            "execution_id": "5a7b47e7-4eff-4ce3-8ee8-d6a655ccda3b",
            "function_id": "68d27ef6-8413-4eb9-8105-2cfc2b1290c9",
            "level": "info",
            "memory_used": [],
            "project_ref": "hidgiyyunigqazssnydm",
            "reason": null,
            "region": "us-east-1",
            "served_by": "supabase-edge-runtime-1.70.3 (compatible with Deno v2.1.4)",
            "timestamp": "2026-02-16T01:35:29.848Z",
            "version": "23"
          }
        ]
      },
      {
        "event_message": "[SANITY DEBUG] {\n  slotType: \"snack\",\n  recipeId: \"16b1ac91-e4df-448b-b887-1d1712b069e4\",\n  title: \"Рыбные котлеты с картофельным пюре и брокколи\",\n  hitTokens: \"[REDACTED]\"\n}\n",
        "metadata": [
          {
            "boot_time": null,
            "cpu_time_used": null,
            "deployment_id": "hidgiyyunigqazssnydm_68d27ef6-8413-4eb9-8105-2cfc2b1290c9_23",
            "event_type": "Log",
            "execution_id": "5a7b47e7-4eff-4ce3-8ee8-d6a655ccda3b",
            "function_id": "68d27ef6-8413-4eb9-8105-2cfc2b1290c9",
            "level": "info",
            "memory_used": [],
            "project_ref": "hidgiyyunigqazssnydm",
            "reason": null,
            "region": "us-east-1",
            "served_by": "supabase-edge-runtime-1.70.3 (compatible with Deno v2.1.4)",
            "timestamp": "2026-02-16T01:35:31.193Z",
            "version": "23"
          }
        ]
      },
      {
        "event_message": "[SANITY DEBUG] {\n  slotType: \"snack\",\n  recipeId: \"5ab53d7f-045e-4bcf-a03d-e7261f4737ca\",\n  title: \"Рыбные котлеты с картофельным пюре и брокколи\",\n  hitTokens: \"[REDACTED]\"\n}\n",
        "metadata": [
          {
            "boot_time": null,
            "cpu_time_used": null,
            "deployment_id": "hidgiyyunigqazssnydm_68d27ef6-8413-4eb9-8105-2cfc2b1290c9_23",
            "event_type": "Log",
            "execution_id": "5a7b47e7-4eff-4ce3-8ee8-d6a655ccda3b",
            "function_id": "68d27ef6-8413-4eb9-8105-2cfc2b1290c9",
            "level": "info",
            "memory_used": [],
            "project_ref": "hidgiyyunigqazssnydm",
            "reason": null,
            "region": "us-east-1",
            "served_by": "supabase-edge-runtime-1.70.3 (compatible with Deno v2.1.4)",
            "timestamp": "2026-02-16T01:35:31.194Z",
            "version": "23"
          }
        ]
      },
      {
        "event_message": "[SANITY DEBUG] {\n  slotType: \"snack\",\n  recipeId: \"c80acc43-ce33-49d8-a523-9a32a079a305\",\n  title: \"Рыбные котлеты с картофельным пюре и тушёной морко\",\n  hitTokens: \"[REDACTED]\"\n}\n",
        "metadata": [
          {
            "boot_time": null,
            "cpu_time_used": null,
            "deployment_id": "hidgiyyunigqazssnydm_68d27ef6-8413-4eb9-8105-2cfc2b1290c9_23",
            "event_type": "Log",
            "execution_id": "5a7b47e7-4eff-4ce3-8ee8-d6a655ccda3b",
            "function_id": "68d27ef6-8413-4eb9-8105-2cfc2b1290c9",
            "level": "info",
            "memory_used": [],
            "project_ref": "hidgiyyunigqazssnydm",
            "reason": null,
            "region": "us-east-1",
            "served_by": "supabase-edge-runtime-1.70.3 (compatible with Deno v2.1.4)",
            "timestamp": "2026-02-16T01:35:31.194Z",
            "version": "23"
          }
        ]
      },
      {
        "event_message": "[SANITY DEBUG] {\n  slotType: \"dinner\",\n  recipeId: \"a99915bf-6cd1-41eb-9556-319a6981c996\",\n  title: \"Рыбные котлеты с картофельным пюре и брокколи\",\n  hitTokens: \"[REDACTED]\"\n}\n",
        "metadata": [
          {
            "boot_time": null,
            "cpu_time_used": null,
            "deployment_id": "hidgiyyunigqazssnydm_68d27ef6-8413-4eb9-8105-2cfc2b1290c9_23",
            "event_type": "Log",
            "execution_id": "5a7b47e7-4eff-4ce3-8ee8-d6a655ccda3b",
            "function_id": "68d27ef6-8413-4eb9-8105-2cfc2b1290c9",
            "level": "info",
            "memory_used": [],
            "project_ref": "hidgiyyunigqazssnydm",
            "reason": null,
            "region": "us-east-1",
            "served_by": "supabase-edge-runtime-1.70.3 (compatible with Deno v2.1.4)",
            "timestamp": "2026-02-16T01:35:31.510Z",
            "version": "23"
          }
        ]
      },
      {
        "event_message": "[SANITY DEBUG] {\n  slotType: \"snack\",\n  recipeId: \"5ab53d7f-045e-4bcf-a03d-e7261f4737ca\",\n  title: \"Рыбные котлеты с картофельным пюре и брокколи\",\n  hitTokens: \"[REDACTED]\"\n}\n",
        "metadata": [
          {
            "boot_time": null,
            "cpu_time_used": null,
            "deployment_id": "hidgiyyunigqazssnydm_68d27ef6-8413-4eb9-8105-2cfc2b1290c9_23",
            "event_type": "Log",
            "execution_id": "5a7b47e7-4eff-4ce3-8ee8-d6a655ccda3b",
            "function_id": "68d27ef6-8413-4eb9-8105-2cfc2b1290c9",
            "level": "info",
            "memory_used": [],
            "project_ref": "hidgiyyunigqazssnydm",
            "reason": null,
            "region": "us-east-1",
            "served_by": "supabase-edge-runtime-1.70.3 (compatible with Deno v2.1.4)",
            "timestamp": "2026-02-16T01:35:32.677Z",
            "version": "23"
          }
        ]
      },
      {
        "event_message": "[SANITY DEBUG] {\n  slotType: \"snack\",\n  recipeId: \"16b1ac91-e4df-448b-b887-1d1712b069e4\",\n  title: \"Рыбные котлеты с картофельным пюре и брокколи\",\n  hitTokens: \"[REDACTED]\"\n}\n",
        "metadata": [
          {
            "boot_time": null,
            "cpu_time_used": null,
            "deployment_id": "hidgiyyunigqazssnydm_68d27ef6-8413-4eb9-8105-2cfc2b1290c9_23",
            "event_type": "Log",
            "execution_id": "5a7b47e7-4eff-4ce3-8ee8-d6a655ccda3b",
            "function_id": "68d27ef6-8413-4eb9-8105-2cfc2b1290c9",
            "level": "info",
            "memory_used": [],
            "project_ref": "hidgiyyunigqazssnydm",
            "reason": null,
            "region": "us-east-1",
            "served_by": "supabase-edge-runtime-1.70.3 (compatible with Deno v2.1.4)",
            "timestamp": "2026-02-16T01:35:32.677Z",
            "version": "23"
          }
        ]
      },
      {
        "event_message": "[SANITY DEBUG] {\n  slotType: \"snack\",\n  recipeId: \"84f7c37e-ee32-4f18-a336-98a501a37f9d\",\n  title: \"Куриные тефтели с гречкой и овощным пюре\",\n  hitTokens: \"[REDACTED]\"\n}\n",
        "metadata": [
          {
            "boot_time": null,
            "cpu_time_used": null,
            "deployment_id": "hidgiyyunigqazssnydm_68d27ef6-8413-4eb9-8105-2cfc2b1290c9_23",
            "event_type": "Log",
            "execution_id": "5a7b47e7-4eff-4ce3-8ee8-d6a655ccda3b",
            "function_id": "68d27ef6-8413-4eb9-8105-2cfc2b1290c9",
            "level": "info",
            "memory_used": [],
            "project_ref": "hidgiyyunigqazssnydm",
            "reason": null,
            "region": "us-east-1",
            "served_by": "supabase-edge-runtime-1.70.3 (compatible with Deno v2.1.4)",
            "timestamp": "2026-02-16T01:35:32.677Z",
            "version": "23"
          }
        ]
      },
      {
        "event_message": "[SANITY DEBUG] {\n  slotType: \"snack\",\n  recipeId: \"c80acc43-ce33-49d8-a523-9a32a079a305\",\n  title: \"Рыбные котлеты с картофельным пюре и тушёной морко\",\n  hitTokens: \"[REDACTED]\"\n}\n",
        "metadata": [
          {
            "boot_time": null,
            "cpu_time_used": null,
            "deployment_id": "hidgiyyunigqazssnydm_68d27ef6-8413-4eb9-8105-2cfc2b1290c9_23",
            "event_type": "Log",
            "execution_id": "5a7b47e7-4eff-4ce3-8ee8-d6a655ccda3b",
            "function_id": "68d27ef6-8413-4eb9-8105-2cfc2b1290c9",
            "level": "info",
            "memory_used": [],
            "project_ref": "hidgiyyunigqazssnydm",
            "reason": null,
            "region": "us-east-1",
            "served_by": "supabase-edge-runtime-1.70.3 (compatible with Deno v2.1.4)",
            "timestamp": "2026-02-16T01:35:32.677Z",
            "version": "23"
          }
        ]
      },
      {
        "event_message": "[SANITY DEBUG] {\n  slotType: \"dinner\",\n  recipeId: \"a99915bf-6cd1-41eb-9556-319a6981c996\",\n  title: \"Рыбные котлеты с картофельным пюре и брокколи\",\n  hitTokens: \"[REDACTED]\"\n}\n",
        "metadata": [
          {
            "boot_time": null,
            "cpu_time_used": null,
            "deployment_id": "hidgiyyunigqazssnydm_68d27ef6-8413-4eb9-8105-2cfc2b1290c9_23",
            "event_type": "Log",
            "execution_id": "5a7b47e7-4eff-4ce3-8ee8-d6a655ccda3b",
            "function_id": "68d27ef6-8413-4eb9-8105-2cfc2b1290c9",
            "level": "info",
            "memory_used": [],
            "project_ref": "hidgiyyunigqazssnydm",
            "reason": null,
            "region": "us-east-1",
            "served_by": "supabase-edge-runtime-1.70.3 (compatible with Deno v2.1.4)",
            "timestamp": "2026-02-16T01:35:32.971Z",
            "version": "23"
          }
        ]
      },
      {
        "event_message": "[SANITY DEBUG] {\n  slotType: \"snack\",\n  recipeId: \"16b1ac91-e4df-448b-b887-1d1712b069e4\",\n  title: \"Рыбные котлеты с картофельным пюре и брокколи\",\n  hitTokens: \"[REDACTED]\"\n}\n",
        "metadata": [
          {
            "boot_time": null,
            "cpu_time_used": null,
            "deployment_id": "hidgiyyunigqazssnydm_68d27ef6-8413-4eb9-8105-2cfc2b1290c9_23",
            "event_type": "Log",
            "execution_id": "5a7b47e7-4eff-4ce3-8ee8-d6a655ccda3b",
            "function_id": "68d27ef6-8413-4eb9-8105-2cfc2b1290c9",
            "level": "info",
            "memory_used": [],
            "project_ref": "hidgiyyunigqazssnydm",
            "reason": null,
            "region": "us-east-1",
            "served_by": "supabase-edge-runtime-1.70.3 (compatible with Deno v2.1.4)",
            "timestamp": "2026-02-16T01:35:34.367Z",
            "version": "23"
          }
        ]
      },
      {
        "event_message": "[SANITY DEBUG] {\n  slotType: \"snack\",\n  recipeId: \"5ab53d7f-045e-4bcf-a03d-e7261f4737ca\",\n  title: \"Рыбные котлеты с картофельным пюре и брокколи\",\n  hitTokens: \"[REDACTED]\"\n}\n",
        "metadata": [
          {
            "boot_time": null,
            "cpu_time_used": null,
            "deployment_id": "hidgiyyunigqazssnydm_68d27ef6-8413-4eb9-8105-2cfc2b1290c9_23",
            "event_type": "Log",
            "execution_id": "5a7b47e7-4eff-4ce3-8ee8-d6a655ccda3b",
            "function_id": "68d27ef6-8413-4eb9-8105-2cfc2b1290c9",
            "level": "info",
            "memory_used": [],
            "project_ref": "hidgiyyunigqazssnydm",
            "reason": null,
            "region": "us-east-1",
            "served_by": "supabase-edge-runtime-1.70.3 (compatible with Deno v2.1.4)",
            "timestamp": "2026-02-16T01:35:34.368Z",
            "version": "23"
          }
        ]
      },
      {
        "event_message": "[SANITY DEBUG] {\n  slotType: \"snack\",\n  recipeId: \"c80acc43-ce33-49d8-a523-9a32a079a305\",\n  title: \"Рыбные котлеты с картофельным пюре и тушёной морко\",\n  hitTokens: \"[REDACTED]\"\n}\n",
        "metadata": [
          {
            "boot_time": null,
            "cpu_time_used": null,
            "deployment_id": "hidgiyyunigqazssnydm_68d27ef6-8413-4eb9-8105-2cfc2b1290c9_23",
            "event_type": "Log",
            "execution_id": "5a7b47e7-4eff-4ce3-8ee8-d6a655ccda3b",
            "function_id": "68d27ef6-8413-4eb9-8105-2cfc2b1290c9",
            "level": "info",
            "memory_used": [],
            "project_ref": "hidgiyyunigqazssnydm",
            "reason": null,
            "region": "us-east-1",
            "served_by": "supabase-edge-runtime-1.70.3 (compatible with Deno v2.1.4)",
            "timestamp": "2026-02-16T01:35:34.368Z",
            "version": "23"
          }
        ]
      },
      {
        "event_message": "[SANITY DEBUG] {\n  slotType: \"snack\",\n  recipeId: \"84f7c37e-ee32-4f18-a336-98a501a37f9d\",\n  title: \"Куриные тефтели с гречкой и овощным пюре\",\n  hitTokens: \"[REDACTED]\"\n}\n",
        "metadata": [
          {
            "boot_time": null,
            "cpu_time_used": null,
            "deployment_id": "hidgiyyunigqazssnydm_68d27ef6-8413-4eb9-8105-2cfc2b1290c9_23",
            "event_type": "Log",
            "execution_id": "5a7b47e7-4eff-4ce3-8ee8-d6a655ccda3b",
            "function_id": "68d27ef6-8413-4eb9-8105-2cfc2b1290c9",
            "level": "info",
            "memory_used": [],
            "project_ref": "hidgiyyunigqazssnydm",
            "reason": null,
            "region": "us-east-1",
            "served_by": "supabase-edge-runtime-1.70.3 (compatible with Deno v2.1.4)",
            "timestamp": "2026-02-16T01:35:34.368Z",
            "version": "23"
          }
        ]
      },
      {
        "event_message": "[SANITY DEBUG] {\n  slotType: \"dinner\",\n  recipeId: \"a99915bf-6cd1-41eb-9556-319a6981c996\",\n  title: \"Рыбные котлеты с картофельным пюре и брокколи\",\n  hitTokens: \"[REDACTED]\"\n}\n",
        "metadata": [
          {
            "boot_time": null,
            "cpu_time_used": null,
            "deployment_id": "hidgiyyunigqazssnydm_68d27ef6-8413-4eb9-8105-2cfc2b1290c9_23",
            "event_type": "Log",
            "execution_id": "5a7b47e7-4eff-4ce3-8ee8-d6a655ccda3b",
            "function_id": "68d27ef6-8413-4eb9-8105-2cfc2b1290c9",
            "level": "info",
            "memory_used": [],
            "project_ref": "hidgiyyunigqazssnydm",
            "reason": null,
            "region": "us-east-1",
            "served_by": "supabase-edge-runtime-1.70.3 (compatible with Deno v2.1.4)",
            "timestamp": "2026-02-16T01:35:34.764Z",
            "version": "23"
          }
        ]
      },
      {
        "event_message": "[SANITY DEBUG] {\n  slotType: \"snack\",\n  recipeId: \"5ab53d7f-045e-4bcf-a03d-e7261f4737ca\",\n  title: \"Рыбные котлеты с картофельным пюре и брокколи\",\n  hitTokens: \"[REDACTED]\"\n}\n",
        "metadata": [
          {
            "boot_time": null,
            "cpu_time_used": null,
            "deployment_id": "hidgiyyunigqazssnydm_68d27ef6-8413-4eb9-8105-2cfc2b1290c9_23",
            "event_type": "Log",
            "execution_id": "5a7b47e7-4eff-4ce3-8ee8-d6a655ccda3b",
            "function_id": "68d27ef6-8413-4eb9-8105-2cfc2b1290c9",
            "level": "info",
            "memory_used": [],
            "project_ref": "hidgiyyunigqazssnydm",
            "reason": null,
            "region": "us-east-1",
            "served_by": "supabase-edge-runtime-1.70.3 (compatible with Deno v2.1.4)",
            "timestamp": "2026-02-16T01:35:36.092Z",
            "version": "23"
          }
        ]
      },
      {
        "event_message": "[SANITY DEBUG] {\n  slotType: \"snack\",\n  recipeId: \"c80acc43-ce33-49d8-a523-9a32a079a305\",\n  title: \"Рыбные котлеты с картофельным пюре и тушёной морко\",\n  hitTokens: \"[REDACTED]\"\n}\n",
        "metadata": [
          {
            "boot_time": null,
            "cpu_time_used": null,
            "deployment_id": "hidgiyyunigqazssnydm_68d27ef6-8413-4eb9-8105-2cfc2b1290c9_23",
            "event_type": "Log",
            "execution_id": "5a7b47e7-4eff-4ce3-8ee8-d6a655ccda3b",
            "function_id": "68d27ef6-8413-4eb9-8105-2cfc2b1290c9",
            "level": "info",
            "memory_used": [],
            "project_ref": "hidgiyyunigqazssnydm",
            "reason": null,
            "region": "us-east-1",
            "served_by": "supabase-edge-runtime-1.70.3 (compatible with Deno v2.1.4)",
            "timestamp": "2026-02-16T01:35:36.092Z",
            "version": "23"
          }
        ]
      },
      {
        "event_message": "[SANITY DEBUG] {\n  slotType: \"snack\",\n  recipeId: \"16b1ac91-e4df-448b-b887-1d1712b069e4\",\n  title: \"Рыбные котлеты с картофельным пюре и брокколи\",\n  hitTokens: \"[REDACTED]\"\n}\n",
        "metadata": [
          {
            "boot_time": null,
            "cpu_time_used": null,
            "deployment_id": "hidgiyyunigqazssnydm_68d27ef6-8413-4eb9-8105-2cfc2b1290c9_23",
            "event_type": "Log",
            "execution_id": "5a7b47e7-4eff-4ce3-8ee8-d6a655ccda3b",
            "function_id": "68d27ef6-8413-4eb9-8105-2cfc2b1290c9",
            "level": "info",
            "memory_used": [],
            "project_ref": "hidgiyyunigqazssnydm",
            "reason": null,
            "region": "us-east-1",
            "served_by": "supabase-edge-runtime-1.70.3 (compatible with Deno v2.1.4)",
            "timestamp": "2026-02-16T01:35:36.092Z",
            "version": "23"
          }
        ]
      },
      {
        "event_message": "[SANITY DEBUG] {\n  slotType: \"snack\",\n  recipeId: \"84f7c37e-ee32-4f18-a336-98a501a37f9d\",\n  title: \"Куриные тефтели с гречкой и овощным пюре\",\n  hitTokens: \"[REDACTED]\"\n}\n",
        "metadata": [
          {
            "boot_time": null,
            "cpu_time_used": null,
            "deployment_id": "hidgiyyunigqazssnydm_68d27ef6-8413-4eb9-8105-2cfc2b1290c9_23",
            "event_type": "Log",
            "execution_id": "5a7b47e7-4eff-4ce3-8ee8-d6a655ccda3b",
            "function_id": "68d27ef6-8413-4eb9-8105-2cfc2b1290c9",
            "level": "info",
            "memory_used": [],
            "project_ref": "hidgiyyunigqazssnydm",
            "reason": null,
            "region": "us-east-1",
            "served_by": "supabase-edge-runtime-1.70.3 (compatible with Deno v2.1.4)",
            "timestamp": "2026-02-16T01:35:36.092Z",
            "version": "23"
          }
        ]
      },
      {
        "event_message": "[SANITY DEBUG] {\n  slotType: \"dinner\",\n  recipeId: \"a99915bf-6cd1-41eb-9556-319a6981c996\",\n  title: \"Рыбные котлеты с картофельным пюре и брокколи\",\n  hitTokens: \"[REDACTED]\"\n}\n",
        "metadata": [
          {
            "boot_time": null,
            "cpu_time_used": null,
            "deployment_id": "hidgiyyunigqazssnydm_68d27ef6-8413-4eb9-8105-2cfc2b1290c9_23",
            "event_type": "Log",
            "execution_id": "5a7b47e7-4eff-4ce3-8ee8-d6a655ccda3b",
            "function_id": "68d27ef6-8413-4eb9-8105-2cfc2b1290c9",
            "level": "info",
            "memory_used": [],
            "project_ref": "hidgiyyunigqazssnydm",
            "reason": null,
            "region": "us-east-1",
            "served_by": "supabase-edge-runtime-1.70.3 (compatible with Deno v2.1.4)",
            "timestamp": "2026-02-16T01:35:36.386Z",
            "version": "23"
          }
        ]
      }
    ],
    "plan_quality": [],
    "job": [],
    "pool_upgrade": [
      {
        "event_message": "[POOL UPGRADE] range { dayKeysCount: 7, firstKey: \"2026-02-15\", lastKey: \"2026-02-21\" }\n",
        "metadata": [
          {
            "boot_time": null,
            "cpu_time_used": null,
            "deployment_id": "hidgiyyunigqazssnydm_68d27ef6-8413-4eb9-8105-2cfc2b1290c9_23",
            "event_type": "Log",
            "execution_id": "5a7b47e7-4eff-4ce3-8ee8-d6a655ccda3b",
            "function_id": "68d27ef6-8413-4eb9-8105-2cfc2b1290c9",
            "level": "info",
            "memory_used": [],
            "project_ref": "hidgiyyunigqazssnydm",
            "reason": null,
            "region": "us-east-1",
            "served_by": "supabase-edge-runtime-1.70.3 (compatible with Deno v2.1.4)",
            "timestamp": "2026-02-16T01:35:26.339Z",
            "version": "23"
          }
        ]
      },
      {
        "event_message": "[POOL UPGRADE] {\n  mealType: \"breakfast\",\n  normalizedSlot: \"breakfast\",\n  hadRecipeId: \"3d4497cf-8130-4f47-82e6-65d935742323\",\n  replaced: true,\n  candidatesFromDb: 60,\n  candidatesStrict: 60,\n  candidatesLoose: 60,\n  afterExclude: 60,\n  beforeMealType: 54,\n  candidatesAfterMealType: 14,\n  afterMealType: 14,\n  blockedBySanityRules: [],\n  afterProfile: 14,\n  afterFiltersCount: 14,\n  pickedRecipeId: \"54608df4-7d54-407f-be8e-82acf424bd29\",\n  rejectReason: undefined,\n  topReason: \"finalScore=4\",\n  pickedMealTypeRaw: \"breakfast\",\n  pickedMealTypeNorm: \"breakfast\",\n  pickedProteinKey: \"dairy\",\n  pickedBaseScore: 4,\n  pickedPenalty: 0,\n  pickedFinalScore: 4,\n  slotTypeNorm: \"breakfast\",\n  usedTitleKeysCount: 15,\n  excludedTitleKeysHit: 6,\n  mealTypeRecoveredFromTitle: true,\n  recoveredCount: 5\n}\n",
        "metadata": [
          {
            "boot_time": null,
            "cpu_time_used": null,
            "deployment_id": "hidgiyyunigqazssnydm_68d27ef6-8413-4eb9-8105-2cfc2b1290c9_23",
            "event_type": "Log",
            "execution_id": "5a7b47e7-4eff-4ce3-8ee8-d6a655ccda3b",
            "function_id": "68d27ef6-8413-4eb9-8105-2cfc2b1290c9",
            "level": "info",
            "memory_used": [],
            "project_ref": "hidgiyyunigqazssnydm",
            "reason": null,
            "region": "us-east-1",
            "served_by": "supabase-edge-runtime-1.70.3 (compatible with Deno v2.1.4)",
            "timestamp": "2026-02-16T01:35:27.055Z",
            "version": "23"
          }
        ]
      },
      {
        "event_message": "[POOL UPGRADE] candidates snapshot {\n  top5: [\n    {\n      id: \"178e9ad9-1d02-46bb-bdb0-84fe0d9cc2ae\",\n      title: \"Творожные кексы с грушей\",\n      meal_type: \"breakfast\",\n      proteinKey: \"dairy\",\n      baseScore: 4,\n      diversityPenalty: 0,\n      finalScore: 4\n    },\n    {\n      id: \"4bce887f-6d0b-4d3e-a2c7-ca5cf217ee29\",\n      title: \"Творожные панкейки с бананом\",\n      meal_type: \"breakfast\",\n      proteinKey: \"dairy\",\n      baseScore: 4,\n      diversityPenalty: 0,\n      finalScore: 4\n    },\n    {\n      id: \"54608df4-7d54-407f-be8e-82acf424bd29\",\n      title: \"Творожные оладьи с ягодами\",\n      meal_type: \"breakfast\",\n      proteinKey: \"dairy\",\n      baseScore: 4,\n      diversityPenalty: 0,\n      finalScore: 4\n    },\n    {\n      id: \"901c0766-2bc3-4f79-8959-891fcdcf6287\",\n      title: \"Творожная запеканка с яблоком и изюмом\",\n      meal_type: \"breakfast\",\n      proteinKey: \"dairy\",\n      baseScore: 4,\n      diversityPenalty: 0,\n      finalScore: 4\n    },\n    {\n      id: \"e067be83-1e1e-4ed7-8b68-24cf766a87d8\",\n      title: \"Омлет с брокколи и сыром\",\n      meal_type: \"breakfast\",\n      proteinKey: \"dairy\",\n      baseScore: 4,\n      diversityPenalty: 0,\n      finalScore: 4\n    }\n  ]\n}\n",
        "metadata": [
          {
            "boot_time": null,
            "cpu_time_used": null,
            "deployment_id": "hidgiyyunigqazssnydm_68d27ef6-8413-4eb9-8105-2cfc2b1290c9_23",
            "event_type": "Log",
            "execution_id": "5a7b47e7-4eff-4ce3-8ee8-d6a655ccda3b",
            "function_id": "68d27ef6-8413-4eb9-8105-2cfc2b1290c9",
            "level": "info",
            "memory_used": [],
            "project_ref": "hidgiyyunigqazssnydm",
            "reason": null,
            "region": "us-east-1",
            "served_by": "supabase-edge-runtime-1.70.3 (compatible with Deno v2.1.4)",
            "timestamp": "2026-02-16T01:35:27.055Z",
            "version": "23"
          }
        ]
      },
      {
        "event_message": "[POOL UPGRADE] candidates snapshot {\n  top5: [\n    {\n      id: \"80cb76d3-9890-4c22-b516-bba41646d63d\",\n      title: \"Тефтели из индейки с гречкой и тушеными овощами\",\n      meal_type: \"lunch\",\n      proteinKey: \"chicken\",\n      baseScore: 4,\n      diversityPenalty: 0,\n      finalScore: 4\n    },\n    {\n      id: \"647619e6-6004-4b6c-a0f9-2b8a4ab8637e\",\n      title: \"Куриный суп с овощами и вермишелью\",\n      meal_type: null,\n      proteinKey: \"chicken\",\n      baseScore: 4,\n      diversityPenalty: 0,\n      finalScore: 4\n    },\n    {\n      id: \"a19c48df-42a5-4ca7-9101-45e2aa1ac6ff\",\n      title: \"Суп-пюре из кабачка и картофеля с индейкой\",\n      meal_type: \"lunch\",\n      proteinKey: \"chicken\",\n      baseScore: 1,\n      diversityPenalty: 0,\n      finalScore: 1\n    },\n    {\n      id: \"13cb8e31-b4b1-43d0-8f6b-df932eb6d6a3\",\n      title: \"Суп-пюре из моркови и картофеля с индейкой\",\n      meal_type: \"lunch\",\n      proteinKey: \"chicken\",\n      baseScore: 1,\n      diversityPenalty: 0,\n      finalScore: 1\n    },\n    {\n      id: \"8801a4a8-d1f6-49c5-aa5b-3535c46ff770\",\n      title: \"Суп-пюре из цветной капусты с курицей и картофелем\",\n      meal_type: \"lunch\",\n      proteinKey: \"chicken\",\n      baseScore: 1,\n      diversityPenalty: 0,\n      finalScore: 1\n    }\n  ]\n}\n",
        "metadata": [
          {
            "boot_time": null,
            "cpu_time_used": null,
            "deployment_id": "hidgiyyunigqazssnydm_68d27ef6-8413-4eb9-8105-2cfc2b1290c9_23",
            "event_type": "Log",
            "execution_id": "5a7b47e7-4eff-4ce3-8ee8-d6a655ccda3b",
            "function_id": "68d27ef6-8413-4eb9-8105-2cfc2b1290c9",
            "level": "info",
            "memory_used": [],
            "project_ref": "hidgiyyunigqazssnydm",
            "reason": null,
            "region": "us-east-1",
            "served_by": "supabase-edge-runtime-1.70.3 (compatible with Deno v2.1.4)",
            "timestamp": "2026-02-16T01:35:27.337Z",
            "version": "23"
          }
        ]
      },
      {
        "event_message": "[POOL UPGRADE] {\n  mealType: \"lunch\",\n  normalizedSlot: \"lunch\",\n  hadRecipeId: \"acd32c4c-04cc-496e-b28e-92373f526d1e\",\n  replaced: true,\n  candidatesFromDb: 60,\n  candidatesStrict: 60,\n  candidatesLoose: 60,\n  afterExclude: 60,\n  beforeMealType: 54,\n  candidatesAfterMealType: 11,\n  afterMealType: 11,\n  blockedBySanityRules: [],\n  afterProfile: 11,\n  afterFiltersCount: 11,\n  pickedRecipeId: \"a87c64d0-33ed-49f0-bee8-bc50ad1b00e8\",\n  rejectReason: undefined,\n  topReason: \"finalScore=4\",\n  pickedMealTypeRaw: null,\n  pickedMealTypeNorm: \"lunch\",\n  pickedProteinKey: \"chicken\",\n  pickedBaseScore: 1,\n  pickedPenalty: 0,\n  pickedFinalScore: 1,\n  slotTypeNorm: \"lunch\",\n  usedTitleKeysCount: 16,\n  excludedTitleKeysHit: 6,\n  mealTypeRecoveredFromTitle: true,\n  recoveredCount: 6\n}\n",
        "metadata": [
          {
            "boot_time": null,
            "cpu_time_used": null,
            "deployment_id": "hidgiyyunigqazssnydm_68d27ef6-8413-4eb9-8105-2cfc2b1290c9_23",
            "event_type": "Log",
            "execution_id": "5a7b47e7-4eff-4ce3-8ee8-d6a655ccda3b",
            "function_id": "68d27ef6-8413-4eb9-8105-2cfc2b1290c9",
            "level": "info",
            "memory_used": [],
            "project_ref": "hidgiyyunigqazssnydm",
            "reason": null,
            "region": "us-east-1",
            "served_by": "supabase-edge-runtime-1.70.3 (compatible with Deno v2.1.4)",
            "timestamp": "2026-02-16T01:35:27.337Z",
            "version": "23"
          }
        ]
      },
      {
        "event_message": "[POOL UPGRADE] candidates snapshot {\n  top5: [\n    {\n      id: \"569f6b73-dc15-4f70-9849-137d0f474b6a\",\n      title: \"Йогурт с яблоком и орехами\",\n      meal_type: \"snack\",\n      proteinKey: \"dairy\",\n      baseScore: 6,\n      diversityPenalty: 0,\n      finalScore: 6\n    },\n    {\n      id: \"762c98ce-3a4c-4073-8d14-b671f2d1c400\",\n      title: \"Йогурт с персиком и орехами\",\n      meal_type: \"snack\",\n      proteinKey: \"dairy\",\n      baseScore: 6,\n      diversityPenalty: 0,\n      finalScore: 6\n    },\n    {\n      id: \"4636f337-36bf-468f-9330-16017f6752f9\",\n      title: \"Йогурт с бананом и ягодами\",\n      meal_type: \"snack\",\n      proteinKey: \"dairy\",\n      baseScore: 6,\n      diversityPenalty: 0,\n      finalScore: 6\n    },\n    {\n      id: \"c99f1e99-d93e-40b4-8c88-9a25524a06e5\",\n      title: \"Йогурт с грушей и грецкими орехами\",\n      meal_type: \"snack\",\n      proteinKey: \"dairy\",\n      baseScore: 6,\n      diversityPenalty: 0,\n      finalScore: 6\n    },\n    {\n      id: \"469e4cb8-88a5-4f74-9010-4c0c9877f31a\",\n      title: \"Йогурт с грушей и грецкими орехами\",\n      meal_type: null,\n      proteinKey: \"dairy\",\n      baseScore: 6,\n      diversityPenalty: 0,\n      finalScore: 6\n    }\n  ]\n}\n",
        "metadata": [
          {
            "boot_time": null,
            "cpu_time_used": null,
            "deployment_id": "hidgiyyunigqazssnydm_68d27ef6-8413-4eb9-8105-2cfc2b1290c9_23",
            "event_type": "Log",
            "execution_id": "5a7b47e7-4eff-4ce3-8ee8-d6a655ccda3b",
            "function_id": "68d27ef6-8413-4eb9-8105-2cfc2b1290c9",
            "level": "info",
            "memory_used": [],
            "project_ref": "hidgiyyunigqazssnydm",
            "reason": null,
            "region": "us-east-1",
            "served_by": "supabase-edge-runtime-1.70.3 (compatible with Deno v2.1.4)",
            "timestamp": "2026-02-16T01:35:27.651Z",
            "version": "23"
          }
        ]
      },
      {
        "event_message": "[POOL UPGRADE] {\n  mealType: \"snack\",\n  normalizedSlot: \"snack\",\n  hadRecipeId: \"a58f1302-bc74-44cc-91d2-fc8f379098ae\",\n  replaced: true,\n  candidatesFromDb: 60,\n  candidatesStrict: 60,\n  candidatesLoose: 60,\n  afterExclude: 60,\n  beforeMealType: 54,\n  candidatesAfterMealType: 15,\n  afterMealType: 15,\n  blockedBySanityRules: [ \"котлет\" ],\n  afterProfile: 14,\n  afterFiltersCount: 14,\n  pickedRecipeId: \"4636f337-36bf-468f-9330-16017f6752f9\",\n  rejectReason: undefined,\n  topReason: \"finalScore=6\",\n  pickedMealTypeRaw: \"snack\",\n  pickedMealTypeNorm: \"snack\",\n  pickedProteinKey: \"dairy\",\n  pickedBaseScore: 6,\n  pickedPenalty: 0,\n  pickedFinalScore: 6,\n  slotTypeNorm: \"snack\",\n  usedTitleKeysCount: 17,\n  excludedTitleKeysHit: 6,\n  mealTypeRecoveredFromTitle: true,\n  recoveredCount: 6\n}\n",
        "metadata": [
          {
            "boot_time": null,
            "cpu_time_used": null,
            "deployment_id": "hidgiyyunigqazssnydm_68d27ef6-8413-4eb9-8105-2cfc2b1290c9_23",
            "event_type": "Log",
            "execution_id": "5a7b47e7-4eff-4ce3-8ee8-d6a655ccda3b",
            "function_id": "68d27ef6-8413-4eb9-8105-2cfc2b1290c9",
            "level": "info",
            "memory_used": [],
            "project_ref": "hidgiyyunigqazssnydm",
            "reason": null,
            "region": "us-east-1",
            "served_by": "supabase-edge-runtime-1.70.3 (compatible with Deno v2.1.4)",
            "timestamp": "2026-02-16T01:35:27.651Z",
            "version": "23"
          }
        ]
      },
      {
        "event_message": "[POOL UPGRADE] {\n  mealType: \"dinner\",\n  normalizedSlot: \"dinner\",\n  hadRecipeId: \"b60ef2fc-67b5-4c08-b747-0f2a95093cbb\",\n  replaced: true,\n  candidatesFromDb: 60,\n  candidatesStrict: 60,\n  candidatesLoose: 60,\n  afterExclude: 60,\n  beforeMealType: 52,\n  candidatesAfterMealType: 14,\n  afterMealType: 14,\n  blockedBySanityRules: [ \"пюре\" ],\n  afterProfile: 13,\n  afterFiltersCount: 13,\n  pickedRecipeId: \"fe7904ee-1197-45bf-acb8-b17dc42dccd8\",\n  rejectReason: undefined,\n  topReason: \"finalScore=4\",\n  pickedMealTypeRaw: null,\n  pickedMealTypeNorm: \"dinner\",\n  pickedProteinKey: \"fish\",\n  pickedBaseScore: 4,\n  pickedPenalty: 0,\n  pickedFinalScore: 4,\n  slotTypeNorm: \"dinner\",\n  usedTitleKeysCount: 18,\n  excludedTitleKeysHit: 8,\n  mealTypeRecoveredFromTitle: true,\n  recoveredCount: 6\n}\n",
        "metadata": [
          {
            "boot_time": null,
            "cpu_time_used": null,
            "deployment_id": "hidgiyyunigqazssnydm_68d27ef6-8413-4eb9-8105-2cfc2b1290c9_23",
            "event_type": "Log",
            "execution_id": "5a7b47e7-4eff-4ce3-8ee8-d6a655ccda3b",
            "function_id": "68d27ef6-8413-4eb9-8105-2cfc2b1290c9",
            "level": "info",
            "memory_used": [],
            "project_ref": "hidgiyyunigqazssnydm",
            "reason": null,
            "region": "us-east-1",
            "served_by": "supabase-edge-runtime-1.70.3 (compatible with Deno v2.1.4)",
            "timestamp": "2026-02-16T01:35:27.965Z",
            "version": "23"
          }
        ]
      },
      {
        "event_message": "[POOL UPGRADE] candidates snapshot {\n  top5: [\n    {\n      id: \"9617e016-351c-43b3-9ebb-440000afa395\",\n      title: \"Запечённый минтай с цветной капустой и картофелем\",\n      meal_type: \"dinner\",\n      proteinKey: \"fish\",\n      baseScore: 4,\n      diversityPenalty: 0,\n      finalScore: 4\n    },\n    {\n      id: \"62ceddc2-16e5-4bd0-8fae-9142dc4f2438\",\n      title: \"Запечённая курица с тыквой и брокколи\",\n      meal_type: \"dinner\",\n      proteinKey: \"chicken\",\n      baseScore: 4,\n      diversityPenalty: 0,\n      finalScore: 4\n    },\n    {\n      id: \"185ce171-ac78-49f7-9be6-3ef4c935f131\",\n      title: \"Запечённая треска с цукини и морковью\",\n      meal_type: \"dinner\",\n      proteinKey: \"fish\",\n      baseScore: 4,\n      diversityPenalty: 0,\n      finalScore: 4\n    },\n    {\n      id: \"883f0215-cd98-4576-8766-f720e8e0db04\",\n      title: \"Запечённая индейка с кабачком и рисом\",\n      meal_type: \"dinner\",\n      proteinKey: \"chicken\",\n      baseScore: 4,\n      diversityPenalty: 0,\n      finalScore: 4\n    },\n    {\n      id: \"a1a3ac5e-1e73-48b3-88ff-6d778e445c34\",\n      title: \"Запечённая куриная грудка с цукини и рисом\",\n      meal_type: \"dinner\",\n      proteinKey: \"chicken\",\n      baseScore: 4,\n      diversityPenalty: 0,\n      finalScore: 4\n    }\n  ]\n}\n",
        "metadata": [
          {
            "boot_time": null,
            "cpu_time_used": null,
            "deployment_id": "hidgiyyunigqazssnydm_68d27ef6-8413-4eb9-8105-2cfc2b1290c9_23",
            "event_type": "Log",
            "execution_id": "5a7b47e7-4eff-4ce3-8ee8-d6a655ccda3b",
            "function_id": "68d27ef6-8413-4eb9-8105-2cfc2b1290c9",
            "level": "info",
            "memory_used": [],
            "project_ref": "hidgiyyunigqazssnydm",
            "reason": null,
            "region": "us-east-1",
            "served_by": "supabase-edge-runtime-1.70.3 (compatible with Deno v2.1.4)",
            "timestamp": "2026-02-16T01:35:27.965Z",
            "version": "23"
          }
        ]
      },
      {
        "event_message": "[POOL UPGRADE] {\n  mealType: \"breakfast\",\n  normalizedSlot: \"breakfast\",\n  hadRecipeId: undefined,\n  replaced: true,\n  candidatesFromDb: 60,\n  candidatesStrict: 60,\n  candidatesLoose: 60,\n  afterExclude: 60,\n  beforeMealType: 52,\n  candidatesAfterMealType: 14,\n  afterMealType: 14,\n  blockedBySanityRules: [],\n  afterProfile: 14,\n  afterFiltersCount: 14,\n  pickedRecipeId: \"60c8c494-feea-4c83-b1cc-6b186cd9c137\",\n  rejectReason: undefined,\n  topReason: \"finalScore=4\",\n  pickedMealTypeRaw: null,\n  pickedMealTypeNorm: \"breakfast\",\n  pickedProteinKey: \"egg\",\n  pickedBaseScore: 1,\n  pickedPenalty: 0,\n  pickedFinalScore: 1,\n  slotTypeNorm: \"breakfast\",\n  usedTitleKeysCount: 19,\n  excludedTitleKeysHit: 8,\n  mealTypeRecoveredFromTitle: true,\n  recoveredCount: 6\n}\n",
        "metadata": [
          {
            "boot_time": null,
            "cpu_time_used": null,
            "deployment_id": "hidgiyyunigqazssnydm_68d27ef6-8413-4eb9-8105-2cfc2b1290c9_23",
            "event_type": "Log",
            "execution_id": "5a7b47e7-4eff-4ce3-8ee8-d6a655ccda3b",
            "function_id": "68d27ef6-8413-4eb9-8105-2cfc2b1290c9",
            "level": "info",
            "memory_used": [],
            "project_ref": "hidgiyyunigqazssnydm",
            "reason": null,
            "region": "us-east-1",
            "served_by": "supabase-edge-runtime-1.70.3 (compatible with Deno v2.1.4)",
            "timestamp": "2026-02-16T01:35:28.625Z",
            "version": "23"
          }
        ]
      },
      {
        "event_message": "[POOL UPGRADE] candidates snapshot {\n  top5: [\n    {\n      id: \"5b48a32e-f149-4aab-8b78-ceffb1b43f1b\",\n      title: \"Омлет с помидорами и зеленью\",\n      meal_type: \"breakfast\",\n      proteinKey: \"egg\",\n      baseScore: 4,\n      diversityPenalty: 0,\n      finalScore: 4\n    },\n    {\n      id: \"60c8c494-feea-4c83-b1cc-6b186cd9c137\",\n      title: \"Тыквенные оладьи с яблочным пюре\",\n      meal_type: null,\n      proteinKey: \"egg\",\n      baseScore: 1,\n      diversityPenalty: 0,\n      finalScore: 1\n    },\n    {\n      id: \"c71c2eca-fe18-4e3e-ad08-9623747b22c4\",\n      title: \"Омлет с брокколи и сыром\",\n      meal_type: null,\n      proteinKey: \"chicken\",\n      baseScore: 4,\n      diversityPenalty: -10,\n      finalScore: -6\n    },\n    {\n      id: \"bf071a2f-01e4-49e3-853e-89ad95498347\",\n      title: \"Омлет с кабачком и сыром\",\n      meal_type: null,\n      proteinKey: \"chicken\",\n      baseScore: 4,\n      diversityPenalty: -10,\n      finalScore: -6\n    },\n    {\n      id: \"88524e77-d700-4eaf-9f86-bf4126f4c08f\",\n      title: \"Омлет с овощами и сыром\",\n      meal_type: null,\n      proteinKey: \"chicken\",\n      baseScore: 4,\n      diversityPenalty: -10,\n      finalScore: -6\n    }\n  ]\n}\n",
        "metadata": [
          {
            "boot_time": null,
            "cpu_time_used": null,
            "deployment_id": "hidgiyyunigqazssnydm_68d27ef6-8413-4eb9-8105-2cfc2b1290c9_23",
            "event_type": "Log",
            "execution_id": "5a7b47e7-4eff-4ce3-8ee8-d6a655ccda3b",
            "function_id": "68d27ef6-8413-4eb9-8105-2cfc2b1290c9",
            "level": "info",
            "memory_used": [],
            "project_ref": "hidgiyyunigqazssnydm",
            "reason": null,
            "region": "us-east-1",
            "served_by": "supabase-edge-runtime-1.70.3 (compatible with Deno v2.1.4)",
            "timestamp": "2026-02-16T01:35:28.625Z",
            "version": "23"
          }
        ]
      },
      {
        "event_message": "[POOL UPGRADE] candidates snapshot {\n  top5: [\n    {\n      id: \"80cb76d3-9890-4c22-b516-bba41646d63d\",\n      title: \"Тефтели из индейки с гречкой и тушеными овощами\",\n      meal_type: \"lunch\",\n      proteinKey: \"chicken\",\n      baseScore: 4,\n      diversityPenalty: -10,\n      finalScore: -6\n    },\n    {\n      id: \"647619e6-6004-4b6c-a0f9-2b8a4ab8637e\",\n      title: \"Куриный суп с овощами и вермишелью\",\n      meal_type: null,\n      proteinKey: \"chicken\",\n      baseScore: 4,\n      diversityPenalty: -10,\n      finalScore: -6\n    },\n    {\n      id: \"a19c48df-42a5-4ca7-9101-45e2aa1ac6ff\",\n      title: \"Суп-пюре из кабачка и картофеля с индейкой\",\n      meal_type: \"lunch\",\n      proteinKey: \"chicken\",\n      baseScore: 1,\n      diversityPenalty: -10,\n      finalScore: -9\n    },\n    {\n      id: \"13cb8e31-b4b1-43d0-8f6b-df932eb6d6a3\",\n      title: \"Суп-пюре из моркови и картофеля с индейкой\",\n      meal_type: \"lunch\",\n      proteinKey: \"chicken\",\n      baseScore: 1,\n      diversityPenalty: -10,\n      finalScore: -9\n    },\n    {\n      id: \"8801a4a8-d1f6-49c5-aa5b-3535c46ff770\",\n      title: \"Суп-пюре из цветной капусты с курицей и картофелем\",\n      meal_type: \"lunch\",\n      proteinKey: \"chicken\",\n      baseScore: 1,\n      diversityPenalty: -10,\n      finalScore: -9\n    }\n  ]\n}\n",
        "metadata": [
          {
            "boot_time": null,
            "cpu_time_used": null,
            "deployment_id": "hidgiyyunigqazssnydm_68d27ef6-8413-4eb9-8105-2cfc2b1290c9_23",
            "event_type": "Log",
            "execution_id": "5a7b47e7-4eff-4ce3-8ee8-d6a655ccda3b",
            "function_id": "68d27ef6-8413-4eb9-8105-2cfc2b1290c9",
            "level": "info",
            "memory_used": [],
            "project_ref": "hidgiyyunigqazssnydm",
            "reason": null,
            "region": "us-east-1",
            "served_by": "supabase-edge-runtime-1.70.3 (compatible with Deno v2.1.4)",
            "timestamp": "2026-02-16T01:35:29.025Z",
            "version": "23"
          }
        ]
      },
      {
        "event_message": "[POOL UPGRADE] {\n  mealType: \"lunch\",\n  normalizedSlot: \"lunch\",\n  hadRecipeId: \"79826502-c77c-4ce0-a930-69fcd9e53e3a\",\n  replaced: true,\n  candidatesFromDb: 60,\n  candidatesStrict: 60,\n  candidatesLoose: 60,\n  afterExclude: 60,\n  beforeMealType: 52,\n  candidatesAfterMealType: 10,\n  afterMealType: 10,\n  blockedBySanityRules: [],\n  afterProfile: 10,\n  afterFiltersCount: 10,\n  pickedRecipeId: \"4cd92b88-f424-4e69-813f-fd09b9c7d998\",\n  rejectReason: undefined,\n  topReason: \"finalScore=-6\",\n  pickedMealTypeRaw: null,\n  pickedMealTypeNorm: \"lunch\",\n  pickedProteinKey: \"chicken\",\n  pickedBaseScore: 1,\n  pickedPenalty: -10,\n  pickedFinalScore: -9,\n  slotTypeNorm: \"lunch\",\n  usedTitleKeysCount: 20,\n  excludedTitleKeysHit: 8,\n  mealTypeRecoveredFromTitle: true,\n  recoveredCount: 5\n}\n",
        "metadata": [
          {
            "boot_time": null,
            "cpu_time_used": null,
            "deployment_id": "hidgiyyunigqazssnydm_68d27ef6-8413-4eb9-8105-2cfc2b1290c9_23",
            "event_type": "Log",
            "execution_id": "5a7b47e7-4eff-4ce3-8ee8-d6a655ccda3b",
            "function_id": "68d27ef6-8413-4eb9-8105-2cfc2b1290c9",
            "level": "info",
            "memory_used": [],
            "project_ref": "hidgiyyunigqazssnydm",
            "reason": null,
            "region": "us-east-1",
            "served_by": "supabase-edge-runtime-1.70.3 (compatible with Deno v2.1.4)",
            "timestamp": "2026-02-16T01:35:29.025Z",
            "version": "23"
          }
        ]
      },
      {
        "event_message": "[POOL UPGRADE] candidates snapshot {\n  top5: [\n    {\n      id: \"569f6b73-dc15-4f70-9849-137d0f474b6a\",\n      title: \"Йогурт с яблоком и орехами\",\n      meal_type: \"snack\",\n      proteinKey: \"dairy\",\n      baseScore: 6,\n      diversityPenalty: -25,\n      finalScore: -19\n    },\n    {\n      id: \"762c98ce-3a4c-4073-8d14-b671f2d1c400\",\n      title: \"Йогурт с персиком и орехами\",\n      meal_type: \"snack\",\n      proteinKey: \"dairy\",\n      baseScore: 6,\n      diversityPenalty: -25,\n      finalScore: -19\n    },\n    {\n      id: \"c99f1e99-d93e-40b4-8c88-9a25524a06e5\",\n      title: \"Йогурт с грушей и грецкими орехами\",\n      meal_type: \"snack\",\n      proteinKey: \"dairy\",\n      baseScore: 6,\n      diversityPenalty: -25,\n      finalScore: -19\n    },\n    {\n      id: \"469e4cb8-88a5-4f74-9010-4c0c9877f31a\",\n      title: \"Йогурт с грушей и грецкими орехами\",\n      meal_type: null,\n      proteinKey: \"dairy\",\n      baseScore: 6,\n      diversityPenalty: -25,\n      finalScore: -19\n    },\n    {\n      id: \"43a9dafa-a89e-452e-91ae-df00364b8346\",\n      title: \"Йогурт с ягодами и орехами\",\n      meal_type: null,\n      proteinKey: \"dairy\",\n      baseScore: 6,\n      diversityPenalty: -25,\n      finalScore: -19\n    }\n  ]\n}\n",
        "metadata": [
          {
            "boot_time": null,
            "cpu_time_used": null,
            "deployment_id": "hidgiyyunigqazssnydm_68d27ef6-8413-4eb9-8105-2cfc2b1290c9_23",
            "event_type": "Log",
            "execution_id": "5a7b47e7-4eff-4ce3-8ee8-d6a655ccda3b",
            "function_id": "68d27ef6-8413-4eb9-8105-2cfc2b1290c9",
            "level": "info",
            "memory_used": [],
            "project_ref": "hidgiyyunigqazssnydm",
            "reason": null,
            "region": "us-east-1",
            "served_by": "supabase-edge-runtime-1.70.3 (compatible with Deno v2.1.4)",
            "timestamp": "2026-02-16T01:35:29.437Z",
            "version": "23"
          }
        ]
      },
      {
        "event_message": "[POOL UPGRADE] {\n  mealType: \"snack\",\n  normalizedSlot: \"snack\",\n  hadRecipeId: \"b464ac6b-4937-4771-b695-c27776f38084\",\n  replaced: true,\n  candidatesFromDb: 60,\n  candidatesStrict: 60,\n  candidatesLoose: 60,\n  afterExclude: 60,\n  beforeMealType: 52,\n  candidatesAfterMealType: 14,\n  afterMealType: 14,\n  blockedBySanityRules: [ \"котлет\" ],\n  afterProfile: 13,\n  afterFiltersCount: 13,\n  pickedRecipeId: \"c99f1e99-d93e-40b4-8c88-9a25524a06e5\",\n  rejectReason: undefined,\n  topReason: \"finalScore=-19\",\n  pickedMealTypeRaw: \"snack\",\n  pickedMealTypeNorm: \"snack\",\n  pickedProteinKey: \"dairy\",\n  pickedBaseScore: 6,\n  pickedPenalty: -25,\n  pickedFinalScore: -19,\n  slotTypeNorm: \"snack\",\n  usedTitleKeysCount: 21,\n  excludedTitleKeysHit: 8,\n  mealTypeRecoveredFromTitle: true,\n  recoveredCount: 6\n}\n",
        "metadata": [
          {
            "boot_time": null,
            "cpu_time_used": null,
            "deployment_id": "hidgiyyunigqazssnydm_68d27ef6-8413-4eb9-8105-2cfc2b1290c9_23",
            "event_type": "Log",
            "execution_id": "5a7b47e7-4eff-4ce3-8ee8-d6a655ccda3b",
            "function_id": "68d27ef6-8413-4eb9-8105-2cfc2b1290c9",
            "level": "info",
            "memory_used": [],
            "project_ref": "hidgiyyunigqazssnydm",
            "reason": null,
            "region": "us-east-1",
            "served_by": "supabase-edge-runtime-1.70.3 (compatible with Deno v2.1.4)",
            "timestamp": "2026-02-16T01:35:29.437Z",
            "version": "23"
          }
        ]
      },
      {
        "event_message": "[POOL UPGRADE] {\n  mealType: \"dinner\",\n  normalizedSlot: \"dinner\",\n  hadRecipeId: \"c8dea1a5-d5d8-42c3-afca-0f182912b4a1\",\n  replaced: true,\n  candidatesFromDb: 60,\n  candidatesStrict: 60,\n  candidatesLoose: 60,\n  afterExclude: 60,\n  beforeMealType: 50,\n  candidatesAfterMealType: 14,\n  afterMealType: 14,\n  blockedBySanityRules: [ \"пюре\" ],\n  afterProfile: 13,\n  afterFiltersCount: 13,\n  pickedRecipeId: \"185ce171-ac78-49f7-9be6-3ef4c935f131\",\n  rejectReason: undefined,\n  topReason: \"finalScore=-16\",\n  pickedMealTypeRaw: \"dinner\",\n  pickedMealTypeNorm: \"dinner\",\n  pickedProteinKey: \"fish\",\n  pickedBaseScore: 4,\n  pickedPenalty: -20,\n  pickedFinalScore: -16,\n  slotTypeNorm: \"dinner\",\n  usedTitleKeysCount: 22,\n  excludedTitleKeysHit: 10,\n  mealTypeRecoveredFromTitle: true,\n  recoveredCount: 6\n}\n",
        "metadata": [
          {
            "boot_time": null,
            "cpu_time_used": null,
            "deployment_id": "hidgiyyunigqazssnydm_68d27ef6-8413-4eb9-8105-2cfc2b1290c9_23",
            "event_type": "Log",
            "execution_id": "5a7b47e7-4eff-4ce3-8ee8-d6a655ccda3b",
            "function_id": "68d27ef6-8413-4eb9-8105-2cfc2b1290c9",
            "level": "info",
            "memory_used": [],
            "project_ref": "hidgiyyunigqazssnydm",
            "reason": null,
            "region": "us-east-1",
            "served_by": "supabase-edge-runtime-1.70.3 (compatible with Deno v2.1.4)",
            "timestamp": "2026-02-16T01:35:29.850Z",
            "version": "23"
          }
        ]
      },
      {
        "event_message": "[POOL UPGRADE] candidates snapshot {\n  top5: [\n    {\n      id: \"9617e016-351c-43b3-9ebb-440000afa395\",\n      title: \"Запечённый минтай с цветной капустой и картофелем\",\n      meal_type: \"dinner\",\n      proteinKey: \"fish\",\n      baseScore: 4,\n      diversityPenalty: -20,\n      finalScore: -16\n    },\n    {\n      id: \"185ce171-ac78-49f7-9be6-3ef4c935f131\",\n      title: \"Запечённая треска с цукини и морковью\",\n      meal_type: \"dinner\",\n      proteinKey: \"fish\",\n      baseScore: 4,\n      diversityPenalty: -20,\n      finalScore: -16\n    },\n    {\n      id: \"62ceddc2-16e5-4bd0-8fae-9142dc4f2438\",\n      title: \"Запечённая курица с тыквой и брокколи\",\n      meal_type: \"dinner\",\n      proteinKey: \"chicken\",\n      baseScore: 4,\n      diversityPenalty: -25,\n      finalScore: -21\n    },\n    {\n      id: \"883f0215-cd98-4576-8766-f720e8e0db04\",\n      title: \"Запечённая индейка с кабачком и рисом\",\n      meal_type: \"dinner\",\n      proteinKey: \"chicken\",\n      baseScore: 4,\n      diversityPenalty: -25,\n      finalScore: -21\n    },\n    {\n      id: \"a1a3ac5e-1e73-48b3-88ff-6d778e445c34\",\n      title: \"Запечённая куриная грудка с цукини и рисом\",\n      meal_type: \"dinner\",\n      proteinKey: \"chicken\",\n      baseScore: 4,\n      diversityPenalty: -25,\n      finalScore: -21\n    }\n  ]\n}\n",
        "metadata": [
          {
            "boot_time": null,
            "cpu_time_used": null,
            "deployment_id": "hidgiyyunigqazssnydm_68d27ef6-8413-4eb9-8105-2cfc2b1290c9_23",
            "event_type": "Log",
            "execution_id": "5a7b47e7-4eff-4ce3-8ee8-d6a655ccda3b",
            "function_id": "68d27ef6-8413-4eb9-8105-2cfc2b1290c9",
            "level": "info",
            "memory_used": [],
            "project_ref": "hidgiyyunigqazssnydm",
            "reason": null,
            "region": "us-east-1",
            "served_by": "supabase-edge-runtime-1.70.3 (compatible with Deno v2.1.4)",
            "timestamp": "2026-02-16T01:35:29.850Z",
            "version": "23"
          }
        ]
      },
      {
        "event_message": "[POOL UPGRADE] {\n  mealType: \"breakfast\",\n  normalizedSlot: \"breakfast\",\n  hadRecipeId: undefined,\n  replaced: true,\n  candidatesFromDb: 60,\n  candidatesStrict: 60,\n  candidatesLoose: 60,\n  afterExclude: 60,\n  beforeMealType: 50,\n  candidatesAfterMealType: 13,\n  afterMealType: 13,\n  blockedBySanityRules: [],\n  afterProfile: 13,\n  afterFiltersCount: 13,\n  pickedRecipeId: \"5b48a32e-f149-4aab-8b78-ceffb1b43f1b\",\n  rejectReason: undefined,\n  topReason: \"finalScore=4\",\n  pickedMealTypeRaw: \"breakfast\",\n  pickedMealTypeNorm: \"breakfast\",\n  pickedProteinKey: \"egg\",\n  pickedBaseScore: 4,\n  pickedPenalty: 0,\n  pickedFinalScore: 4,\n  slotTypeNorm: \"breakfast\",\n  usedTitleKeysCount: 23,\n  excludedTitleKeysHit: 10,\n  mealTypeRecoveredFromTitle: true,\n  recoveredCount: 5\n}\n",
        "metadata": [
          {
            "boot_time": null,
            "cpu_time_used": null,
            "deployment_id": "hidgiyyunigqazssnydm_68d27ef6-8413-4eb9-8105-2cfc2b1290c9_23",
            "event_type": "Log",
            "execution_id": "5a7b47e7-4eff-4ce3-8ee8-d6a655ccda3b",
            "function_id": "68d27ef6-8413-4eb9-8105-2cfc2b1290c9",
            "level": "info",
            "memory_used": [],
            "project_ref": "hidgiyyunigqazssnydm",
            "reason": null,
            "region": "us-east-1",
            "served_by": "supabase-edge-runtime-1.70.3 (compatible with Deno v2.1.4)",
            "timestamp": "2026-02-16T01:35:30.507Z",
            "version": "23"
          }
        ]
      },
      {
        "event_message": "[POOL UPGRADE] candidates snapshot {\n  top5: [\n    {\n      id: \"5b48a32e-f149-4aab-8b78-ceffb1b43f1b\",\n      title: \"Омлет с помидорами и зеленью\",\n      meal_type: \"breakfast\",\n      proteinKey: \"egg\",\n      baseScore: 4,\n      diversityPenalty: 0,\n      finalScore: 4\n    },\n    {\n      id: \"178e9ad9-1d02-46bb-bdb0-84fe0d9cc2ae\",\n      title: \"Творожные кексы с грушей\",\n      meal_type: \"breakfast\",\n      proteinKey: \"dairy\",\n      baseScore: 4,\n      diversityPenalty: -20,\n      finalScore: -16\n    },\n    {\n      id: \"4bce887f-6d0b-4d3e-a2c7-ca5cf217ee29\",\n      title: \"Творожные панкейки с бананом\",\n      meal_type: \"breakfast\",\n      proteinKey: \"dairy\",\n      baseScore: 4,\n      diversityPenalty: -20,\n      finalScore: -16\n    },\n    {\n      id: \"901c0766-2bc3-4f79-8959-891fcdcf6287\",\n      title: \"Творожная запеканка с яблоком и изюмом\",\n      meal_type: \"breakfast\",\n      proteinKey: \"dairy\",\n      baseScore: 4,\n      diversityPenalty: -20,\n      finalScore: -16\n    },\n    {\n      id: \"e067be83-1e1e-4ed7-8b68-24cf766a87d8\",\n      title: \"Омлет с брокколи и сыром\",\n      meal_type: \"breakfast\",\n      proteinKey: \"dairy\",\n      baseScore: 4,\n      diversityPenalty: -20,\n      finalScore: -16\n    }\n  ]\n}\n",
        "metadata": [
          {
            "boot_time": null,
            "cpu_time_used": null,
            "deployment_id": "hidgiyyunigqazssnydm_68d27ef6-8413-4eb9-8105-2cfc2b1290c9_23",
            "event_type": "Log",
            "execution_id": "5a7b47e7-4eff-4ce3-8ee8-d6a655ccda3b",
            "function_id": "68d27ef6-8413-4eb9-8105-2cfc2b1290c9",
            "level": "info",
            "memory_used": [],
            "project_ref": "hidgiyyunigqazssnydm",
            "reason": null,
            "region": "us-east-1",
            "served_by": "supabase-edge-runtime-1.70.3 (compatible with Deno v2.1.4)",
            "timestamp": "2026-02-16T01:35:30.507Z",
            "version": "23"
          }
        ]
      },
      {
        "event_message": "[POOL UPGRADE] candidates snapshot {\n  top5: [\n    {\n      id: \"5cd4612c-7c3e-4649-b113-1ace2105f195\",\n      title: \"Тыквенный суп-пюре с нутом\",\n      meal_type: null,\n      proteinKey: \"legumes\",\n      baseScore: 1,\n      diversityPenalty: 0,\n      finalScore: 1\n    },\n    {\n      id: \"fdda177f-77db-4247-8ea3-28e898e76264\",\n      title: \"Суп-пюре из брокколи с картофелем и морковью\",\n      meal_type: null,\n      proteinKey: \"veg\",\n      baseScore: 1,\n      diversityPenalty: -15,\n      finalScore: -14\n    },\n    {\n      id: \"80cb76d3-9890-4c22-b516-bba41646d63d\",\n      title: \"Тефтели из индейки с гречкой и тушеными овощами\",\n      meal_type: \"lunch\",\n      proteinKey: \"chicken\",\n      baseScore: 4,\n      diversityPenalty: -25,\n      finalScore: -21\n    },\n    {\n      id: \"647619e6-6004-4b6c-a0f9-2b8a4ab8637e\",\n      title: \"Куриный суп с овощами и вермишелью\",\n      meal_type: null,\n      proteinKey: \"chicken\",\n      baseScore: 4,\n      diversityPenalty: -25,\n      finalScore: -21\n    },\n    {\n      id: \"a19c48df-42a5-4ca7-9101-45e2aa1ac6ff\",\n      title: \"Суп-пюре из кабачка и картофеля с индейкой\",\n      meal_type: \"lunch\",\n      proteinKey: \"chicken\",\n      baseScore: 1,\n      diversityPenalty: -25,\n      finalScore: -24\n    }\n  ]\n}\n",
        "metadata": [
          {
            "boot_time": null,
            "cpu_time_used": null,
            "deployment_id": "hidgiyyunigqazssnydm_68d27ef6-8413-4eb9-8105-2cfc2b1290c9_23",
            "event_type": "Log",
            "execution_id": "5a7b47e7-4eff-4ce3-8ee8-d6a655ccda3b",
            "function_id": "68d27ef6-8413-4eb9-8105-2cfc2b1290c9",
            "level": "info",
            "memory_used": [],
            "project_ref": "hidgiyyunigqazssnydm",
            "reason": null,
            "region": "us-east-1",
            "served_by": "supabase-edge-runtime-1.70.3 (compatible with Deno v2.1.4)",
            "timestamp": "2026-02-16T01:35:30.903Z",
            "version": "23"
          }
        ]
      },
      {
        "event_message": "[POOL UPGRADE] {\n  mealType: \"lunch\",\n  normalizedSlot: \"lunch\",\n  hadRecipeId: \"afe61890-8771-41b7-810e-a6f2c31ad696\",\n  replaced: true,\n  candidatesFromDb: 60,\n  candidatesStrict: 60,\n  candidatesLoose: 60,\n  afterExclude: 60,\n  beforeMealType: 50,\n  candidatesAfterMealType: 10,\n  afterMealType: 10,\n  blockedBySanityRules: [],\n  afterProfile: 10,\n  afterFiltersCount: 10,\n  pickedRecipeId: \"647619e6-6004-4b6c-a0f9-2b8a4ab8637e\",\n  rejectReason: undefined,\n  topReason: \"finalScore=1\",\n  pickedMealTypeRaw: null,\n  pickedMealTypeNorm: \"lunch\",\n  pickedProteinKey: \"chicken\",\n  pickedBaseScore: 4,\n  pickedPenalty: -25,\n  pickedFinalScore: -21,\n  slotTypeNorm: \"lunch\",\n  usedTitleKeysCount: 24,\n  excludedTitleKeysHit: 10,\n  mealTypeRecoveredFromTitle: true,\n  recoveredCount: 5\n}\n",
        "metadata": [
          {
            "boot_time": null,
            "cpu_time_used": null,
            "deployment_id": "hidgiyyunigqazssnydm_68d27ef6-8413-4eb9-8105-2cfc2b1290c9_23",
            "event_type": "Log",
            "execution_id": "5a7b47e7-4eff-4ce3-8ee8-d6a655ccda3b",
            "function_id": "68d27ef6-8413-4eb9-8105-2cfc2b1290c9",
            "level": "info",
            "memory_used": [],
            "project_ref": "hidgiyyunigqazssnydm",
            "reason": null,
            "region": "us-east-1",
            "served_by": "supabase-edge-runtime-1.70.3 (compatible with Deno v2.1.4)",
            "timestamp": "2026-02-16T01:35:30.903Z",
            "version": "23"
          }
        ]
      },
      {
        "event_message": "[POOL UPGRADE] {\n  mealType: \"snack\",\n  normalizedSlot: \"snack\",\n  hadRecipeId: undefined,\n  replaced: true,\n  candidatesFromDb: 60,\n  candidatesStrict: 60,\n  candidatesLoose: 60,\n  afterExclude: 60,\n  beforeMealType: 49,\n  candidatesAfterMealType: 14,\n  afterMealType: 14,\n  blockedBySanityRules: [ \"котлет\" ],\n  afterProfile: 11,\n  afterFiltersCount: 11,\n  pickedRecipeId: \"e0a6c7fe-e0a7-4719-b01f-11655db601cd\",\n  rejectReason: undefined,\n  topReason: \"finalScore=-24\",\n  pickedMealTypeRaw: \"snack\",\n  pickedMealTypeNorm: \"snack\",\n  pickedProteinKey: \"dairy\",\n  pickedBaseScore: 4,\n  pickedPenalty: -30,\n  pickedFinalScore: -26,\n  slotTypeNorm: \"snack\",\n  usedTitleKeysCount: 25,\n  excludedTitleKeysHit: 11,\n  mealTypeRecoveredFromTitle: true,\n  recoveredCount: 7\n}\n",
        "metadata": [
          {
            "boot_time": null,
            "cpu_time_used": null,
            "deployment_id": "hidgiyyunigqazssnydm_68d27ef6-8413-4eb9-8105-2cfc2b1290c9_23",
            "event_type": "Log",
            "execution_id": "5a7b47e7-4eff-4ce3-8ee8-d6a655ccda3b",
            "function_id": "68d27ef6-8413-4eb9-8105-2cfc2b1290c9",
            "level": "info",
            "memory_used": [],
            "project_ref": "hidgiyyunigqazssnydm",
            "reason": null,
            "region": "us-east-1",
            "served_by": "supabase-edge-runtime-1.70.3 (compatible with Deno v2.1.4)",
            "timestamp": "2026-02-16T01:35:31.195Z",
            "version": "23"
          }
        ]
      },
      {
        "event_message": "[POOL UPGRADE] candidates snapshot {\n  top5: [\n    {\n      id: \"569f6b73-dc15-4f70-9849-137d0f474b6a\",\n      title: \"Йогурт с яблоком и орехами\",\n      meal_type: \"snack\",\n      proteinKey: \"dairy\",\n      baseScore: 6,\n      diversityPenalty: -30,\n      finalScore: -24\n    },\n    {\n      id: \"762c98ce-3a4c-4073-8d14-b671f2d1c400\",\n      title: \"Йогурт с персиком и орехами\",\n      meal_type: \"snack\",\n      proteinKey: \"dairy\",\n      baseScore: 6,\n      diversityPenalty: -30,\n      finalScore: -24\n    },\n    {\n      id: \"43a9dafa-a89e-452e-91ae-df00364b8346\",\n      title: \"Йогурт с ягодами и орехами\",\n      meal_type: null,\n      proteinKey: \"dairy\",\n      baseScore: 6,\n      diversityPenalty: -30,\n      finalScore: -24\n    },\n    {\n      id: \"d297e6ff-ff83-4913-bec6-50a2c08c0af4\",\n      title: \"Йогурт с яблоком и печеньем\",\n      meal_type: null,\n      proteinKey: \"dairy\",\n      baseScore: 6,\n      diversityPenalty: -30,\n      finalScore: -24\n    },\n    {\n      id: \"5a1472ac-6b36-416d-acbd-d48b39677759\",\n      title: \"Творог с грушей и печеньем\",\n      meal_type: null,\n      proteinKey: \"dairy\",\n      baseScore: 6,\n      diversityPenalty: -30,\n      finalScore: -24\n    }\n  ]\n}\n",
        "metadata": [
          {
            "boot_time": null,
            "cpu_time_used": null,
            "deployment_id": "hidgiyyunigqazssnydm_68d27ef6-8413-4eb9-8105-2cfc2b1290c9_23",
            "event_type": "Log",
            "execution_id": "5a7b47e7-4eff-4ce3-8ee8-d6a655ccda3b",
            "function_id": "68d27ef6-8413-4eb9-8105-2cfc2b1290c9",
            "level": "info",
            "memory_used": [],
            "project_ref": "hidgiyyunigqazssnydm",
            "reason": null,
            "region": "us-east-1",
            "served_by": "supabase-edge-runtime-1.70.3 (compatible with Deno v2.1.4)",
            "timestamp": "2026-02-16T01:35:31.195Z",
            "version": "23"
          }
        ]
      },
      {
        "event_message": "[POOL UPGRADE] {\n  mealType: \"dinner\",\n  normalizedSlot: \"dinner\",\n  hadRecipeId: \"49f02b9d-fe5e-4699-82fb-7f556b2bb49e\",\n  replaced: true,\n  candidatesFromDb: 60,\n  candidatesStrict: 60,\n  candidatesLoose: 60,\n  afterExclude: 60,\n  beforeMealType: 48,\n  candidatesAfterMealType: 13,\n  afterMealType: 13,\n  blockedBySanityRules: [ \"пюре\" ],\n  afterProfile: 12,\n  afterFiltersCount: 12,\n  pickedRecipeId: \"883f0215-cd98-4576-8766-f720e8e0db04\",\n  rejectReason: undefined,\n  topReason: \"finalScore=-16\",\n  pickedMealTypeRaw: \"dinner\",\n  pickedMealTypeNorm: \"dinner\",\n  pickedProteinKey: \"chicken\",\n  pickedBaseScore: 4,\n  pickedPenalty: -25,\n  pickedFinalScore: -21,\n  slotTypeNorm: \"dinner\",\n  usedTitleKeysCount: 26,\n  excludedTitleKeysHit: 12,\n  mealTypeRecoveredFromTitle: true,\n  recoveredCount: 6\n}\n",
        "metadata": [
          {
            "boot_time": null,
            "cpu_time_used": null,
            "deployment_id": "hidgiyyunigqazssnydm_68d27ef6-8413-4eb9-8105-2cfc2b1290c9_23",
            "event_type": "Log",
            "execution_id": "5a7b47e7-4eff-4ce3-8ee8-d6a655ccda3b",
            "function_id": "68d27ef6-8413-4eb9-8105-2cfc2b1290c9",
            "level": "info",
            "memory_used": [],
            "project_ref": "hidgiyyunigqazssnydm",
            "reason": null,
            "region": "us-east-1",
            "served_by": "supabase-edge-runtime-1.70.3 (compatible with Deno v2.1.4)",
            "timestamp": "2026-02-16T01:35:31.511Z",
            "version": "23"
          }
        ]
      },
      {
        "event_message": "[POOL UPGRADE] candidates snapshot {\n  top5: [\n    {\n      id: \"9617e016-351c-43b3-9ebb-440000afa395\",\n      title: \"Запечённый минтай с цветной капустой и картофелем\",\n      meal_type: \"dinner\",\n      proteinKey: \"fish\",\n      baseScore: 4,\n      diversityPenalty: -20,\n      finalScore: -16\n    },\n    {\n      id: \"bf9707f7-d827-4e3f-b841-0aaf827333f8\",\n      title: \"Запечённая баранина с овощами\",\n      meal_type: \"dinner\",\n      proteinKey: \"dairy\",\n      baseScore: 2,\n      diversityPenalty: -20,\n      finalScore: -18\n    },\n    {\n      id: \"85f3e1ca-16bc-402b-9b4e-633a271d7c78\",\n      title: \"Запечённая баранина с овощами\",\n      meal_type: \"dinner\",\n      proteinKey: \"dairy\",\n      baseScore: 2,\n      diversityPenalty: -20,\n      finalScore: -18\n    },\n    {\n      id: \"82e23112-4426-4b93-b5db-5f929b5fba5b\",\n      title: \"Запечённая баранина с овощами\",\n      meal_type: null,\n      proteinKey: \"dairy\",\n      baseScore: 2,\n      diversityPenalty: -20,\n      finalScore: -18\n    },\n    {\n      id: \"62ceddc2-16e5-4bd0-8fae-9142dc4f2438\",\n      title: \"Запечённая курица с тыквой и брокколи\",\n      meal_type: \"dinner\",\n      proteinKey: \"chicken\",\n      baseScore: 4,\n      diversityPenalty: -25,\n      finalScore: -21\n    }\n  ]\n}\n",
        "metadata": [
          {
            "boot_time": null,
            "cpu_time_used": null,
            "deployment_id": "hidgiyyunigqazssnydm_68d27ef6-8413-4eb9-8105-2cfc2b1290c9_23",
            "event_type": "Log",
            "execution_id": "5a7b47e7-4eff-4ce3-8ee8-d6a655ccda3b",
            "function_id": "68d27ef6-8413-4eb9-8105-2cfc2b1290c9",
            "level": "info",
            "memory_used": [],
            "project_ref": "hidgiyyunigqazssnydm",
            "reason": null,
            "region": "us-east-1",
            "served_by": "supabase-edge-runtime-1.70.3 (compatible with Deno v2.1.4)",
            "timestamp": "2026-02-16T01:35:31.511Z",
            "version": "23"
          }
        ]
      },
      {
        "event_message": "[POOL UPGRADE] candidates snapshot {\n  top5: [\n    {\n      id: \"178e9ad9-1d02-46bb-bdb0-84fe0d9cc2ae\",\n      title: \"Творожные кексы с грушей\",\n      meal_type: \"breakfast\",\n      proteinKey: \"dairy\",\n      baseScore: 4,\n      diversityPenalty: -20,\n      finalScore: -16\n    },\n    {\n      id: \"4bce887f-6d0b-4d3e-a2c7-ca5cf217ee29\",\n      title: \"Творожные панкейки с бананом\",\n      meal_type: \"breakfast\",\n      proteinKey: \"dairy\",\n      baseScore: 4,\n      diversityPenalty: -20,\n      finalScore: -16\n    },\n    {\n      id: \"901c0766-2bc3-4f79-8959-891fcdcf6287\",\n      title: \"Творожная запеканка с яблоком и изюмом\",\n      meal_type: \"breakfast\",\n      proteinKey: \"dairy\",\n      baseScore: 4,\n      diversityPenalty: -20,\n      finalScore: -16\n    },\n    {\n      id: \"e067be83-1e1e-4ed7-8b68-24cf766a87d8\",\n      title: \"Омлет с брокколи и сыром\",\n      meal_type: \"breakfast\",\n      proteinKey: \"dairy\",\n      baseScore: 4,\n      diversityPenalty: -20,\n      finalScore: -16\n    },\n    {\n      id: \"9aae1320-b3b4-4790-bbef-e37b158ef166\",\n      title: \"Творожные сырники с яблоком\",\n      meal_type: \"breakfast\",\n      proteinKey: \"dairy\",\n      baseScore: 4,\n      diversityPenalty: -20,\n      finalScore: -16\n    }\n  ]\n}\n",
        "metadata": [
          {
            "boot_time": null,
            "cpu_time_used": null,
            "deployment_id": "hidgiyyunigqazssnydm_68d27ef6-8413-4eb9-8105-2cfc2b1290c9_23",
            "event_type": "Log",
            "execution_id": "5a7b47e7-4eff-4ce3-8ee8-d6a655ccda3b",
            "function_id": "68d27ef6-8413-4eb9-8105-2cfc2b1290c9",
            "level": "info",
            "memory_used": [],
            "project_ref": "hidgiyyunigqazssnydm",
            "reason": null,
            "region": "us-east-1",
            "served_by": "supabase-edge-runtime-1.70.3 (compatible with Deno v2.1.4)",
            "timestamp": "2026-02-16T01:35:32.074Z",
            "version": "23"
          }
        ]
      },
      {
        "event_message": "[POOL UPGRADE] {\n  mealType: \"breakfast\",\n  normalizedSlot: \"breakfast\",\n  hadRecipeId: undefined,\n  replaced: true,\n  candidatesFromDb: 60,\n  candidatesStrict: 60,\n  candidatesLoose: 60,\n  afterExclude: 60,\n  beforeMealType: 48,\n  candidatesAfterMealType: 12,\n  afterMealType: 12,\n  blockedBySanityRules: [],\n  afterProfile: 12,\n  afterFiltersCount: 12,\n  pickedRecipeId: \"901c0766-2bc3-4f79-8959-891fcdcf6287\",\n  rejectReason: undefined,\n  topReason: \"finalScore=-16\",\n  pickedMealTypeRaw: \"breakfast\",\n  pickedMealTypeNorm: \"breakfast\",\n  pickedProteinKey: \"dairy\",\n  pickedBaseScore: 4,\n  pickedPenalty: -20,\n  pickedFinalScore: -16,\n  slotTypeNorm: \"breakfast\",\n  usedTitleKeysCount: 27,\n  excludedTitleKeysHit: 12,\n  mealTypeRecoveredFromTitle: true,\n  recoveredCount: 5\n}\n",
        "metadata": [
          {
            "boot_time": null,
            "cpu_time_used": null,
            "deployment_id": "hidgiyyunigqazssnydm_68d27ef6-8413-4eb9-8105-2cfc2b1290c9_23",
            "event_type": "Log",
            "execution_id": "5a7b47e7-4eff-4ce3-8ee8-d6a655ccda3b",
            "function_id": "68d27ef6-8413-4eb9-8105-2cfc2b1290c9",
            "level": "info",
            "memory_used": [],
            "project_ref": "hidgiyyunigqazssnydm",
            "reason": null,
            "region": "us-east-1",
            "served_by": "supabase-edge-runtime-1.70.3 (compatible with Deno v2.1.4)",
            "timestamp": "2026-02-16T01:35:32.074Z",
            "version": "23"
          }
        ]
      },
      {
        "event_message": "[POOL UPGRADE] candidates snapshot {\n  top5: [\n    {\n      id: \"5cd4612c-7c3e-4649-b113-1ace2105f195\",\n      title: \"Тыквенный суп-пюре с нутом\",\n      meal_type: null,\n      proteinKey: \"legumes\",\n      baseScore: 1,\n      diversityPenalty: 0,\n      finalScore: 1\n    },\n    {\n      id: \"fdda177f-77db-4247-8ea3-28e898e76264\",\n      title: \"Суп-пюре из брокколи с картофелем и морковью\",\n      meal_type: null,\n      proteinKey: \"veg\",\n      baseScore: 1,\n      diversityPenalty: -15,\n      finalScore: -14\n    },\n    {\n      id: \"80cb76d3-9890-4c22-b516-bba41646d63d\",\n      title: \"Тефтели из индейки с гречкой и тушеными овощами\",\n      meal_type: \"lunch\",\n      proteinKey: \"chicken\",\n      baseScore: 4,\n      diversityPenalty: -25,\n      finalScore: -21\n    },\n    {\n      id: \"a19c48df-42a5-4ca7-9101-45e2aa1ac6ff\",\n      title: \"Суп-пюре из кабачка и картофеля с индейкой\",\n      meal_type: \"lunch\",\n      proteinKey: \"chicken\",\n      baseScore: 1,\n      diversityPenalty: -25,\n      finalScore: -24\n    },\n    {\n      id: \"13cb8e31-b4b1-43d0-8f6b-df932eb6d6a3\",\n      title: \"Суп-пюре из моркови и картофеля с индейкой\",\n      meal_type: \"lunch\",\n      proteinKey: \"chicken\",\n      baseScore: 1,\n      diversityPenalty: -25,\n      finalScore: -24\n    }\n  ]\n}\n",
        "metadata": [
          {
            "boot_time": null,
            "cpu_time_used": null,
            "deployment_id": "hidgiyyunigqazssnydm_68d27ef6-8413-4eb9-8105-2cfc2b1290c9_23",
            "event_type": "Log",
            "execution_id": "5a7b47e7-4eff-4ce3-8ee8-d6a655ccda3b",
            "function_id": "68d27ef6-8413-4eb9-8105-2cfc2b1290c9",
            "level": "info",
            "memory_used": [],
            "project_ref": "hidgiyyunigqazssnydm",
            "reason": null,
            "region": "us-east-1",
            "served_by": "supabase-edge-runtime-1.70.3 (compatible with Deno v2.1.4)",
            "timestamp": "2026-02-16T01:35:32.376Z",
            "version": "23"
          }
        ]
      },
      {
        "event_message": "[POOL UPGRADE] {\n  mealType: \"lunch\",\n  normalizedSlot: \"lunch\",\n  hadRecipeId: \"54600cc9-b5e5-477a-bdfb-6b42bfc7649d\",\n  replaced: true,\n  candidatesFromDb: 60,\n  candidatesStrict: 60,\n  candidatesLoose: 60,\n  afterExclude: 60,\n  beforeMealType: 45,\n  candidatesAfterMealType: 9,\n  afterMealType: 9,\n  blockedBySanityRules: [],\n  afterProfile: 9,\n  afterFiltersCount: 9,\n  pickedRecipeId: \"a19c48df-42a5-4ca7-9101-45e2aa1ac6ff\",\n  rejectReason: undefined,\n  topReason: \"finalScore=1\",\n  pickedMealTypeRaw: \"lunch\",\n  pickedMealTypeNorm: \"lunch\",\n  pickedProteinKey: \"chicken\",\n  pickedBaseScore: 1,\n  pickedPenalty: -25,\n  pickedFinalScore: -24,\n  slotTypeNorm: \"lunch\",\n  usedTitleKeysCount: 28,\n  excludedTitleKeysHit: 15,\n  mealTypeRecoveredFromTitle: true,\n  recoveredCount: 4\n}\n",
        "metadata": [
          {
            "boot_time": null,
            "cpu_time_used": null,
            "deployment_id": "hidgiyyunigqazssnydm_68d27ef6-8413-4eb9-8105-2cfc2b1290c9_23",
            "event_type": "Log",
            "execution_id": "5a7b47e7-4eff-4ce3-8ee8-d6a655ccda3b",
            "function_id": "68d27ef6-8413-4eb9-8105-2cfc2b1290c9",
            "level": "info",
            "memory_used": [],
            "project_ref": "hidgiyyunigqazssnydm",
            "reason": null,
            "region": "us-east-1",
            "served_by": "supabase-edge-runtime-1.70.3 (compatible with Deno v2.1.4)",
            "timestamp": "2026-02-16T01:35:32.376Z",
            "version": "23"
          }
        ]
      },
      {
        "event_message": "[POOL UPGRADE] candidates snapshot {\n  top5: [\n    {\n      id: \"569f6b73-dc15-4f70-9849-137d0f474b6a\",\n      title: \"Йогурт с яблоком и орехами\",\n      meal_type: \"snack\",\n      proteinKey: \"dairy\",\n      baseScore: 6,\n      diversityPenalty: -30,\n      finalScore: -24\n    },\n    {\n      id: \"762c98ce-3a4c-4073-8d14-b671f2d1c400\",\n      title: \"Йогурт с персиком и орехами\",\n      meal_type: \"snack\",\n      proteinKey: \"dairy\",\n      baseScore: 6,\n      diversityPenalty: -30,\n      finalScore: -24\n    },\n    {\n      id: \"43a9dafa-a89e-452e-91ae-df00364b8346\",\n      title: \"Йогурт с ягодами и орехами\",\n      meal_type: null,\n      proteinKey: \"dairy\",\n      baseScore: 6,\n      diversityPenalty: -30,\n      finalScore: -24\n    },\n    {\n      id: \"d297e6ff-ff83-4913-bec6-50a2c08c0af4\",\n      title: \"Йогурт с яблоком и печеньем\",\n      meal_type: null,\n      proteinKey: \"dairy\",\n      baseScore: 6,\n      diversityPenalty: -30,\n      finalScore: -24\n    },\n    {\n      id: \"5a1472ac-6b36-416d-acbd-d48b39677759\",\n      title: \"Творог с грушей и печеньем\",\n      meal_type: null,\n      proteinKey: \"dairy\",\n      baseScore: 6,\n      diversityPenalty: -30,\n      finalScore: -24\n    }\n  ]\n}\n",
        "metadata": [
          {
            "boot_time": null,
            "cpu_time_used": null,
            "deployment_id": "hidgiyyunigqazssnydm_68d27ef6-8413-4eb9-8105-2cfc2b1290c9_23",
            "event_type": "Log",
            "execution_id": "5a7b47e7-4eff-4ce3-8ee8-d6a655ccda3b",
            "function_id": "68d27ef6-8413-4eb9-8105-2cfc2b1290c9",
            "level": "info",
            "memory_used": [],
            "project_ref": "hidgiyyunigqazssnydm",
            "reason": null,
            "region": "us-east-1",
            "served_by": "supabase-edge-runtime-1.70.3 (compatible with Deno v2.1.4)",
            "timestamp": "2026-02-16T01:35:32.679Z",
            "version": "23"
          }
        ]
      },
      {
        "event_message": "[POOL UPGRADE] {\n  mealType: \"snack\",\n  normalizedSlot: \"snack\",\n  hadRecipeId: undefined,\n  replaced: true,\n  candidatesFromDb: 60,\n  candidatesStrict: 60,\n  candidatesLoose: 60,\n  afterExclude: 60,\n  beforeMealType: 44,\n  candidatesAfterMealType: 14,\n  afterMealType: 14,\n  blockedBySanityRules: [ \"котлет\", \"фарш\" ],\n  afterProfile: 10,\n  afterFiltersCount: 10,\n  pickedRecipeId: \"fdeb2769-9f67-4737-91f2-efa48ad411b8\",\n  rejectReason: undefined,\n  topReason: \"finalScore=-24\",\n  pickedMealTypeRaw: \"snack\",\n  pickedMealTypeNorm: \"snack\",\n  pickedProteinKey: \"dairy\",\n  pickedBaseScore: 4,\n  pickedPenalty: -30,\n  pickedFinalScore: -26,\n  slotTypeNorm: \"snack\",\n  usedTitleKeysCount: 29,\n  excludedTitleKeysHit: 16,\n  mealTypeRecoveredFromTitle: true,\n  recoveredCount: 8\n}\n",
        "metadata": [
          {
            "boot_time": null,
            "cpu_time_used": null,
            "deployment_id": "hidgiyyunigqazssnydm_68d27ef6-8413-4eb9-8105-2cfc2b1290c9_23",
            "event_type": "Log",
            "execution_id": "5a7b47e7-4eff-4ce3-8ee8-d6a655ccda3b",
            "function_id": "68d27ef6-8413-4eb9-8105-2cfc2b1290c9",
            "level": "info",
            "memory_used": [],
            "project_ref": "hidgiyyunigqazssnydm",
            "reason": null,
            "region": "us-east-1",
            "served_by": "supabase-edge-runtime-1.70.3 (compatible with Deno v2.1.4)",
            "timestamp": "2026-02-16T01:35:32.679Z",
            "version": "23"
          }
        ]
      },
      {
        "event_message": "[POOL UPGRADE] {\n  mealType: \"dinner\",\n  normalizedSlot: \"dinner\",\n  hadRecipeId: \"fb7d7710-2ba7-43be-b03a-6cf0efb169c7\",\n  replaced: true,\n  candidatesFromDb: 60,\n  candidatesStrict: 60,\n  candidatesLoose: 60,\n  afterExclude: 60,\n  beforeMealType: 44,\n  candidatesAfterMealType: 12,\n  afterMealType: 12,\n  blockedBySanityRules: [ \"пюре\" ],\n  afterProfile: 11,\n  afterFiltersCount: 11,\n  pickedRecipeId: \"a1a3ac5e-1e73-48b3-88ff-6d778e445c34\",\n  rejectReason: undefined,\n  topReason: \"finalScore=-16\",\n  pickedMealTypeRaw: \"dinner\",\n  pickedMealTypeNorm: \"dinner\",\n  pickedProteinKey: \"chicken\",\n  pickedBaseScore: 4,\n  pickedPenalty: -25,\n  pickedFinalScore: -21,\n  slotTypeNorm: \"dinner\",\n  usedTitleKeysCount: 30,\n  excludedTitleKeysHit: 16,\n  mealTypeRecoveredFromTitle: true,\n  recoveredCount: 6\n}\n",
        "metadata": [
          {
            "boot_time": null,
            "cpu_time_used": null,
            "deployment_id": "hidgiyyunigqazssnydm_68d27ef6-8413-4eb9-8105-2cfc2b1290c9_23",
            "event_type": "Log",
            "execution_id": "5a7b47e7-4eff-4ce3-8ee8-d6a655ccda3b",
            "function_id": "68d27ef6-8413-4eb9-8105-2cfc2b1290c9",
            "level": "info",
            "memory_used": [],
            "project_ref": "hidgiyyunigqazssnydm",
            "reason": null,
            "region": "us-east-1",
            "served_by": "supabase-edge-runtime-1.70.3 (compatible with Deno v2.1.4)",
            "timestamp": "2026-02-16T01:35:32.972Z",
            "version": "23"
          }
        ]
      },
      {
        "event_message": "[POOL UPGRADE] candidates snapshot {\n  top5: [\n    {\n      id: \"9617e016-351c-43b3-9ebb-440000afa395\",\n      title: \"Запечённый минтай с цветной капустой и картофелем\",\n      meal_type: \"dinner\",\n      proteinKey: \"fish\",\n      baseScore: 4,\n      diversityPenalty: -20,\n      finalScore: -16\n    },\n    {\n      id: \"bf9707f7-d827-4e3f-b841-0aaf827333f8\",\n      title: \"Запечённая баранина с овощами\",\n      meal_type: \"dinner\",\n      proteinKey: \"dairy\",\n      baseScore: 2,\n      diversityPenalty: -20,\n      finalScore: -18\n    },\n    {\n      id: \"85f3e1ca-16bc-402b-9b4e-633a271d7c78\",\n      title: \"Запечённая баранина с овощами\",\n      meal_type: \"dinner\",\n      proteinKey: \"dairy\",\n      baseScore: 2,\n      diversityPenalty: -20,\n      finalScore: -18\n    },\n    {\n      id: \"82e23112-4426-4b93-b5db-5f929b5fba5b\",\n      title: \"Запечённая баранина с овощами\",\n      meal_type: null,\n      proteinKey: \"dairy\",\n      baseScore: 2,\n      diversityPenalty: -20,\n      finalScore: -18\n    },\n    {\n      id: \"62ceddc2-16e5-4bd0-8fae-9142dc4f2438\",\n      title: \"Запечённая курица с тыквой и брокколи\",\n      meal_type: \"dinner\",\n      proteinKey: \"chicken\",\n      baseScore: 4,\n      diversityPenalty: -25,\n      finalScore: -21\n    }\n  ]\n}\n",
        "metadata": [
          {
            "boot_time": null,
            "cpu_time_used": null,
            "deployment_id": "hidgiyyunigqazssnydm_68d27ef6-8413-4eb9-8105-2cfc2b1290c9_23",
            "event_type": "Log",
            "execution_id": "5a7b47e7-4eff-4ce3-8ee8-d6a655ccda3b",
            "function_id": "68d27ef6-8413-4eb9-8105-2cfc2b1290c9",
            "level": "info",
            "memory_used": [],
            "project_ref": "hidgiyyunigqazssnydm",
            "reason": null,
            "region": "us-east-1",
            "served_by": "supabase-edge-runtime-1.70.3 (compatible with Deno v2.1.4)",
            "timestamp": "2026-02-16T01:35:32.972Z",
            "version": "23"
          }
        ]
      },
      {
        "event_message": "[POOL UPGRADE] {\n  mealType: \"breakfast\",\n  normalizedSlot: \"breakfast\",\n  hadRecipeId: undefined,\n  replaced: true,\n  candidatesFromDb: 60,\n  candidatesStrict: 60,\n  candidatesLoose: 60,\n  afterExclude: 60,\n  beforeMealType: 43,\n  candidatesAfterMealType: 10,\n  afterMealType: 10,\n  blockedBySanityRules: [],\n  afterProfile: 10,\n  afterFiltersCount: 10,\n  pickedRecipeId: \"909f316d-88c9-4de5-9abf-1c590d8a9339\",\n  rejectReason: undefined,\n  topReason: \"finalScore=-16\",\n  pickedMealTypeRaw: \"breakfast\",\n  pickedMealTypeNorm: \"breakfast\",\n  pickedProteinKey: \"chicken\",\n  pickedBaseScore: 1,\n  pickedPenalty: -25,\n  pickedFinalScore: -24,\n  slotTypeNorm: \"breakfast\",\n  usedTitleKeysCount: 31,\n  excludedTitleKeysHit: 17,\n  mealTypeRecoveredFromTitle: true,\n  recoveredCount: 5\n}\n",
        "metadata": [
          {
            "boot_time": null,
            "cpu_time_used": null,
            "deployment_id": "hidgiyyunigqazssnydm_68d27ef6-8413-4eb9-8105-2cfc2b1290c9_23",
            "event_type": "Log",
            "execution_id": "5a7b47e7-4eff-4ce3-8ee8-d6a655ccda3b",
            "function_id": "68d27ef6-8413-4eb9-8105-2cfc2b1290c9",
            "level": "info",
            "memory_used": [],
            "project_ref": "hidgiyyunigqazssnydm",
            "reason": null,
            "region": "us-east-1",
            "served_by": "supabase-edge-runtime-1.70.3 (compatible with Deno v2.1.4)",
            "timestamp": "2026-02-16T01:35:33.635Z",
            "version": "23"
          }
        ]
      },
      {
        "event_message": "[POOL UPGRADE] candidates snapshot {\n  top5: [\n    {\n      id: \"178e9ad9-1d02-46bb-bdb0-84fe0d9cc2ae\",\n      title: \"Творожные кексы с грушей\",\n      meal_type: \"breakfast\",\n      proteinKey: \"dairy\",\n      baseScore: 4,\n      diversityPenalty: -20,\n      finalScore: -16\n    },\n    {\n      id: \"4bce887f-6d0b-4d3e-a2c7-ca5cf217ee29\",\n      title: \"Творожные панкейки с бананом\",\n      meal_type: \"breakfast\",\n      proteinKey: \"dairy\",\n      baseScore: 4,\n      diversityPenalty: -20,\n      finalScore: -16\n    },\n    {\n      id: \"e067be83-1e1e-4ed7-8b68-24cf766a87d8\",\n      title: \"Омлет с брокколи и сыром\",\n      meal_type: \"breakfast\",\n      proteinKey: \"dairy\",\n      baseScore: 4,\n      diversityPenalty: -20,\n      finalScore: -16\n    },\n    {\n      id: \"9aae1320-b3b4-4790-bbef-e37b158ef166\",\n      title: \"Творожные сырники с яблоком\",\n      meal_type: \"breakfast\",\n      proteinKey: \"dairy\",\n      baseScore: 4,\n      diversityPenalty: -20,\n      finalScore: -16\n    },\n    {\n      id: \"321a6883-0660-45b8-9b17-f4b72f3229c2\",\n      title: \"Творожные сырники с яблоком\",\n      meal_type: null,\n      proteinKey: \"dairy\",\n      baseScore: 4,\n      diversityPenalty: -20,\n      finalScore: -16\n    }\n  ]\n}\n",
        "metadata": [
          {
            "boot_time": null,
            "cpu_time_used": null,
            "deployment_id": "hidgiyyunigqazssnydm_68d27ef6-8413-4eb9-8105-2cfc2b1290c9_23",
            "event_type": "Log",
            "execution_id": "5a7b47e7-4eff-4ce3-8ee8-d6a655ccda3b",
            "function_id": "68d27ef6-8413-4eb9-8105-2cfc2b1290c9",
            "level": "info",
            "memory_used": [],
            "project_ref": "hidgiyyunigqazssnydm",
            "reason": null,
            "region": "us-east-1",
            "served_by": "supabase-edge-runtime-1.70.3 (compatible with Deno v2.1.4)",
            "timestamp": "2026-02-16T01:35:33.635Z",
            "version": "23"
          }
        ]
      },
      {
        "event_message": "[POOL UPGRADE] candidates snapshot {\n  top5: [\n    {\n      id: \"5cd4612c-7c3e-4649-b113-1ace2105f195\",\n      title: \"Тыквенный суп-пюре с нутом\",\n      meal_type: null,\n      proteinKey: \"legumes\",\n      baseScore: 1,\n      diversityPenalty: 0,\n      finalScore: 1\n    },\n    {\n      id: \"fdda177f-77db-4247-8ea3-28e898e76264\",\n      title: \"Суп-пюре из брокколи с картофелем и морковью\",\n      meal_type: null,\n      proteinKey: \"veg\",\n      baseScore: 1,\n      diversityPenalty: -15,\n      finalScore: -14\n    },\n    {\n      id: \"80cb76d3-9890-4c22-b516-bba41646d63d\",\n      title: \"Тефтели из индейки с гречкой и тушеными овощами\",\n      meal_type: \"lunch\",\n      proteinKey: \"chicken\",\n      baseScore: 4,\n      diversityPenalty: -25,\n      finalScore: -21\n    },\n    {\n      id: \"13cb8e31-b4b1-43d0-8f6b-df932eb6d6a3\",\n      title: \"Суп-пюре из моркови и картофеля с индейкой\",\n      meal_type: \"lunch\",\n      proteinKey: \"chicken\",\n      baseScore: 1,\n      diversityPenalty: -25,\n      finalScore: -24\n    },\n    {\n      id: \"8801a4a8-d1f6-49c5-aa5b-3535c46ff770\",\n      title: \"Суп-пюре из цветной капусты с курицей и картофелем\",\n      meal_type: \"lunch\",\n      proteinKey: \"chicken\",\n      baseScore: 1,\n      diversityPenalty: -25,\n      finalScore: -24\n    }\n  ]\n}\n",
        "metadata": [
          {
            "boot_time": null,
            "cpu_time_used": null,
            "deployment_id": "hidgiyyunigqazssnydm_68d27ef6-8413-4eb9-8105-2cfc2b1290c9_23",
            "event_type": "Log",
            "execution_id": "5a7b47e7-4eff-4ce3-8ee8-d6a655ccda3b",
            "function_id": "68d27ef6-8413-4eb9-8105-2cfc2b1290c9",
            "level": "info",
            "memory_used": [],
            "project_ref": "hidgiyyunigqazssnydm",
            "reason": null,
            "region": "us-east-1",
            "served_by": "supabase-edge-runtime-1.70.3 (compatible with Deno v2.1.4)",
            "timestamp": "2026-02-16T01:35:34.070Z",
            "version": "23"
          }
        ]
      },
      {
        "event_message": "[POOL UPGRADE] {\n  mealType: \"lunch\",\n  normalizedSlot: \"lunch\",\n  hadRecipeId: \"af9cd537-912b-4bc9-84ac-34c7a5e836d9\",\n  replaced: true,\n  candidatesFromDb: 60,\n  candidatesStrict: 60,\n  candidatesLoose: 60,\n  afterExclude: 60,\n  beforeMealType: 43,\n  candidatesAfterMealType: 8,\n  afterMealType: 8,\n  blockedBySanityRules: [],\n  afterProfile: 8,\n  afterFiltersCount: 8,\n  pickedRecipeId: \"8801a4a8-d1f6-49c5-aa5b-3535c46ff770\",\n  rejectReason: undefined,\n  topReason: \"finalScore=1\",\n  pickedMealTypeRaw: \"lunch\",\n  pickedMealTypeNorm: \"lunch\",\n  pickedProteinKey: \"chicken\",\n  pickedBaseScore: 1,\n  pickedPenalty: -25,\n  pickedFinalScore: -24,\n  slotTypeNorm: \"lunch\",\n  usedTitleKeysCount: 32,\n  excludedTitleKeysHit: 17,\n  mealTypeRecoveredFromTitle: true,\n  recoveredCount: 4\n}\n",
        "metadata": [
          {
            "boot_time": null,
            "cpu_time_used": null,
            "deployment_id": "hidgiyyunigqazssnydm_68d27ef6-8413-4eb9-8105-2cfc2b1290c9_23",
            "event_type": "Log",
            "execution_id": "5a7b47e7-4eff-4ce3-8ee8-d6a655ccda3b",
            "function_id": "68d27ef6-8413-4eb9-8105-2cfc2b1290c9",
            "level": "info",
            "memory_used": [],
            "project_ref": "hidgiyyunigqazssnydm",
            "reason": null,
            "region": "us-east-1",
            "served_by": "supabase-edge-runtime-1.70.3 (compatible with Deno v2.1.4)",
            "timestamp": "2026-02-16T01:35:34.070Z",
            "version": "23"
          }
        ]
      },
      {
        "event_message": "[POOL UPGRADE] candidates snapshot {\n  top5: [\n    {\n      id: \"569f6b73-dc15-4f70-9849-137d0f474b6a\",\n      title: \"Йогурт с яблоком и орехами\",\n      meal_type: \"snack\",\n      proteinKey: \"dairy\",\n      baseScore: 6,\n      diversityPenalty: -30,\n      finalScore: -24\n    },\n    {\n      id: \"762c98ce-3a4c-4073-8d14-b671f2d1c400\",\n      title: \"Йогурт с персиком и орехами\",\n      meal_type: \"snack\",\n      proteinKey: \"dairy\",\n      baseScore: 6,\n      diversityPenalty: -30,\n      finalScore: -24\n    },\n    {\n      id: \"43a9dafa-a89e-452e-91ae-df00364b8346\",\n      title: \"Йогурт с ягодами и орехами\",\n      meal_type: null,\n      proteinKey: \"dairy\",\n      baseScore: 6,\n      diversityPenalty: -30,\n      finalScore: -24\n    },\n    {\n      id: \"d297e6ff-ff83-4913-bec6-50a2c08c0af4\",\n      title: \"Йогурт с яблоком и печеньем\",\n      meal_type: null,\n      proteinKey: \"dairy\",\n      baseScore: 6,\n      diversityPenalty: -30,\n      finalScore: -24\n    },\n    {\n      id: \"5a1472ac-6b36-416d-acbd-d48b39677759\",\n      title: \"Творог с грушей и печеньем\",\n      meal_type: null,\n      proteinKey: \"dairy\",\n      baseScore: 6,\n      diversityPenalty: -30,\n      finalScore: -24\n    }\n  ]\n}\n",
        "metadata": [
          {
            "boot_time": null,
            "cpu_time_used": null,
            "deployment_id": "hidgiyyunigqazssnydm_68d27ef6-8413-4eb9-8105-2cfc2b1290c9_23",
            "event_type": "Log",
            "execution_id": "5a7b47e7-4eff-4ce3-8ee8-d6a655ccda3b",
            "function_id": "68d27ef6-8413-4eb9-8105-2cfc2b1290c9",
            "level": "info",
            "memory_used": [],
            "project_ref": "hidgiyyunigqazssnydm",
            "reason": null,
            "region": "us-east-1",
            "served_by": "supabase-edge-runtime-1.70.3 (compatible with Deno v2.1.4)",
            "timestamp": "2026-02-16T01:35:34.370Z",
            "version": "23"
          }
        ]
      },
      {
        "event_message": "[POOL UPGRADE] {\n  mealType: \"snack\",\n  normalizedSlot: \"snack\",\n  hadRecipeId: undefined,\n  replaced: true,\n  candidatesFromDb: 60,\n  candidatesStrict: 60,\n  candidatesLoose: 60,\n  afterExclude: 60,\n  beforeMealType: 42,\n  candidatesAfterMealType: 13,\n  afterMealType: 13,\n  blockedBySanityRules: [ \"котлет\", \"фарш\" ],\n  afterProfile: 9,\n  afterFiltersCount: 9,\n  pickedRecipeId: \"5a1472ac-6b36-416d-acbd-d48b39677759\",\n  rejectReason: undefined,\n  topReason: \"finalScore=-24\",\n  pickedMealTypeRaw: null,\n  pickedMealTypeNorm: \"snack\",\n  pickedProteinKey: \"dairy\",\n  pickedBaseScore: 6,\n  pickedPenalty: -30,\n  pickedFinalScore: -24,\n  slotTypeNorm: \"snack\",\n  usedTitleKeysCount: 33,\n  excludedTitleKeysHit: 18,\n  mealTypeRecoveredFromTitle: true,\n  recoveredCount: 8\n}\n",
        "metadata": [
          {
            "boot_time": null,
            "cpu_time_used": null,
            "deployment_id": "hidgiyyunigqazssnydm_68d27ef6-8413-4eb9-8105-2cfc2b1290c9_23",
            "event_type": "Log",
            "execution_id": "5a7b47e7-4eff-4ce3-8ee8-d6a655ccda3b",
            "function_id": "68d27ef6-8413-4eb9-8105-2cfc2b1290c9",
            "level": "info",
            "memory_used": [],
            "project_ref": "hidgiyyunigqazssnydm",
            "reason": null,
            "region": "us-east-1",
            "served_by": "supabase-edge-runtime-1.70.3 (compatible with Deno v2.1.4)",
            "timestamp": "2026-02-16T01:35:34.370Z",
            "version": "23"
          }
        ]
      },
      {
        "event_message": "[POOL UPGRADE] candidates snapshot {\n  top5: [\n    {\n      id: \"9617e016-351c-43b3-9ebb-440000afa395\",\n      title: \"Запечённый минтай с цветной капустой и картофелем\",\n      meal_type: \"dinner\",\n      proteinKey: \"fish\",\n      baseScore: 4,\n      diversityPenalty: -20,\n      finalScore: -16\n    },\n    {\n      id: \"bf9707f7-d827-4e3f-b841-0aaf827333f8\",\n      title: \"Запечённая баранина с овощами\",\n      meal_type: \"dinner\",\n      proteinKey: \"dairy\",\n      baseScore: 2,\n      diversityPenalty: -20,\n      finalScore: -18\n    },\n    {\n      id: \"85f3e1ca-16bc-402b-9b4e-633a271d7c78\",\n      title: \"Запечённая баранина с овощами\",\n      meal_type: \"dinner\",\n      proteinKey: \"dairy\",\n      baseScore: 2,\n      diversityPenalty: -20,\n      finalScore: -18\n    },\n    {\n      id: \"82e23112-4426-4b93-b5db-5f929b5fba5b\",\n      title: \"Запечённая баранина с овощами\",\n      meal_type: null,\n      proteinKey: \"dairy\",\n      baseScore: 2,\n      diversityPenalty: -20,\n      finalScore: -18\n    },\n    {\n      id: \"62ceddc2-16e5-4bd0-8fae-9142dc4f2438\",\n      title: \"Запечённая курица с тыквой и брокколи\",\n      meal_type: \"dinner\",\n      proteinKey: \"chicken\",\n      baseScore: 4,\n      diversityPenalty: -25,\n      finalScore: -21\n    }\n  ]\n}\n",
        "metadata": [
          {
            "boot_time": null,
            "cpu_time_used": null,
            "deployment_id": "hidgiyyunigqazssnydm_68d27ef6-8413-4eb9-8105-2cfc2b1290c9_23",
            "event_type": "Log",
            "execution_id": "5a7b47e7-4eff-4ce3-8ee8-d6a655ccda3b",
            "function_id": "68d27ef6-8413-4eb9-8105-2cfc2b1290c9",
            "level": "info",
            "memory_used": [],
            "project_ref": "hidgiyyunigqazssnydm",
            "reason": null,
            "region": "us-east-1",
            "served_by": "supabase-edge-runtime-1.70.3 (compatible with Deno v2.1.4)",
            "timestamp": "2026-02-16T01:35:34.765Z",
            "version": "23"
          }
        ]
      },
      {
        "event_message": "[POOL UPGRADE] {\n  mealType: \"dinner\",\n  normalizedSlot: \"dinner\",\n  hadRecipeId: \"25317da2-b028-4ca3-aec4-954971d5aff3\",\n  replaced: true,\n  candidatesFromDb: 60,\n  candidatesStrict: 60,\n  candidatesLoose: 60,\n  afterExclude: 60,\n  beforeMealType: 42,\n  candidatesAfterMealType: 11,\n  afterMealType: 11,\n  blockedBySanityRules: [ \"пюре\" ],\n  afterProfile: 10,\n  afterFiltersCount: 10,\n  pickedRecipeId: \"85f3e1ca-16bc-402b-9b4e-633a271d7c78\",\n  rejectReason: undefined,\n  topReason: \"finalScore=-16\",\n  pickedMealTypeRaw: \"dinner\",\n  pickedMealTypeNorm: \"dinner\",\n  pickedProteinKey: \"dairy\",\n  pickedBaseScore: 2,\n  pickedPenalty: -20,\n  pickedFinalScore: -18,\n  slotTypeNorm: \"dinner\",\n  usedTitleKeysCount: 34,\n  excludedTitleKeysHit: 18,\n  mealTypeRecoveredFromTitle: true,\n  recoveredCount: 6\n}\n",
        "metadata": [
          {
            "boot_time": null,
            "cpu_time_used": null,
            "deployment_id": "hidgiyyunigqazssnydm_68d27ef6-8413-4eb9-8105-2cfc2b1290c9_23",
            "event_type": "Log",
            "execution_id": "5a7b47e7-4eff-4ce3-8ee8-d6a655ccda3b",
            "function_id": "68d27ef6-8413-4eb9-8105-2cfc2b1290c9",
            "level": "info",
            "memory_used": [],
            "project_ref": "hidgiyyunigqazssnydm",
            "reason": null,
            "region": "us-east-1",
            "served_by": "supabase-edge-runtime-1.70.3 (compatible with Deno v2.1.4)",
            "timestamp": "2026-02-16T01:35:34.766Z",
            "version": "23"
          }
        ]
      },
      {
        "event_message": "[POOL UPGRADE] candidates snapshot {\n  top5: [\n    {\n      id: \"178e9ad9-1d02-46bb-bdb0-84fe0d9cc2ae\",\n      title: \"Творожные кексы с грушей\",\n      meal_type: \"breakfast\",\n      proteinKey: \"dairy\",\n      baseScore: 4,\n      diversityPenalty: -20,\n      finalScore: -16\n    },\n    {\n      id: \"4bce887f-6d0b-4d3e-a2c7-ca5cf217ee29\",\n      title: \"Творожные панкейки с бананом\",\n      meal_type: \"breakfast\",\n      proteinKey: \"dairy\",\n      baseScore: 4,\n      diversityPenalty: -20,\n      finalScore: -16\n    },\n    {\n      id: \"e067be83-1e1e-4ed7-8b68-24cf766a87d8\",\n      title: \"Омлет с брокколи и сыром\",\n      meal_type: \"breakfast\",\n      proteinKey: \"dairy\",\n      baseScore: 4,\n      diversityPenalty: -20,\n      finalScore: -16\n    },\n    {\n      id: \"9aae1320-b3b4-4790-bbef-e37b158ef166\",\n      title: \"Творожные сырники с яблоком\",\n      meal_type: \"breakfast\",\n      proteinKey: \"dairy\",\n      baseScore: 4,\n      diversityPenalty: -20,\n      finalScore: -16\n    },\n    {\n      id: \"321a6883-0660-45b8-9b17-f4b72f3229c2\",\n      title: \"Творожные сырники с яблоком\",\n      meal_type: null,\n      proteinKey: \"dairy\",\n      baseScore: 4,\n      diversityPenalty: -20,\n      finalScore: -16\n    }\n  ]\n}\n",
        "metadata": [
          {
            "boot_time": null,
            "cpu_time_used": null,
            "deployment_id": "hidgiyyunigqazssnydm_68d27ef6-8413-4eb9-8105-2cfc2b1290c9_23",
            "event_type": "Log",
            "execution_id": "5a7b47e7-4eff-4ce3-8ee8-d6a655ccda3b",
            "function_id": "68d27ef6-8413-4eb9-8105-2cfc2b1290c9",
            "level": "info",
            "memory_used": [],
            "project_ref": "hidgiyyunigqazssnydm",
            "reason": null,
            "region": "us-east-1",
            "served_by": "supabase-edge-runtime-1.70.3 (compatible with Deno v2.1.4)",
            "timestamp": "2026-02-16T01:35:35.403Z",
            "version": "23"
          }
        ]
      },
      {
        "event_message": "[POOL UPGRADE] {\n  mealType: \"breakfast\",\n  normalizedSlot: \"breakfast\",\n  hadRecipeId: undefined,\n  replaced: true,\n  candidatesFromDb: 60,\n  candidatesStrict: 60,\n  candidatesLoose: 60,\n  afterExclude: 60,\n  beforeMealType: 40,\n  candidatesAfterMealType: 10,\n  afterMealType: 10,\n  blockedBySanityRules: [],\n  afterProfile: 10,\n  afterFiltersCount: 10,\n  pickedRecipeId: \"88524e77-d700-4eaf-9f86-bf4126f4c08f\",\n  rejectReason: undefined,\n  topReason: \"finalScore=-16\",\n  pickedMealTypeRaw: null,\n  pickedMealTypeNorm: \"breakfast\",\n  pickedProteinKey: \"chicken\",\n  pickedBaseScore: 4,\n  pickedPenalty: -25,\n  pickedFinalScore: -21,\n  slotTypeNorm: \"breakfast\",\n  usedTitleKeysCount: 35,\n  excludedTitleKeysHit: 20,\n  mealTypeRecoveredFromTitle: true,\n  recoveredCount: 6\n}\n",
        "metadata": [
          {
            "boot_time": null,
            "cpu_time_used": null,
            "deployment_id": "hidgiyyunigqazssnydm_68d27ef6-8413-4eb9-8105-2cfc2b1290c9_23",
            "event_type": "Log",
            "execution_id": "5a7b47e7-4eff-4ce3-8ee8-d6a655ccda3b",
            "function_id": "68d27ef6-8413-4eb9-8105-2cfc2b1290c9",
            "level": "info",
            "memory_used": [],
            "project_ref": "hidgiyyunigqazssnydm",
            "reason": null,
            "region": "us-east-1",
            "served_by": "supabase-edge-runtime-1.70.3 (compatible with Deno v2.1.4)",
            "timestamp": "2026-02-16T01:35:35.403Z",
            "version": "23"
          }
        ]
      },
      {
        "event_message": "[POOL UPGRADE] {\n  mealType: \"lunch\",\n  normalizedSlot: \"lunch\",\n  hadRecipeId: \"ad33a3e6-8e67-4e4f-97e0-c98ea715f1e7\",\n  replaced: true,\n  candidatesFromDb: 60,\n  candidatesStrict: 60,\n  candidatesLoose: 60,\n  afterExclude: 60,\n  beforeMealType: 40,\n  candidatesAfterMealType: 7,\n  afterMealType: 7,\n  blockedBySanityRules: [],\n  afterProfile: 7,\n  afterFiltersCount: 7,\n  pickedRecipeId: \"8fe805c0-3c48-4db6-8aec-f63a8a0c8f21\",\n  rejectReason: undefined,\n  topReason: \"finalScore=1\",\n  pickedMealTypeRaw: null,\n  pickedMealTypeNorm: \"lunch\",\n  pickedProteinKey: \"chicken\",\n  pickedBaseScore: 1,\n  pickedPenalty: -25,\n  pickedFinalScore: -24,\n  slotTypeNorm: \"lunch\",\n  usedTitleKeysCount: 36,\n  excludedTitleKeysHit: 20,\n  mealTypeRecoveredFromTitle: true,\n  recoveredCount: 4\n}\n",
        "metadata": [
          {
            "boot_time": null,
            "cpu_time_used": null,
            "deployment_id": "hidgiyyunigqazssnydm_68d27ef6-8413-4eb9-8105-2cfc2b1290c9_23",
            "event_type": "Log",
            "execution_id": "5a7b47e7-4eff-4ce3-8ee8-d6a655ccda3b",
            "function_id": "68d27ef6-8413-4eb9-8105-2cfc2b1290c9",
            "level": "info",
            "memory_used": [],
            "project_ref": "hidgiyyunigqazssnydm",
            "reason": null,
            "region": "us-east-1",
            "served_by": "supabase-edge-runtime-1.70.3 (compatible with Deno v2.1.4)",
            "timestamp": "2026-02-16T01:35:35.791Z",
            "version": "23"
          }
        ]
      },
      {
        "event_message": "[POOL UPGRADE] candidates snapshot {\n  top5: [\n    {\n      id: \"5cd4612c-7c3e-4649-b113-1ace2105f195\",\n      title: \"Тыквенный суп-пюре с нутом\",\n      meal_type: null,\n      proteinKey: \"legumes\",\n      baseScore: 1,\n      diversityPenalty: 0,\n      finalScore: 1\n    },\n    {\n      id: \"fdda177f-77db-4247-8ea3-28e898e76264\",\n      title: \"Суп-пюре из брокколи с картофелем и морковью\",\n      meal_type: null,\n      proteinKey: \"veg\",\n      baseScore: 1,\n      diversityPenalty: -15,\n      finalScore: -14\n    },\n    {\n      id: \"80cb76d3-9890-4c22-b516-bba41646d63d\",\n      title: \"Тефтели из индейки с гречкой и тушеными овощами\",\n      meal_type: \"lunch\",\n      proteinKey: \"chicken\",\n      baseScore: 4,\n      diversityPenalty: -25,\n      finalScore: -21\n    },\n    {\n      id: \"13cb8e31-b4b1-43d0-8f6b-df932eb6d6a3\",\n      title: \"Суп-пюре из моркови и картофеля с индейкой\",\n      meal_type: \"lunch\",\n      proteinKey: \"chicken\",\n      baseScore: 1,\n      diversityPenalty: -25,\n      finalScore: -24\n    },\n    {\n      id: \"14741825-100f-4d3b-ac45-db5ae3b38def\",\n      title: \"Суп-пюре из моркови и картофеля с курицей\",\n      meal_type: \"lunch\",\n      proteinKey: \"chicken\",\n      baseScore: 1,\n      diversityPenalty: -25,\n      finalScore: -24\n    }\n  ]\n}\n",
        "metadata": [
          {
            "boot_time": null,
            "cpu_time_used": null,
            "deployment_id": "hidgiyyunigqazssnydm_68d27ef6-8413-4eb9-8105-2cfc2b1290c9_23",
            "event_type": "Log",
            "execution_id": "5a7b47e7-4eff-4ce3-8ee8-d6a655ccda3b",
            "function_id": "68d27ef6-8413-4eb9-8105-2cfc2b1290c9",
            "level": "info",
            "memory_used": [],
            "project_ref": "hidgiyyunigqazssnydm",
            "reason": null,
            "region": "us-east-1",
            "served_by": "supabase-edge-runtime-1.70.3 (compatible with Deno v2.1.4)",
            "timestamp": "2026-02-16T01:35:35.791Z",
            "version": "23"
          }
        ]
      },
      {
        "event_message": "[POOL UPGRADE] candidates snapshot {\n  top5: [\n    {\n      id: \"569f6b73-dc15-4f70-9849-137d0f474b6a\",\n      title: \"Йогурт с яблоком и орехами\",\n      meal_type: \"snack\",\n      proteinKey: \"dairy\",\n      baseScore: 6,\n      diversityPenalty: -30,\n      finalScore: -24\n    },\n    {\n      id: \"762c98ce-3a4c-4073-8d14-b671f2d1c400\",\n      title: \"Йогурт с персиком и орехами\",\n      meal_type: \"snack\",\n      proteinKey: \"dairy\",\n      baseScore: 6,\n      diversityPenalty: -30,\n      finalScore: -24\n    },\n    {\n      id: \"43a9dafa-a89e-452e-91ae-df00364b8346\",\n      title: \"Йогурт с ягодами и орехами\",\n      meal_type: null,\n      proteinKey: \"dairy\",\n      baseScore: 6,\n      diversityPenalty: -30,\n      finalScore: -24\n    },\n    {\n      id: \"d297e6ff-ff83-4913-bec6-50a2c08c0af4\",\n      title: \"Йогурт с яблоком и печеньем\",\n      meal_type: null,\n      proteinKey: \"dairy\",\n      baseScore: 6,\n      diversityPenalty: -30,\n      finalScore: -24\n    },\n    {\n      id: \"82a7fae8-025e-4cec-b7b6-add2357c3db5\",\n      title: \"Йогурт с персиком и печеньем\",\n      meal_type: null,\n      proteinKey: \"dairy\",\n      baseScore: 6,\n      diversityPenalty: -30,\n      finalScore: -24\n    }\n  ]\n}\n",
        "metadata": [
          {
            "boot_time": null,
            "cpu_time_used": null,
            "deployment_id": "hidgiyyunigqazssnydm_68d27ef6-8413-4eb9-8105-2cfc2b1290c9_23",
            "event_type": "Log",
            "execution_id": "5a7b47e7-4eff-4ce3-8ee8-d6a655ccda3b",
            "function_id": "68d27ef6-8413-4eb9-8105-2cfc2b1290c9",
            "level": "info",
            "memory_used": [],
            "project_ref": "hidgiyyunigqazssnydm",
            "reason": null,
            "region": "us-east-1",
            "served_by": "supabase-edge-runtime-1.70.3 (compatible with Deno v2.1.4)",
            "timestamp": "2026-02-16T01:35:36.093Z",
            "version": "23"
          }
        ]
      },
      {
        "event_message": "[POOL UPGRADE] {\n  mealType: \"snack\",\n  normalizedSlot: \"snack\",\n  hadRecipeId: undefined,\n  replaced: true,\n  candidatesFromDb: 60,\n  candidatesStrict: 60,\n  candidatesLoose: 60,\n  afterExclude: 60,\n  beforeMealType: 40,\n  candidatesAfterMealType: 13,\n  afterMealType: 13,\n  blockedBySanityRules: [ \"котлет\", \"фарш\" ],\n  afterProfile: 9,\n  afterFiltersCount: 9,\n  pickedRecipeId: \"d297e6ff-ff83-4913-bec6-50a2c08c0af4\",\n  rejectReason: undefined,\n  topReason: \"finalScore=-24\",\n  pickedMealTypeRaw: null,\n  pickedMealTypeNorm: \"snack\",\n  pickedProteinKey: \"dairy\",\n  pickedBaseScore: 6,\n  pickedPenalty: -30,\n  pickedFinalScore: -24,\n  slotTypeNorm: \"snack\",\n  usedTitleKeysCount: 37,\n  excludedTitleKeysHit: 20,\n  mealTypeRecoveredFromTitle: true,\n  recoveredCount: 8\n}\n",
        "metadata": [
          {
            "boot_time": null,
            "cpu_time_used": null,
            "deployment_id": "hidgiyyunigqazssnydm_68d27ef6-8413-4eb9-8105-2cfc2b1290c9_23",
            "event_type": "Log",
            "execution_id": "5a7b47e7-4eff-4ce3-8ee8-d6a655ccda3b",
            "function_id": "68d27ef6-8413-4eb9-8105-2cfc2b1290c9",
            "level": "info",
            "memory_used": [],
            "project_ref": "hidgiyyunigqazssnydm",
            "reason": null,
            "region": "us-east-1",
            "served_by": "supabase-edge-runtime-1.70.3 (compatible with Deno v2.1.4)",
            "timestamp": "2026-02-16T01:35:36.094Z",
            "version": "23"
          }
        ]
      },
      {
        "event_message": "[POOL UPGRADE] {\n  mealType: \"dinner\",\n  normalizedSlot: \"dinner\",\n  hadRecipeId: undefined,\n  replaced: true,\n  candidatesFromDb: 60,\n  candidatesStrict: 60,\n  candidatesLoose: 60,\n  afterExclude: 60,\n  beforeMealType: 40,\n  candidatesAfterMealType: 10,\n  afterMealType: 10,\n  blockedBySanityRules: [ \"пюре\" ],\n  afterProfile: 9,\n  afterFiltersCount: 9,\n  pickedRecipeId: \"8b6e927e-684a-467c-b45a-a108c8c15011\",\n  rejectReason: undefined,\n  topReason: \"finalScore=4\",\n  pickedMealTypeRaw: null,\n  pickedMealTypeNorm: \"dinner\",\n  pickedProteinKey: \"chicken\",\n  pickedBaseScore: 4,\n  pickedPenalty: -25,\n  pickedFinalScore: -21,\n  slotTypeNorm: \"dinner\",\n  usedTitleKeysCount: 38,\n  excludedTitleKeysHit: 20,\n  mealTypeRecoveredFromTitle: true,\n  recoveredCount: 7\n}\n",
        "metadata": [
          {
            "boot_time": null,
            "cpu_time_used": null,
            "deployment_id": "hidgiyyunigqazssnydm_68d27ef6-8413-4eb9-8105-2cfc2b1290c9_23",
            "event_type": "Log",
            "execution_id": "5a7b47e7-4eff-4ce3-8ee8-d6a655ccda3b",
            "function_id": "68d27ef6-8413-4eb9-8105-2cfc2b1290c9",
            "level": "info",
            "memory_used": [],
            "project_ref": "hidgiyyunigqazssnydm",
            "reason": null,
            "region": "us-east-1",
            "served_by": "supabase-edge-runtime-1.70.3 (compatible with Deno v2.1.4)",
            "timestamp": "2026-02-16T01:35:36.387Z",
            "version": "23"
          }
        ]
      },
      {
        "event_message": "[POOL UPGRADE] candidates snapshot {\n  top5: [\n    {\n      id: \"2ffc3951-91c5-42be-b1be-998c80264947\",\n      title: \"Тефтели из говядины с рисом и брокколи\",\n      meal_type: null,\n      proteinKey: \"beef_pork\",\n      baseScore: 4,\n      diversityPenalty: 0,\n      finalScore: 4\n    },\n    {\n      id: \"9617e016-351c-43b3-9ebb-440000afa395\",\n      title: \"Запечённый минтай с цветной капустой и картофелем\",\n      meal_type: \"dinner\",\n      proteinKey: \"fish\",\n      baseScore: 4,\n      diversityPenalty: -20,\n      finalScore: -16\n    },\n    {\n      id: \"62ceddc2-16e5-4bd0-8fae-9142dc4f2438\",\n      title: \"Запечённая курица с тыквой и брокколи\",\n      meal_type: \"dinner\",\n      proteinKey: \"chicken\",\n      baseScore: 4,\n      diversityPenalty: -25,\n      finalScore: -21\n    },\n    {\n      id: \"80bcc408-fb5c-4bb1-a232-2806d6a4befe\",\n      title: \"Запеченная курица с овощами и киноа\",\n      meal_type: null,\n      proteinKey: \"chicken\",\n      baseScore: 4,\n      diversityPenalty: -25,\n      finalScore: -21\n    },\n    {\n      id: \"559de17d-f94c-42ae-83f8-60708a787f47\",\n      title: \"Индейка с овощным рагу и киноа\",\n      meal_type: null,\n      proteinKey: \"chicken\",\n      baseScore: 4,\n      diversityPenalty: -25,\n      finalScore: -21\n    }\n  ]\n}\n",
        "metadata": [
          {
            "boot_time": null,
            "cpu_time_used": null,
            "deployment_id": "hidgiyyunigqazssnydm_68d27ef6-8413-4eb9-8105-2cfc2b1290c9_23",
            "event_type": "Log",
            "execution_id": "5a7b47e7-4eff-4ce3-8ee8-d6a655ccda3b",
            "function_id": "68d27ef6-8413-4eb9-8105-2cfc2b1290c9",
            "level": "info",
            "memory_used": [],
            "project_ref": "hidgiyyunigqazssnydm",
            "reason": null,
            "region": "us-east-1",
            "served_by": "supabase-edge-runtime-1.70.3 (compatible with Deno v2.1.4)",
            "timestamp": "2026-02-16T01:35:36.387Z",
            "version": "23"
          }
        ]
      }
    ],
    "other": [
      {
        "event_message": "[POOL DEBUG] AI meal rejected {\n  dayKey: \"2026-02-17\",\n  mealKey: \"lunch\",\n  title: \"Суп-пюре из тыквы с курицей\",\n  failReason: \"allergy\"\n}\n",
        "metadata": [
          {
            "boot_time": null,
            "cpu_time_used": null,
            "deployment_id": "hidgiyyunigqazssnydm_68d27ef6-8413-4eb9-8105-2cfc2b1290c9_23",
            "event_type": "Log",
            "execution_id": "bf7b2346-273d-4bab-a28b-59c020d2f309",
            "function_id": "68d27ef6-8413-4eb9-8105-2cfc2b1290c9",
            "level": "info",
            "memory_used": [],
            "project_ref": "hidgiyyunigqazssnydm",
            "reason": null,
            "region": "us-east-1",
            "served_by": "supabase-edge-runtime-1.70.3 (compatible with Deno v2.1.4)",
            "timestamp": "2026-02-16T01:33:24.906Z",
            "version": "23"
          }
        ]
      },
      {
        "event_message": "[POOL DEBUG] AI meal rejected {\n  dayKey: \"2026-02-17\",\n  mealKey: \"breakfast\",\n  title: \"Омлет с овощами на воде\",\n  failReason: \"sanity_hit\"\n}\n",
        "metadata": [
          {
            "boot_time": null,
            "cpu_time_used": null,
            "deployment_id": "hidgiyyunigqazssnydm_68d27ef6-8413-4eb9-8105-2cfc2b1290c9_23",
            "event_type": "Log",
            "execution_id": "bf7b2346-273d-4bab-a28b-59c020d2f309",
            "function_id": "68d27ef6-8413-4eb9-8105-2cfc2b1290c9",
            "level": "info",
            "memory_used": [],
            "project_ref": "hidgiyyunigqazssnydm",
            "reason": null,
            "region": "us-east-1",
            "served_by": "supabase-edge-runtime-1.70.3 (compatible with Deno v2.1.4)",
            "timestamp": "2026-02-16T01:33:24.906Z",
            "version": "23"
          }
        ]
      },
      {
        "event_message": "[POOL DEBUG] day summary { dayKey: \"2026-02-17\", dbCount: 0, aiCount: 1 }\n",
        "metadata": [
          {
            "boot_time": null,
            "cpu_time_used": null,
            "deployment_id": "hidgiyyunigqazssnydm_68d27ef6-8413-4eb9-8105-2cfc2b1290c9_23",
            "event_type": "Log",
            "execution_id": "bf7b2346-273d-4bab-a28b-59c020d2f309",
            "function_id": "68d27ef6-8413-4eb9-8105-2cfc2b1290c9",
            "level": "info",
            "memory_used": [],
            "project_ref": "hidgiyyunigqazssnydm",
            "reason": null,
            "region": "us-east-1",
            "served_by": "supabase-edge-runtime-1.70.3 (compatible with Deno v2.1.4)",
            "timestamp": "2026-02-16T01:33:25.070Z",
            "version": "23"
          }
        ]
      },
      {
        "event_message": "[POOL DEBUG] AI meal rejected {\n  dayKey: \"2026-02-17\",\n  mealKey: \"dinner\",\n  title: \"Рыбные тефтели с гречкой\",\n  failReason: \"allergy\"\n}\n",
        "metadata": [
          {
            "boot_time": null,
            "cpu_time_used": null,
            "deployment_id": "hidgiyyunigqazssnydm_68d27ef6-8413-4eb9-8105-2cfc2b1290c9_23",
            "event_type": "Log",
            "execution_id": "bf7b2346-273d-4bab-a28b-59c020d2f309",
            "function_id": "68d27ef6-8413-4eb9-8105-2cfc2b1290c9",
            "level": "info",
            "memory_used": [],
            "project_ref": "hidgiyyunigqazssnydm",
            "reason": null,
            "region": "us-east-1",
            "served_by": "supabase-edge-runtime-1.70.3 (compatible with Deno v2.1.4)",
            "timestamp": "2026-02-16T01:33:25.070Z",
            "version": "23"
          }
        ]
      },
      {
        "event_message": "[POOL DEBUG] {\n  mealType: \"breakfast\",\n  normalizedSlot: \"breakfast\",\n  hadRecipeId: undefined,\n  replaced: false,\n  candidatesFromDb: 60,\n  candidatesStrict: 60,\n  candidatesLoose: 60,\n  afterExclude: 60,\n  beforeMealType: 55,\n  candidatesAfterMealType: 15,\n  afterMealType: 15,\n  blockedBySanityRules: [],\n  mealTypeSamples: undefined,\n  afterProfile: 0,\n  afterFiltersCount: 0,\n  pickedRecipeId: null,\n  rejectReason: \"filtered_by_allergies\",\n  usedTitleKeysCount: 24\n}\n",
        "metadata": [
          {
            "boot_time": null,
            "cpu_time_used": null,
            "deployment_id": "hidgiyyunigqazssnydm_68d27ef6-8413-4eb9-8105-2cfc2b1290c9_23",
            "event_type": "Log",
            "execution_id": "bf7b2346-273d-4bab-a28b-59c020d2f309",
            "function_id": "68d27ef6-8413-4eb9-8105-2cfc2b1290c9",
            "level": "info",
            "memory_used": [],
            "project_ref": "hidgiyyunigqazssnydm",
            "reason": null,
            "region": "us-east-1",
            "served_by": "supabase-edge-runtime-1.70.3 (compatible with Deno v2.1.4)",
            "timestamp": "2026-02-16T01:33:25.882Z",
            "version": "23"
          }
        ]
      },
      {
        "event_message": "[POOL DEBUG] {\n  mealType: \"lunch\",\n  normalizedSlot: \"lunch\",\n  hadRecipeId: undefined,\n  replaced: false,\n  candidatesFromDb: 60,\n  candidatesStrict: 60,\n  candidatesLoose: 60,\n  afterExclude: 60,\n  beforeMealType: 55,\n  candidatesAfterMealType: 8,\n  afterMealType: 8,\n  blockedBySanityRules: [],\n  mealTypeSamples: undefined,\n  afterProfile: 0,\n  afterFiltersCount: 0,\n  pickedRecipeId: null,\n  rejectReason: \"filtered_by_allergies\",\n  usedTitleKeysCount: 24\n}\n",
        "metadata": [
          {
            "boot_time": null,
            "cpu_time_used": null,
            "deployment_id": "hidgiyyunigqazssnydm_68d27ef6-8413-4eb9-8105-2cfc2b1290c9_23",
            "event_type": "Log",
            "execution_id": "bf7b2346-273d-4bab-a28b-59c020d2f309",
            "function_id": "68d27ef6-8413-4eb9-8105-2cfc2b1290c9",
            "level": "info",
            "memory_used": [],
            "project_ref": "hidgiyyunigqazssnydm",
            "reason": null,
            "region": "us-east-1",
            "served_by": "supabase-edge-runtime-1.70.3 (compatible with Deno v2.1.4)",
            "timestamp": "2026-02-16T01:33:26.339Z",
            "version": "23"
          }
        ]
      },
      {
        "event_message": "[POOL DEBUG] {\n  mealType: \"snack\",\n  normalizedSlot: \"snack\",\n  hadRecipeId: undefined,\n  replaced: false,\n  candidatesFromDb: 60,\n  candidatesStrict: 60,\n  candidatesLoose: 60,\n  afterExclude: 60,\n  beforeMealType: 55,\n  candidatesAfterMealType: 17,\n  afterMealType: 17,\n  blockedBySanityRules: [ \"каша\", \"овсян\", \"гречк\", \"суп\", \"фарш\", \"запеканк\" ],\n  mealTypeSamples: undefined,\n  afterProfile: 0,\n  afterFiltersCount: 0,\n  pickedRecipeId: null,\n  rejectReason: \"filtered_by_allergies\",\n  usedTitleKeysCount: 24\n}\n",
        "metadata": [
          {
            "boot_time": null,
            "cpu_time_used": null,
            "deployment_id": "hidgiyyunigqazssnydm_68d27ef6-8413-4eb9-8105-2cfc2b1290c9_23",
            "event_type": "Log",
            "execution_id": "bf7b2346-273d-4bab-a28b-59c020d2f309",
            "function_id": "68d27ef6-8413-4eb9-8105-2cfc2b1290c9",
            "level": "info",
            "memory_used": [],
            "project_ref": "hidgiyyunigqazssnydm",
            "reason": null,
            "region": "us-east-1",
            "served_by": "supabase-edge-runtime-1.70.3 (compatible with Deno v2.1.4)",
            "timestamp": "2026-02-16T01:33:26.743Z",
            "version": "23"
          }
        ]
      },
      {
        "event_message": "[POOL DEBUG] {\n  mealType: \"dinner\",\n  normalizedSlot: \"dinner\",\n  hadRecipeId: undefined,\n  replaced: false,\n  candidatesFromDb: 60,\n  candidatesStrict: 60,\n  candidatesLoose: 60,\n  afterExclude: 60,\n  beforeMealType: 55,\n  candidatesAfterMealType: 14,\n  afterMealType: 14,\n  blockedBySanityRules: [ \"пюре\" ],\n  mealTypeSamples: undefined,\n  afterProfile: 0,\n  afterFiltersCount: 0,\n  pickedRecipeId: null,\n  rejectReason: \"filtered_by_allergies\",\n  usedTitleKeysCount: 24\n}\n",
        "metadata": [
          {
            "boot_time": null,
            "cpu_time_used": null,
            "deployment_id": "hidgiyyunigqazssnydm_68d27ef6-8413-4eb9-8105-2cfc2b1290c9_23",
            "event_type": "Log",
            "execution_id": "bf7b2346-273d-4bab-a28b-59c020d2f309",
            "function_id": "68d27ef6-8413-4eb9-8105-2cfc2b1290c9",
            "level": "info",
            "memory_used": [],
            "project_ref": "hidgiyyunigqazssnydm",
            "reason": null,
            "region": "us-east-1",
            "served_by": "supabase-edge-runtime-1.70.3 (compatible with Deno v2.1.4)",
            "timestamp": "2026-02-16T01:33:27.060Z",
            "version": "23"
          }
        ]
      },
      {
        "event_message": "[POOL DEBUG] AI meal rejected {\n  dayKey: \"2026-02-18\",\n  mealKey: \"lunch\",\n  title: \"Суп-пюре из тыквы и картофеля\",\n  failReason: \"allergy\"\n}\n",
        "metadata": [
          {
            "boot_time": null,
            "cpu_time_used": null,
            "deployment_id": "hidgiyyunigqazssnydm_68d27ef6-8413-4eb9-8105-2cfc2b1290c9_23",
            "event_type": "Log",
            "execution_id": "bf7b2346-273d-4bab-a28b-59c020d2f309",
            "function_id": "68d27ef6-8413-4eb9-8105-2cfc2b1290c9",
            "level": "info",
            "memory_used": [],
            "project_ref": "hidgiyyunigqazssnydm",
            "reason": null,
            "region": "us-east-1",
            "served_by": "supabase-edge-runtime-1.70.3 (compatible with Deno v2.1.4)",
            "timestamp": "2026-02-16T01:34:12.349Z",
            "version": "23"
          }
        ]
      },
      {
        "event_message": "[POOL DEBUG] AI meal rejected {\n  dayKey: \"2026-02-18\",\n  mealKey: \"breakfast\",\n  title: \"Омлет с овощами на воде\",\n  failReason: \"sanity_hit\"\n}\n",
        "metadata": [
          {
            "boot_time": null,
            "cpu_time_used": null,
            "deployment_id": "hidgiyyunigqazssnydm_68d27ef6-8413-4eb9-8105-2cfc2b1290c9_23",
            "event_type": "Log",
            "execution_id": "bf7b2346-273d-4bab-a28b-59c020d2f309",
            "function_id": "68d27ef6-8413-4eb9-8105-2cfc2b1290c9",
            "level": "info",
            "memory_used": [],
            "project_ref": "hidgiyyunigqazssnydm",
            "reason": null,
            "region": "us-east-1",
            "served_by": "supabase-edge-runtime-1.70.3 (compatible with Deno v2.1.4)",
            "timestamp": "2026-02-16T01:34:12.349Z",
            "version": "23"
          }
        ]
      },
      {
        "event_message": "[POOL DEBUG] day summary { dayKey: \"2026-02-18\", dbCount: 0, aiCount: 1 }\n",
        "metadata": [
          {
            "boot_time": null,
            "cpu_time_used": null,
            "deployment_id": "hidgiyyunigqazssnydm_68d27ef6-8413-4eb9-8105-2cfc2b1290c9_23",
            "event_type": "Log",
            "execution_id": "bf7b2346-273d-4bab-a28b-59c020d2f309",
            "function_id": "68d27ef6-8413-4eb9-8105-2cfc2b1290c9",
            "level": "info",
            "memory_used": [],
            "project_ref": "hidgiyyunigqazssnydm",
            "reason": null,
            "region": "us-east-1",
            "served_by": "supabase-edge-runtime-1.70.3 (compatible with Deno v2.1.4)",
            "timestamp": "2026-02-16T01:34:12.522Z",
            "version": "23"
          }
        ]
      },
      {
        "event_message": "[POOL DEBUG] AI meal rejected {\n  dayKey: \"2026-02-18\",\n  mealKey: \"dinner\",\n  title: \"Куриные тефтели с гречкой\",\n  failReason: \"allergy\"\n}\n",
        "metadata": [
          {
            "boot_time": null,
            "cpu_time_used": null,
            "deployment_id": "hidgiyyunigqazssnydm_68d27ef6-8413-4eb9-8105-2cfc2b1290c9_23",
            "event_type": "Log",
            "execution_id": "bf7b2346-273d-4bab-a28b-59c020d2f309",
            "function_id": "68d27ef6-8413-4eb9-8105-2cfc2b1290c9",
            "level": "info",
            "memory_used": [],
            "project_ref": "hidgiyyunigqazssnydm",
            "reason": null,
            "region": "us-east-1",
            "served_by": "supabase-edge-runtime-1.70.3 (compatible with Deno v2.1.4)",
            "timestamp": "2026-02-16T01:34:12.522Z",
            "version": "23"
          }
        ]
      },
      {
        "event_message": "[POOL DEBUG] {\n  mealType: \"breakfast\",\n  normalizedSlot: \"breakfast\",\n  hadRecipeId: undefined,\n  replaced: false,\n  candidatesFromDb: 60,\n  candidatesStrict: 60,\n  candidatesLoose: 60,\n  afterExclude: 60,\n  beforeMealType: 55,\n  candidatesAfterMealType: 15,\n  afterMealType: 15,\n  blockedBySanityRules: [],\n  mealTypeSamples: undefined,\n  afterProfile: 0,\n  afterFiltersCount: 0,\n  pickedRecipeId: null,\n  rejectReason: \"filtered_by_allergies\",\n  usedTitleKeysCount: 25\n}\n",
        "metadata": [
          {
            "boot_time": null,
            "cpu_time_used": null,
            "deployment_id": "hidgiyyunigqazssnydm_68d27ef6-8413-4eb9-8105-2cfc2b1290c9_23",
            "event_type": "Log",
            "execution_id": "bf7b2346-273d-4bab-a28b-59c020d2f309",
            "function_id": "68d27ef6-8413-4eb9-8105-2cfc2b1290c9",
            "level": "info",
            "memory_used": [],
            "project_ref": "hidgiyyunigqazssnydm",
            "reason": null,
            "region": "us-east-1",
            "served_by": "supabase-edge-runtime-1.70.3 (compatible with Deno v2.1.4)",
            "timestamp": "2026-02-16T01:34:13.531Z",
            "version": "23"
          }
        ]
      },
      {
        "event_message": "[POOL DEBUG] {\n  mealType: \"lunch\",\n  normalizedSlot: \"lunch\",\n  hadRecipeId: undefined,\n  replaced: false,\n  candidatesFromDb: 60,\n  candidatesStrict: 60,\n  candidatesLoose: 60,\n  afterExclude: 60,\n  beforeMealType: 55,\n  candidatesAfterMealType: 8,\n  afterMealType: 8,\n  blockedBySanityRules: [],\n  mealTypeSamples: undefined,\n  afterProfile: 0,\n  afterFiltersCount: 0,\n  pickedRecipeId: null,\n  rejectReason: \"filtered_by_allergies\",\n  usedTitleKeysCount: 25\n}\n",
        "metadata": [
          {
            "boot_time": null,
            "cpu_time_used": null,
            "deployment_id": "hidgiyyunigqazssnydm_68d27ef6-8413-4eb9-8105-2cfc2b1290c9_23",
            "event_type": "Log",
            "execution_id": "bf7b2346-273d-4bab-a28b-59c020d2f309",
            "function_id": "68d27ef6-8413-4eb9-8105-2cfc2b1290c9",
            "level": "info",
            "memory_used": [],
            "project_ref": "hidgiyyunigqazssnydm",
            "reason": null,
            "region": "us-east-1",
            "served_by": "supabase-edge-runtime-1.70.3 (compatible with Deno v2.1.4)",
            "timestamp": "2026-02-16T01:34:13.987Z",
            "version": "23"
          }
        ]
      },
      {
        "event_message": "[POOL DEBUG] {\n  mealType: \"snack\",\n  normalizedSlot: \"snack\",\n  hadRecipeId: undefined,\n  replaced: false,\n  candidatesFromDb: 60,\n  candidatesStrict: 60,\n  candidatesLoose: 60,\n  afterExclude: 60,\n  beforeMealType: 55,\n  candidatesAfterMealType: 17,\n  afterMealType: 17,\n  blockedBySanityRules: [ \"каша\", \"овсян\", \"гречк\", \"суп\", \"фарш\", \"запеканк\" ],\n  mealTypeSamples: undefined,\n  afterProfile: 0,\n  afterFiltersCount: 0,\n  pickedRecipeId: null,\n  rejectReason: \"filtered_by_allergies\",\n  usedTitleKeysCount: 25\n}\n",
        "metadata": [
          {
            "boot_time": null,
            "cpu_time_used": null,
            "deployment_id": "hidgiyyunigqazssnydm_68d27ef6-8413-4eb9-8105-2cfc2b1290c9_23",
            "event_type": "Log",
            "execution_id": "bf7b2346-273d-4bab-a28b-59c020d2f309",
            "function_id": "68d27ef6-8413-4eb9-8105-2cfc2b1290c9",
            "level": "info",
            "memory_used": [],
            "project_ref": "hidgiyyunigqazssnydm",
            "reason": null,
            "region": "us-east-1",
            "served_by": "supabase-edge-runtime-1.70.3 (compatible with Deno v2.1.4)",
            "timestamp": "2026-02-16T01:34:14.348Z",
            "version": "23"
          }
        ]
      },
      {
        "event_message": "[POOL DEBUG] {\n  mealType: \"dinner\",\n  normalizedSlot: \"dinner\",\n  hadRecipeId: undefined,\n  replaced: false,\n  candidatesFromDb: 60,\n  candidatesStrict: 60,\n  candidatesLoose: 60,\n  afterExclude: 60,\n  beforeMealType: 55,\n  candidatesAfterMealType: 14,\n  afterMealType: 14,\n  blockedBySanityRules: [ \"пюре\" ],\n  mealTypeSamples: undefined,\n  afterProfile: 0,\n  afterFiltersCount: 0,\n  pickedRecipeId: null,\n  rejectReason: \"filtered_by_allergies\",\n  usedTitleKeysCount: 25\n}\n",
        "metadata": [
          {
            "boot_time": null,
            "cpu_time_used": null,
            "deployment_id": "hidgiyyunigqazssnydm_68d27ef6-8413-4eb9-8105-2cfc2b1290c9_23",
            "event_type": "Log",
            "execution_id": "bf7b2346-273d-4bab-a28b-59c020d2f309",
            "function_id": "68d27ef6-8413-4eb9-8105-2cfc2b1290c9",
            "level": "info",
            "memory_used": [],
            "project_ref": "hidgiyyunigqazssnydm",
            "reason": null,
            "region": "us-east-1",
            "served_by": "supabase-edge-runtime-1.70.3 (compatible with Deno v2.1.4)",
            "timestamp": "2026-02-16T01:34:14.782Z",
            "version": "23"
          }
        ]
      },
      {
        "event_message": "[POOL DEBUG] AI meal rejected {\n  dayKey: \"2026-02-19\",\n  mealKey: \"breakfast\",\n  title: \"Омлет с овощами на пару\",\n  failReason: \"sanity_hit\"\n}\n",
        "metadata": [
          {
            "boot_time": null,
            "cpu_time_used": null,
            "deployment_id": "hidgiyyunigqazssnydm_68d27ef6-8413-4eb9-8105-2cfc2b1290c9_23",
            "event_type": "Log",
            "execution_id": "bf7b2346-273d-4bab-a28b-59c020d2f309",
            "function_id": "68d27ef6-8413-4eb9-8105-2cfc2b1290c9",
            "level": "info",
            "memory_used": [],
            "project_ref": "hidgiyyunigqazssnydm",
            "reason": null,
            "region": "us-east-1",
            "served_by": "supabase-edge-runtime-1.70.3 (compatible with Deno v2.1.4)",
            "timestamp": "2026-02-16T01:34:57.411Z",
            "version": "23"
          }
        ]
      },
      {
        "event_message": "[POOL DEBUG] AI meal rejected {\n  dayKey: \"2026-02-19\",\n  mealKey: \"lunch\",\n  title: \"Суп-пюре из тыквы с курицей\",\n  failReason: \"allergy\"\n}\n",
        "metadata": [
          {
            "boot_time": null,
            "cpu_time_used": null,
            "deployment_id": "hidgiyyunigqazssnydm_68d27ef6-8413-4eb9-8105-2cfc2b1290c9_23",
            "event_type": "Log",
            "execution_id": "bf7b2346-273d-4bab-a28b-59c020d2f309",
            "function_id": "68d27ef6-8413-4eb9-8105-2cfc2b1290c9",
            "level": "info",
            "memory_used": [],
            "project_ref": "hidgiyyunigqazssnydm",
            "reason": null,
            "region": "us-east-1",
            "served_by": "supabase-edge-runtime-1.70.3 (compatible with Deno v2.1.4)",
            "timestamp": "2026-02-16T01:34:57.411Z",
            "version": "23"
          }
        ]
      },
      {
        "event_message": "[POOL DEBUG] day summary { dayKey: \"2026-02-19\", dbCount: 0, aiCount: 1 }\n",
        "metadata": [
          {
            "boot_time": null,
            "cpu_time_used": null,
            "deployment_id": "hidgiyyunigqazssnydm_68d27ef6-8413-4eb9-8105-2cfc2b1290c9_23",
            "event_type": "Log",
            "execution_id": "bf7b2346-273d-4bab-a28b-59c020d2f309",
            "function_id": "68d27ef6-8413-4eb9-8105-2cfc2b1290c9",
            "level": "info",
            "memory_used": [],
            "project_ref": "hidgiyyunigqazssnydm",
            "reason": null,
            "region": "us-east-1",
            "served_by": "supabase-edge-runtime-1.70.3 (compatible with Deno v2.1.4)",
            "timestamp": "2026-02-16T01:34:57.592Z",
            "version": "23"
          }
        ]
      },
      {
        "event_message": "[POOL DEBUG] AI meal rejected {\n  dayKey: \"2026-02-19\",\n  mealKey: \"dinner\",\n  title: \"Рыбные котлеты с гречкой\",\n  failReason: \"allergy\"\n}\n",
        "metadata": [
          {
            "boot_time": null,
            "cpu_time_used": null,
            "deployment_id": "hidgiyyunigqazssnydm_68d27ef6-8413-4eb9-8105-2cfc2b1290c9_23",
            "event_type": "Log",
            "execution_id": "bf7b2346-273d-4bab-a28b-59c020d2f309",
            "function_id": "68d27ef6-8413-4eb9-8105-2cfc2b1290c9",
            "level": "info",
            "memory_used": [],
            "project_ref": "hidgiyyunigqazssnydm",
            "reason": null,
            "region": "us-east-1",
            "served_by": "supabase-edge-runtime-1.70.3 (compatible with Deno v2.1.4)",
            "timestamp": "2026-02-16T01:34:57.592Z",
            "version": "23"
          }
        ]
      },
      {
        "event_message": "[POOL DEBUG] {\n  mealType: \"breakfast\",\n  normalizedSlot: \"breakfast\",\n  hadRecipeId: undefined,\n  replaced: false,\n  candidatesFromDb: 60,\n  candidatesStrict: 60,\n  candidatesLoose: 60,\n  afterExclude: 60,\n  beforeMealType: 55,\n  candidatesAfterMealType: 15,\n  afterMealType: 15,\n  blockedBySanityRules: [],\n  mealTypeSamples: undefined,\n  afterProfile: 0,\n  afterFiltersCount: 0,\n  pickedRecipeId: null,\n  rejectReason: \"filtered_by_allergies\",\n  usedTitleKeysCount: 26\n}\n",
        "metadata": [
          {
            "boot_time": null,
            "cpu_time_used": null,
            "deployment_id": "hidgiyyunigqazssnydm_68d27ef6-8413-4eb9-8105-2cfc2b1290c9_23",
            "event_type": "Log",
            "execution_id": "bf7b2346-273d-4bab-a28b-59c020d2f309",
            "function_id": "68d27ef6-8413-4eb9-8105-2cfc2b1290c9",
            "level": "info",
            "memory_used": [],
            "project_ref": "hidgiyyunigqazssnydm",
            "reason": null,
            "region": "us-east-1",
            "served_by": "supabase-edge-runtime-1.70.3 (compatible with Deno v2.1.4)",
            "timestamp": "2026-02-16T01:34:58.409Z",
            "version": "23"
          }
        ]
      },
      {
        "event_message": "[POOL DEBUG] {\n  mealType: \"lunch\",\n  normalizedSlot: \"lunch\",\n  hadRecipeId: undefined,\n  replaced: false,\n  candidatesFromDb: 60,\n  candidatesStrict: 60,\n  candidatesLoose: 60,\n  afterExclude: 60,\n  beforeMealType: 55,\n  candidatesAfterMealType: 8,\n  afterMealType: 8,\n  blockedBySanityRules: [],\n  mealTypeSamples: undefined,\n  afterProfile: 0,\n  afterFiltersCount: 0,\n  pickedRecipeId: null,\n  rejectReason: \"filtered_by_allergies\",\n  usedTitleKeysCount: 26\n}\n",
        "metadata": [
          {
            "boot_time": null,
            "cpu_time_used": null,
            "deployment_id": "hidgiyyunigqazssnydm_68d27ef6-8413-4eb9-8105-2cfc2b1290c9_23",
            "event_type": "Log",
            "execution_id": "bf7b2346-273d-4bab-a28b-59c020d2f309",
            "function_id": "68d27ef6-8413-4eb9-8105-2cfc2b1290c9",
            "level": "info",
            "memory_used": [],
            "project_ref": "hidgiyyunigqazssnydm",
            "reason": null,
            "region": "us-east-1",
            "served_by": "supabase-edge-runtime-1.70.3 (compatible with Deno v2.1.4)",
            "timestamp": "2026-02-16T01:34:58.740Z",
            "version": "23"
          }
        ]
      },
      {
        "event_message": "[POOL DEBUG] {\n  mealType: \"snack\",\n  normalizedSlot: \"snack\",\n  hadRecipeId: undefined,\n  replaced: false,\n  candidatesFromDb: 60,\n  candidatesStrict: 60,\n  candidatesLoose: 60,\n  afterExclude: 60,\n  beforeMealType: 55,\n  candidatesAfterMealType: 17,\n  afterMealType: 17,\n  blockedBySanityRules: [ \"каша\", \"овсян\", \"гречк\", \"суп\", \"фарш\", \"запеканк\" ],\n  mealTypeSamples: undefined,\n  afterProfile: 0,\n  afterFiltersCount: 0,\n  pickedRecipeId: null,\n  rejectReason: \"filtered_by_allergies\",\n  usedTitleKeysCount: 26\n}\n",
        "metadata": [
          {
            "boot_time": null,
            "cpu_time_used": null,
            "deployment_id": "hidgiyyunigqazssnydm_68d27ef6-8413-4eb9-8105-2cfc2b1290c9_23",
            "event_type": "Log",
            "execution_id": "bf7b2346-273d-4bab-a28b-59c020d2f309",
            "function_id": "68d27ef6-8413-4eb9-8105-2cfc2b1290c9",
            "level": "info",
            "memory_used": [],
            "project_ref": "hidgiyyunigqazssnydm",
            "reason": null,
            "region": "us-east-1",
            "served_by": "supabase-edge-runtime-1.70.3 (compatible with Deno v2.1.4)",
            "timestamp": "2026-02-16T01:34:59.057Z",
            "version": "23"
          }
        ]
      },
      {
        "event_message": "[POOL DEBUG] {\n  mealType: \"dinner\",\n  normalizedSlot: \"dinner\",\n  hadRecipeId: undefined,\n  replaced: false,\n  candidatesFromDb: 60,\n  candidatesStrict: 60,\n  candidatesLoose: 60,\n  afterExclude: 60,\n  beforeMealType: 55,\n  candidatesAfterMealType: 14,\n  afterMealType: 14,\n  blockedBySanityRules: [ \"пюре\" ],\n  mealTypeSamples: undefined,\n  afterProfile: 0,\n  afterFiltersCount: 0,\n  pickedRecipeId: null,\n  rejectReason: \"filtered_by_allergies\",\n  usedTitleKeysCount: 26\n}\n",
        "metadata": [
          {
            "boot_time": null,
            "cpu_time_used": null,
            "deployment_id": "hidgiyyunigqazssnydm_68d27ef6-8413-4eb9-8105-2cfc2b1290c9_23",
            "event_type": "Log",
            "execution_id": "bf7b2346-273d-4bab-a28b-59c020d2f309",
            "function_id": "68d27ef6-8413-4eb9-8105-2cfc2b1290c9",
            "level": "info",
            "memory_used": [],
            "project_ref": "hidgiyyunigqazssnydm",
            "reason": null,
            "region": "us-east-1",
            "served_by": "supabase-edge-runtime-1.70.3 (compatible with Deno v2.1.4)",
            "timestamp": "2026-02-16T01:34:59.388Z",
            "version": "23"
          }
        ]
      }
    ]
  }
}